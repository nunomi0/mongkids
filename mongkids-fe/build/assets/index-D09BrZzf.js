function Jw(e,t){for(var r=0;r<t.length;r++){const o=t[r];if(typeof o!="string"&&!Array.isArray(o)){for(const a in o)if(a!=="default"&&!(a in e)){const c=Object.getOwnPropertyDescriptor(o,a);c&&Object.defineProperty(e,a,c.get?c:{enumerable:!0,get:()=>o[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();function Hd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Zw(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var a=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(r,o,a.get?a:{enumerable:!0,get:function(){return e[o]}})}),r}var Ru={exports:{}},ja={},Mu={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function e_(){if(hm)return Ke;hm=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,_={};function k(F,X,ve){this.props=F,this.context=X,this.refs=_,this.updater=ve||j}k.prototype.isReactComponent={},k.prototype.setState=function(F,X){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,X,"setState")},k.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function O(){}O.prototype=k.prototype;function P(F,X,ve){this.props=F,this.context=X,this.refs=_,this.updater=ve||j}var E=P.prototype=new O;E.constructor=P,b(E,k.prototype),E.isPureReactComponent=!0;var T=Array.isArray,L=Object.prototype.hasOwnProperty,B={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function A(F,X,ve){var ae,Te={},ze=null,ne=null;if(X!=null)for(ae in X.ref!==void 0&&(ne=X.ref),X.key!==void 0&&(ze=""+X.key),X)L.call(X,ae)&&!W.hasOwnProperty(ae)&&(Te[ae]=X[ae]);var Ce=arguments.length-2;if(Ce===1)Te.children=ve;else if(1<Ce){for(var Fe=Array(Ce),De=0;De<Ce;De++)Fe[De]=arguments[De+2];Te.children=Fe}if(F&&F.defaultProps)for(ae in Ce=F.defaultProps,Ce)Te[ae]===void 0&&(Te[ae]=Ce[ae]);return{$$typeof:e,type:F,key:ze,ref:ne,props:Te,_owner:B.current}}function q(F,X){return{$$typeof:e,type:F.type,key:X,ref:F.ref,props:F.props,_owner:F._owner}}function Y(F){return typeof F=="object"&&F!==null&&F.$$typeof===e}function Z(F){var X={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(ve){return X[ve]})}var ce=/\/+/g;function we(F,X){return typeof F=="object"&&F!==null&&F.key!=null?Z(""+F.key):X.toString(36)}function ge(F,X,ve,ae,Te){var ze=typeof F;(ze==="undefined"||ze==="boolean")&&(F=null);var ne=!1;if(F===null)ne=!0;else switch(ze){case"string":case"number":ne=!0;break;case"object":switch(F.$$typeof){case e:case t:ne=!0}}if(ne)return ne=F,Te=Te(ne),F=ae===""?"."+we(ne,0):ae,T(Te)?(ve="",F!=null&&(ve=F.replace(ce,"$&/")+"/"),ge(Te,X,ve,"",function(De){return De})):Te!=null&&(Y(Te)&&(Te=q(Te,ve+(!Te.key||ne&&ne.key===Te.key?"":(""+Te.key).replace(ce,"$&/")+"/")+F)),X.push(Te)),1;if(ne=0,ae=ae===""?".":ae+":",T(F))for(var Ce=0;Ce<F.length;Ce++){ze=F[Ce];var Fe=ae+we(ze,Ce);ne+=ge(ze,X,ve,Fe,Te)}else if(Fe=w(F),typeof Fe=="function")for(F=Fe.call(F),Ce=0;!(ze=F.next()).done;)ze=ze.value,Fe=ae+we(ze,Ce++),ne+=ge(ze,X,ve,Fe,Te);else if(ze==="object")throw X=String(F),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return ne}function Pe(F,X,ve){if(F==null)return F;var ae=[],Te=0;return ge(F,ae,"","",function(ze){return X.call(ve,ze,Te++)}),ae}function de(F){if(F._status===-1){var X=F._result;X=X(),X.then(function(ve){(F._status===0||F._status===-1)&&(F._status=1,F._result=ve)},function(ve){(F._status===0||F._status===-1)&&(F._status=2,F._result=ve)}),F._status===-1&&(F._status=0,F._result=X)}if(F._status===1)return F._result.default;throw F._result}var Q={current:null},R={transition:null},ie={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:R,ReactCurrentOwner:B};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:Pe,forEach:function(F,X,ve){Pe(F,function(){X.apply(this,arguments)},ve)},count:function(F){var X=0;return Pe(F,function(){X++}),X},toArray:function(F){return Pe(F,function(X){return X})||[]},only:function(F){if(!Y(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ke.Component=k,Ke.Fragment=r,Ke.Profiler=a,Ke.PureComponent=P,Ke.StrictMode=o,Ke.Suspense=p,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Ke.act=te,Ke.cloneElement=function(F,X,ve){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ae=b({},F.props),Te=F.key,ze=F.ref,ne=F._owner;if(X!=null){if(X.ref!==void 0&&(ze=X.ref,ne=B.current),X.key!==void 0&&(Te=""+X.key),F.type&&F.type.defaultProps)var Ce=F.type.defaultProps;for(Fe in X)L.call(X,Fe)&&!W.hasOwnProperty(Fe)&&(ae[Fe]=X[Fe]===void 0&&Ce!==void 0?Ce[Fe]:X[Fe])}var Fe=arguments.length-2;if(Fe===1)ae.children=ve;else if(1<Fe){Ce=Array(Fe);for(var De=0;De<Fe;De++)Ce[De]=arguments[De+2];ae.children=Ce}return{$$typeof:e,type:F.type,key:Te,ref:ze,props:ae,_owner:ne}},Ke.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:c,_context:F},F.Consumer=F},Ke.createElement=A,Ke.createFactory=function(F){var X=A.bind(null,F);return X.type=F,X},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(F){return{$$typeof:f,render:F}},Ke.isValidElement=Y,Ke.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:de}},Ke.memo=function(F,X){return{$$typeof:m,type:F,compare:X===void 0?null:X}},Ke.startTransition=function(F){var X=R.transition;R.transition={};try{F()}finally{R.transition=X}},Ke.unstable_act=te,Ke.useCallback=function(F,X){return Q.current.useCallback(F,X)},Ke.useContext=function(F){return Q.current.useContext(F)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(F){return Q.current.useDeferredValue(F)},Ke.useEffect=function(F,X){return Q.current.useEffect(F,X)},Ke.useId=function(){return Q.current.useId()},Ke.useImperativeHandle=function(F,X,ve){return Q.current.useImperativeHandle(F,X,ve)},Ke.useInsertionEffect=function(F,X){return Q.current.useInsertionEffect(F,X)},Ke.useLayoutEffect=function(F,X){return Q.current.useLayoutEffect(F,X)},Ke.useMemo=function(F,X){return Q.current.useMemo(F,X)},Ke.useReducer=function(F,X,ve){return Q.current.useReducer(F,X,ve)},Ke.useRef=function(F){return Q.current.useRef(F)},Ke.useState=function(F){return Q.current.useState(F)},Ke.useSyncExternalStore=function(F,X,ve){return Q.current.useSyncExternalStore(F,X,ve)},Ke.useTransition=function(){return Q.current.useTransition()},Ke.version="18.3.1",Ke}var pm;function Vd(){return pm||(pm=1,Mu.exports=e_()),Mu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mm;function t_(){if(mm)return ja;mm=1;var e=Vd(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(f,p,m){var g,y={},w=null,j=null;m!==void 0&&(w=""+m),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(j=p.ref);for(g in p)o.call(p,g)&&!c.hasOwnProperty(g)&&(y[g]=p[g]);if(f&&f.defaultProps)for(g in p=f.defaultProps,p)y[g]===void 0&&(y[g]=p[g]);return{$$typeof:t,type:f,key:w,ref:j,props:y,_owner:a.current}}return ja.Fragment=r,ja.jsx=u,ja.jsxs=u,ja}var gm;function n_(){return gm||(gm=1,Ru.exports=t_()),Ru.exports}var i=n_(),sl={},Au={exports:{}},pn={},Iu={exports:{}},Lu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm;function r_(){return vm||(vm=1,(function(e){function t(R,ie){var te=R.length;R.push(ie);e:for(;0<te;){var F=te-1>>>1,X=R[F];if(0<a(X,ie))R[F]=ie,R[te]=X,te=F;else break e}}function r(R){return R.length===0?null:R[0]}function o(R){if(R.length===0)return null;var ie=R[0],te=R.pop();if(te!==ie){R[0]=te;e:for(var F=0,X=R.length,ve=X>>>1;F<ve;){var ae=2*(F+1)-1,Te=R[ae],ze=ae+1,ne=R[ze];if(0>a(Te,te))ze<X&&0>a(ne,Te)?(R[F]=ne,R[ze]=te,F=ze):(R[F]=Te,R[ae]=te,F=ae);else if(ze<X&&0>a(ne,te))R[F]=ne,R[ze]=te,F=ze;else break e}}return ie}function a(R,ie){var te=R.sortIndex-ie.sortIndex;return te!==0?te:R.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var p=[],m=[],g=1,y=null,w=3,j=!1,b=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(R){for(var ie=r(m);ie!==null;){if(ie.callback===null)o(m);else if(ie.startTime<=R)o(m),ie.sortIndex=ie.expirationTime,t(p,ie);else break;ie=r(m)}}function T(R){if(_=!1,E(R),!b)if(r(p)!==null)b=!0,de(L);else{var ie=r(m);ie!==null&&Q(T,ie.startTime-R)}}function L(R,ie){b=!1,_&&(_=!1,O(A),A=-1),j=!0;var te=w;try{for(E(ie),y=r(p);y!==null&&(!(y.expirationTime>ie)||R&&!Z());){var F=y.callback;if(typeof F=="function"){y.callback=null,w=y.priorityLevel;var X=F(y.expirationTime<=ie);ie=e.unstable_now(),typeof X=="function"?y.callback=X:y===r(p)&&o(p),E(ie)}else o(p);y=r(p)}if(y!==null)var ve=!0;else{var ae=r(m);ae!==null&&Q(T,ae.startTime-ie),ve=!1}return ve}finally{y=null,w=te,j=!1}}var B=!1,W=null,A=-1,q=5,Y=-1;function Z(){return!(e.unstable_now()-Y<q)}function ce(){if(W!==null){var R=e.unstable_now();Y=R;var ie=!0;try{ie=W(!0,R)}finally{ie?we():(B=!1,W=null)}}else B=!1}var we;if(typeof P=="function")we=function(){P(ce)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Pe=ge.port2;ge.port1.onmessage=ce,we=function(){Pe.postMessage(null)}}else we=function(){k(ce,0)};function de(R){W=R,B||(B=!0,we())}function Q(R,ie){A=k(function(){R(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){b||j||(b=!0,de(L))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return r(p)},e.unstable_next=function(R){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var te=w;w=ie;try{return R()}finally{w=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,ie){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var te=w;w=R;try{return ie()}finally{w=te}},e.unstable_scheduleCallback=function(R,ie,te){var F=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?F+te:F):te=F,R){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=te+X,R={id:g++,callback:ie,priorityLevel:R,startTime:te,expirationTime:X,sortIndex:-1},te>F?(R.sortIndex=te,t(m,R),r(p)===null&&R===r(m)&&(_?(O(A),A=-1):_=!0,Q(T,te-F))):(R.sortIndex=X,t(p,R),b||j||(b=!0,de(L))),R},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(R){var ie=w;return function(){var te=w;w=ie;try{return R.apply(this,arguments)}finally{w=te}}}})(Lu)),Lu}var ym;function s_(){return ym||(ym=1,Iu.exports=r_()),Iu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function o_(){if(xm)return pn;xm=1;var e=Vd(),t=s_();function r(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(n,s){u(n,s),u(n+"Capture",s)}function u(n,s){for(a[n]=s,n=0;n<s.length;n++)o.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function w(n){return p.call(y,n)?!0:p.call(g,n)?!1:m.test(n)?y[n]=!0:(g[n]=!0,!1)}function j(n,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function b(n,s,l,d){if(s===null||typeof s>"u"||j(n,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function _(n,s,l,d,h,v,S){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=h,this.mustUseProperty=l,this.propertyName=n,this.type=s,this.sanitizeURL=v,this.removeEmptyString=S}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){k[n]=new _(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];k[s]=new _(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){k[n]=new _(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){k[n]=new _(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){k[n]=new _(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){k[n]=new _(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){k[n]=new _(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){k[n]=new _(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){k[n]=new _(n,5,!1,n.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function P(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(O,P);k[s]=new _(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(O,P);k[s]=new _(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(O,P);k[s]=new _(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){k[n]=new _(n,1,!1,n.toLowerCase(),null,!1,!1)}),k.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){k[n]=new _(n,1,!1,n.toLowerCase(),null,!0,!0)});function E(n,s,l,d){var h=k.hasOwnProperty(s)?k[s]:null;(h!==null?h.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,l,h,d)&&(l=null),d||h===null?w(s)&&(l===null?n.removeAttribute(s):n.setAttribute(s,""+l)):h.mustUseProperty?n[h.propertyName]=l===null?h.type===3?!1:"":l:(s=h.attributeName,d=h.attributeNamespace,l===null?n.removeAttribute(s):(h=h.type,l=h===3||h===4&&l===!0?"":""+l,d?n.setAttributeNS(d,s,l):n.setAttribute(s,l))))}var T=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),B=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),Z=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),we=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),R=Symbol.iterator;function ie(n){return n===null||typeof n!="object"?null:(n=R&&n[R]||n["@@iterator"],typeof n=="function"?n:null)}var te=Object.assign,F;function X(n){if(F===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);F=s&&s[1]||""}return`
`+F+n}var ve=!1;function ae(n,s){if(!n||ve)return"";ve=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(V){var d=V}Reflect.construct(n,[],s)}else{try{s.call()}catch(V){d=V}n.call(s.prototype)}else{try{throw Error()}catch(V){d=V}n()}}catch(V){if(V&&d&&typeof V.stack=="string"){for(var h=V.stack.split(`
`),v=d.stack.split(`
`),S=h.length-1,D=v.length-1;1<=S&&0<=D&&h[S]!==v[D];)D--;for(;1<=S&&0<=D;S--,D--)if(h[S]!==v[D]){if(S!==1||D!==1)do if(S--,D--,0>D||h[S]!==v[D]){var I=`
`+h[S].replace(" at new "," at ");return n.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",n.displayName)),I}while(1<=S&&0<=D);break}}}finally{ve=!1,Error.prepareStackTrace=l}return(n=n?n.displayName||n.name:"")?X(n):""}function Te(n){switch(n.tag){case 5:return X(n.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return n=ae(n.type,!1),n;case 11:return n=ae(n.type.render,!1),n;case 1:return n=ae(n.type,!0),n;default:return""}}function ze(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case W:return"Fragment";case B:return"Portal";case q:return"Profiler";case A:return"StrictMode";case we:return"Suspense";case ge:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Z:return(n.displayName||"Context")+".Consumer";case Y:return(n._context.displayName||"Context")+".Provider";case ce:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Pe:return s=n.displayName||null,s!==null?s:ze(n.type)||"Memo";case de:s=n._payload,n=n._init;try{return ze(n(s))}catch{}}return null}function ne(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ze(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Ce(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Fe(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function De(n){var s=Fe(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),d=""+n[s];if(!n.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,v=l.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return h.call(this)},set:function(S){d=""+S,v.call(this,S)}}),Object.defineProperty(n,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(S){d=""+S},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function qe(n){n._valueTracker||(n._valueTracker=De(n))}function Ze(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return n&&(d=Fe(n)?n.checked?"true":"false":n.value),n=d,n!==l?(s.setValue(n),!0):!1}function yt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Jt(n,s){var l=s.checked;return te({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??n._wrapperState.initialChecked})}function Ut(n,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Ce(s.value!=null?s.value:l),n._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Me(n,s){s=s.checked,s!=null&&E(n,"checked",s,!1)}function ht(n,s){Me(n,s);var l=Ce(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&n.value===""||n.value!=l)&&(n.value=""+l):n.value!==""+l&&(n.value=""+l);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?An(n,s.type,l):s.hasOwnProperty("defaultValue")&&An(n,s.type,Ce(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function $t(n,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,l||s===n.value||(n.value=s),n.defaultValue=s}l=n.name,l!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,l!==""&&(n.name=l)}function An(n,s,l){(s!=="number"||yt(n.ownerDocument)!==n)&&(l==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+l&&(n.defaultValue=""+l))}var Cn=Array.isArray;function ln(n,s,l,d){if(n=n.options,s){s={};for(var h=0;h<l.length;h++)s["$"+l[h]]=!0;for(l=0;l<n.length;l++)h=s.hasOwnProperty("$"+n[l].value),n[l].selected!==h&&(n[l].selected=h),h&&d&&(n[l].defaultSelected=!0)}else{for(l=""+Ce(l),s=null,h=0;h<n.length;h++){if(n[h].value===l){n[h].selected=!0,d&&(n[h].defaultSelected=!0);return}s!==null||n[h].disabled||(s=n[h])}s!==null&&(s.selected=!0)}}function Bt(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return te({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function En(n,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(r(92));if(Cn(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),l=s}n._wrapperState={initialValue:Ce(l)}}function Lr(n,s){var l=Ce(s.value),d=Ce(s.defaultValue);l!=null&&(l=""+l,l!==n.value&&(n.value=l),s.defaultValue==null&&n.defaultValue!==l&&(n.defaultValue=l)),d!=null&&(n.defaultValue=""+d)}function yr(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function In(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xr(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?In(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Zn,er=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,h){MSApp.execUnsafeLocalFunction(function(){return n(s,l,d,h)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(Zn=Zn||document.createElement("div"),Zn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Zn.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Ht(n,s){if(s){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=s;return}}n.textContent=s}var jt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wr=["Webkit","ms","Moz","O"];Object.keys(jt).forEach(function(n){wr.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),jt[s]=jt[n]})});function tr(n,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||jt.hasOwnProperty(n)&&jt[n]?(""+s).trim():s+"px"}function _r(n,s){n=n.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,h=tr(l,s[l],d);l==="float"&&(l="cssFloat"),d?n.setProperty(l,h):n[l]=h}}var $r=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ln(n,s){if(s){if($r[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function C(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N=null;function M(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var z=null,K=null,re=null;function G(n){if(n=ua(n)){if(typeof z!="function")throw Error(r(280));var s=n.stateNode;s&&(s=xi(s),z(n.stateNode,n.type,s))}}function fe(n){K?re?re.push(n):re=[n]:K=n}function he(){if(K){var n=K,s=re;if(re=K=null,G(n),s)for(n=0;n<s.length;n++)G(s[n])}}function pe(n,s){return n(s)}function ke(){}var le=!1;function Ne(n,s,l){if(le)return n(s,l);le=!0;try{return pe(n,s,l)}finally{le=!1,(K!==null||re!==null)&&(ke(),he())}}function Re(n,s){var l=n.stateNode;if(l===null)return null;var d=xi(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var Oe=!1;if(f)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch{Oe=!1}function Je(n,s,l,d,h,v,S,D,I){var V=Array.prototype.slice.call(arguments,3);try{s.apply(l,V)}catch(ee){this.onError(ee)}}var Ft=!1,nr=null,rr=!1,Zt=null,Jl={onError:function(n){Ft=!0,nr=n}};function Ja(n,s,l,d,h,v,S,D,I){Ft=!1,nr=null,Je.apply(Jl,arguments)}function i0(n,s,l,d,h,v,S,D,I){if(Ja.apply(this,arguments),Ft){if(Ft){var V=nr;Ft=!1,nr=null}else throw Error(r(198));rr||(rr=!0,Zt=V)}}function gs(n){var s=n,l=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(l=s.return),n=s.return;while(n)}return s.tag===3?l:null}function If(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Lf(n){if(gs(n)!==n)throw Error(r(188))}function l0(n){var s=n.alternate;if(!s){if(s=gs(n),s===null)throw Error(r(188));return s!==n?null:n}for(var l=n,d=s;;){var h=l.return;if(h===null)break;var v=h.alternate;if(v===null){if(d=h.return,d!==null){l=d;continue}break}if(h.child===v.child){for(v=h.child;v;){if(v===l)return Lf(h),n;if(v===d)return Lf(h),s;v=v.sibling}throw Error(r(188))}if(l.return!==d.return)l=h,d=v;else{for(var S=!1,D=h.child;D;){if(D===l){S=!0,l=h,d=v;break}if(D===d){S=!0,d=h,l=v;break}D=D.sibling}if(!S){for(D=v.child;D;){if(D===l){S=!0,l=v,d=h;break}if(D===d){S=!0,d=v,l=h;break}D=D.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==d)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?n:s}function $f(n){return n=l0(n),n!==null?Ff(n):null}function Ff(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=Ff(n);if(s!==null)return s;n=n.sibling}return null}var zf=t.unstable_scheduleCallback,Wf=t.unstable_cancelCallback,c0=t.unstable_shouldYield,u0=t.unstable_requestPaint,xt=t.unstable_now,d0=t.unstable_getCurrentPriorityLevel,Zl=t.unstable_ImmediatePriority,Uf=t.unstable_UserBlockingPriority,Za=t.unstable_NormalPriority,f0=t.unstable_LowPriority,Bf=t.unstable_IdlePriority,ei=null,sr=null;function h0(n){if(sr&&typeof sr.onCommitFiberRoot=="function")try{sr.onCommitFiberRoot(ei,n,void 0,(n.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:g0,p0=Math.log,m0=Math.LN2;function g0(n){return n>>>=0,n===0?32:31-(p0(n)/m0|0)|0}var ti=64,ni=4194304;function qo(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ri(n,s){var l=n.pendingLanes;if(l===0)return 0;var d=0,h=n.suspendedLanes,v=n.pingedLanes,S=l&268435455;if(S!==0){var D=S&~h;D!==0?d=qo(D):(v&=S,v!==0&&(d=qo(v)))}else S=l&~h,S!==0?d=qo(S):v!==0&&(d=qo(v));if(d===0)return 0;if(s!==0&&s!==d&&(s&h)===0&&(h=d&-d,v=s&-s,h>=v||h===16&&(v&4194240)!==0))return s;if((d&4)!==0&&(d|=l&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=d;0<s;)l=31-$n(s),h=1<<l,d|=n[l],s&=~h;return d}function v0(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function y0(n,s){for(var l=n.suspendedLanes,d=n.pingedLanes,h=n.expirationTimes,v=n.pendingLanes;0<v;){var S=31-$n(v),D=1<<S,I=h[S];I===-1?((D&l)===0||(D&d)!==0)&&(h[S]=v0(D,s)):I<=s&&(n.expiredLanes|=D),v&=~D}}function ec(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Hf(){var n=ti;return ti<<=1,(ti&4194240)===0&&(ti=64),n}function tc(n){for(var s=[],l=0;31>l;l++)s.push(n);return s}function Yo(n,s,l){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-$n(s),n[s]=l}function x0(n,s){var l=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<l;){var h=31-$n(l),v=1<<h;s[h]=0,d[h]=-1,n[h]=-1,l&=~v}}function nc(n,s){var l=n.entangledLanes|=s;for(n=n.entanglements;l;){var d=31-$n(l),h=1<<d;h&s|n[d]&s&&(n[d]|=s),l&=~h}}var st=0;function Vf(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var qf,rc,Yf,Kf,Gf,sc=!1,si=[],Fr=null,zr=null,Wr=null,Ko=new Map,Go=new Map,Ur=[],w0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qf(n,s){switch(n){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Ko.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(s.pointerId)}}function Qo(n,s,l,d,h,v){return n===null||n.nativeEvent!==v?(n={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[h]},s!==null&&(s=ua(s),s!==null&&rc(s)),n):(n.eventSystemFlags|=d,s=n.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),n)}function _0(n,s,l,d,h){switch(s){case"focusin":return Fr=Qo(Fr,n,s,l,d,h),!0;case"dragenter":return zr=Qo(zr,n,s,l,d,h),!0;case"mouseover":return Wr=Qo(Wr,n,s,l,d,h),!0;case"pointerover":var v=h.pointerId;return Ko.set(v,Qo(Ko.get(v)||null,n,s,l,d,h)),!0;case"gotpointercapture":return v=h.pointerId,Go.set(v,Qo(Go.get(v)||null,n,s,l,d,h)),!0}return!1}function Xf(n){var s=vs(n.target);if(s!==null){var l=gs(s);if(l!==null){if(s=l.tag,s===13){if(s=If(l),s!==null){n.blockedOn=s,Gf(n.priority,function(){Yf(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function oi(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var l=ac(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(l===null){l=n.nativeEvent;var d=new l.constructor(l.type,l);N=d,l.target.dispatchEvent(d),N=null}else return s=ua(l),s!==null&&rc(s),n.blockedOn=l,!1;s.shift()}return!0}function Jf(n,s,l){oi(n)&&l.delete(s)}function b0(){sc=!1,Fr!==null&&oi(Fr)&&(Fr=null),zr!==null&&oi(zr)&&(zr=null),Wr!==null&&oi(Wr)&&(Wr=null),Ko.forEach(Jf),Go.forEach(Jf)}function Xo(n,s){n.blockedOn===s&&(n.blockedOn=null,sc||(sc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,b0)))}function Jo(n){function s(h){return Xo(h,n)}if(0<si.length){Xo(si[0],n);for(var l=1;l<si.length;l++){var d=si[l];d.blockedOn===n&&(d.blockedOn=null)}}for(Fr!==null&&Xo(Fr,n),zr!==null&&Xo(zr,n),Wr!==null&&Xo(Wr,n),Ko.forEach(s),Go.forEach(s),l=0;l<Ur.length;l++)d=Ur[l],d.blockedOn===n&&(d.blockedOn=null);for(;0<Ur.length&&(l=Ur[0],l.blockedOn===null);)Xf(l),l.blockedOn===null&&Ur.shift()}var Vs=T.ReactCurrentBatchConfig,ai=!0;function S0(n,s,l,d){var h=st,v=Vs.transition;Vs.transition=null;try{st=1,oc(n,s,l,d)}finally{st=h,Vs.transition=v}}function k0(n,s,l,d){var h=st,v=Vs.transition;Vs.transition=null;try{st=4,oc(n,s,l,d)}finally{st=h,Vs.transition=v}}function oc(n,s,l,d){if(ai){var h=ac(n,s,l,d);if(h===null)Sc(n,s,d,ii,l),Qf(n,d);else if(_0(h,n,s,l,d))d.stopPropagation();else if(Qf(n,d),s&4&&-1<w0.indexOf(n)){for(;h!==null;){var v=ua(h);if(v!==null&&qf(v),v=ac(n,s,l,d),v===null&&Sc(n,s,d,ii,l),v===h)break;h=v}h!==null&&d.stopPropagation()}else Sc(n,s,d,null,l)}}var ii=null;function ac(n,s,l,d){if(ii=null,n=M(d),n=vs(n),n!==null)if(s=gs(n),s===null)n=null;else if(l=s.tag,l===13){if(n=If(s),n!==null)return n;n=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return ii=n,null}function Zf(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(d0()){case Zl:return 1;case Uf:return 4;case Za:case f0:return 16;case Bf:return 536870912;default:return 16}default:return 16}}var Br=null,ic=null,li=null;function eh(){if(li)return li;var n,s=ic,l=s.length,d,h="value"in Br?Br.value:Br.textContent,v=h.length;for(n=0;n<l&&s[n]===h[n];n++);var S=l-n;for(d=1;d<=S&&s[l-d]===h[v-d];d++);return li=h.slice(n,1<d?1-d:void 0)}function ci(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function ui(){return!0}function th(){return!1}function xn(n){function s(l,d,h,v,S){this._reactName=l,this._targetInst=h,this.type=d,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var D in n)n.hasOwnProperty(D)&&(l=n[D],this[D]=l?l(v):v[D]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ui:th,this.isPropagationStopped=th,this}return te(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ui)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ui)},persist:function(){},isPersistent:ui}),s}var qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lc=xn(qs),Zo=te({},qs,{view:0,detail:0}),j0=xn(Zo),cc,uc,ea,di=te({},Zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ea&&(ea&&n.type==="mousemove"?(cc=n.screenX-ea.screenX,uc=n.screenY-ea.screenY):uc=cc=0,ea=n),cc)},movementY:function(n){return"movementY"in n?n.movementY:uc}}),nh=xn(di),N0=te({},di,{dataTransfer:0}),C0=xn(N0),E0=te({},Zo,{relatedTarget:0}),dc=xn(E0),P0=te({},qs,{animationName:0,elapsedTime:0,pseudoElement:0}),T0=xn(P0),O0=te({},qs,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),D0=xn(O0),R0=te({},qs,{data:0}),rh=xn(R0),M0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function L0(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=I0[n])?!!s[n]:!1}function fc(){return L0}var $0=te({},Zo,{key:function(n){if(n.key){var s=M0[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ci(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?A0[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fc,charCode:function(n){return n.type==="keypress"?ci(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ci(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),F0=xn($0),z0=te({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sh=xn(z0),W0=te({},Zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fc}),U0=xn(W0),B0=te({},qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),H0=xn(B0),V0=te({},di,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),q0=xn(V0),Y0=[9,13,27,32],hc=f&&"CompositionEvent"in window,ta=null;f&&"documentMode"in document&&(ta=document.documentMode);var K0=f&&"TextEvent"in window&&!ta,oh=f&&(!hc||ta&&8<ta&&11>=ta),ah=" ",ih=!1;function lh(n,s){switch(n){case"keyup":return Y0.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ch(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ys=!1;function G0(n,s){switch(n){case"compositionend":return ch(s);case"keypress":return s.which!==32?null:(ih=!0,ah);case"textInput":return n=s.data,n===ah&&ih?null:n;default:return null}}function Q0(n,s){if(Ys)return n==="compositionend"||!hc&&lh(n,s)?(n=eh(),li=ic=Br=null,Ys=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return oh&&s.locale!=="ko"?null:s.data;default:return null}}var X0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!X0[n.type]:s==="textarea"}function dh(n,s,l,d){fe(d),s=gi(s,"onChange"),0<s.length&&(l=new lc("onChange","change",null,l,d),n.push({event:l,listeners:s}))}var na=null,ra=null;function J0(n){Ph(n,0)}function fi(n){var s=Js(n);if(Ze(s))return n}function Z0(n,s){if(n==="change")return s}var fh=!1;if(f){var pc;if(f){var mc="oninput"in document;if(!mc){var hh=document.createElement("div");hh.setAttribute("oninput","return;"),mc=typeof hh.oninput=="function"}pc=mc}else pc=!1;fh=pc&&(!document.documentMode||9<document.documentMode)}function ph(){na&&(na.detachEvent("onpropertychange",mh),ra=na=null)}function mh(n){if(n.propertyName==="value"&&fi(ra)){var s=[];dh(s,ra,n,M(n)),Ne(J0,s)}}function ew(n,s,l){n==="focusin"?(ph(),na=s,ra=l,na.attachEvent("onpropertychange",mh)):n==="focusout"&&ph()}function tw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return fi(ra)}function nw(n,s){if(n==="click")return fi(s)}function rw(n,s){if(n==="input"||n==="change")return fi(s)}function sw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Fn=typeof Object.is=="function"?Object.is:sw;function sa(n,s){if(Fn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var l=Object.keys(n),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var h=l[d];if(!p.call(s,h)||!Fn(n[h],s[h]))return!1}return!0}function gh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function vh(n,s){var l=gh(n);n=0;for(var d;l;){if(l.nodeType===3){if(d=n+l.textContent.length,n<=s&&d>=s)return{node:l,offset:s-n};n=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=gh(l)}}function yh(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?yh(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function xh(){for(var n=window,s=yt();s instanceof n.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)n=s.contentWindow;else break;s=yt(n.document)}return s}function gc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function ow(n){var s=xh(),l=n.focusedElem,d=n.selectionRange;if(s!==l&&l&&l.ownerDocument&&yh(l.ownerDocument.documentElement,l)){if(d!==null&&gc(l)){if(s=d.start,n=d.end,n===void 0&&(n=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(n,l.value.length);else if(n=(s=l.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var h=l.textContent.length,v=Math.min(d.start,h);d=d.end===void 0?v:Math.min(d.end,h),!n.extend&&v>d&&(h=d,d=v,v=h),h=vh(l,v);var S=vh(l,d);h&&S&&(n.rangeCount!==1||n.anchorNode!==h.node||n.anchorOffset!==h.offset||n.focusNode!==S.node||n.focusOffset!==S.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),n.removeAllRanges(),v>d?(n.addRange(s),n.extend(S.node,S.offset)):(s.setEnd(S.node,S.offset),n.addRange(s)))}}for(s=[],n=l;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)n=s[l],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var aw=f&&"documentMode"in document&&11>=document.documentMode,Ks=null,vc=null,oa=null,yc=!1;function wh(n,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yc||Ks==null||Ks!==yt(d)||(d=Ks,"selectionStart"in d&&gc(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),oa&&sa(oa,d)||(oa=d,d=gi(vc,"onSelect"),0<d.length&&(s=new lc("onSelect","select",null,s,l),n.push({event:s,listeners:d}),s.target=Ks)))}function hi(n,s){var l={};return l[n.toLowerCase()]=s.toLowerCase(),l["Webkit"+n]="webkit"+s,l["Moz"+n]="moz"+s,l}var Gs={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionend:hi("Transition","TransitionEnd")},xc={},_h={};f&&(_h=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function pi(n){if(xc[n])return xc[n];if(!Gs[n])return n;var s=Gs[n],l;for(l in s)if(s.hasOwnProperty(l)&&l in _h)return xc[n]=s[l];return n}var bh=pi("animationend"),Sh=pi("animationiteration"),kh=pi("animationstart"),jh=pi("transitionend"),Nh=new Map,Ch="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Hr(n,s){Nh.set(n,s),c(s,[n])}for(var wc=0;wc<Ch.length;wc++){var _c=Ch[wc],iw=_c.toLowerCase(),lw=_c[0].toUpperCase()+_c.slice(1);Hr(iw,"on"+lw)}Hr(bh,"onAnimationEnd"),Hr(Sh,"onAnimationIteration"),Hr(kh,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(jh,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cw=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function Eh(n,s,l){var d=n.type||"unknown-event";n.currentTarget=l,i0(d,s,void 0,n),n.currentTarget=null}function Ph(n,s){s=(s&4)!==0;for(var l=0;l<n.length;l++){var d=n[l],h=d.event;d=d.listeners;e:{var v=void 0;if(s)for(var S=d.length-1;0<=S;S--){var D=d[S],I=D.instance,V=D.currentTarget;if(D=D.listener,I!==v&&h.isPropagationStopped())break e;Eh(h,D,V),v=I}else for(S=0;S<d.length;S++){if(D=d[S],I=D.instance,V=D.currentTarget,D=D.listener,I!==v&&h.isPropagationStopped())break e;Eh(h,D,V),v=I}}}if(rr)throw n=Zt,rr=!1,Zt=null,n}function ct(n,s){var l=s[Pc];l===void 0&&(l=s[Pc]=new Set);var d=n+"__bubble";l.has(d)||(Th(s,n,2,!1),l.add(d))}function bc(n,s,l){var d=0;s&&(d|=4),Th(l,n,d,s)}var mi="_reactListening"+Math.random().toString(36).slice(2);function ia(n){if(!n[mi]){n[mi]=!0,o.forEach(function(l){l!=="selectionchange"&&(cw.has(l)||bc(l,!1,n),bc(l,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[mi]||(s[mi]=!0,bc("selectionchange",!1,s))}}function Th(n,s,l,d){switch(Zf(s)){case 1:var h=S0;break;case 4:h=k0;break;default:h=oc}l=h.bind(null,s,l,n),h=void 0,!Oe||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),d?h!==void 0?n.addEventListener(s,l,{capture:!0,passive:h}):n.addEventListener(s,l,!0):h!==void 0?n.addEventListener(s,l,{passive:h}):n.addEventListener(s,l,!1)}function Sc(n,s,l,d,h){var v=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var S=d.tag;if(S===3||S===4){var D=d.stateNode.containerInfo;if(D===h||D.nodeType===8&&D.parentNode===h)break;if(S===4)for(S=d.return;S!==null;){var I=S.tag;if((I===3||I===4)&&(I=S.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;S=S.return}for(;D!==null;){if(S=vs(D),S===null)return;if(I=S.tag,I===5||I===6){d=v=S;continue e}D=D.parentNode}}d=d.return}Ne(function(){var V=v,ee=M(l),oe=[];e:{var J=Nh.get(n);if(J!==void 0){var ye=lc,_e=n;switch(n){case"keypress":if(ci(l)===0)break e;case"keydown":case"keyup":ye=F0;break;case"focusin":_e="focus",ye=dc;break;case"focusout":_e="blur",ye=dc;break;case"beforeblur":case"afterblur":ye=dc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=nh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=C0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=U0;break;case bh:case Sh:case kh:ye=T0;break;case jh:ye=H0;break;case"scroll":ye=j0;break;case"wheel":ye=q0;break;case"copy":case"cut":case"paste":ye=D0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=sh}var je=(s&4)!==0,wt=!je&&n==="scroll",U=je?J!==null?J+"Capture":null:J;je=[];for(var $=V,H;$!==null;){H=$;var ue=H.stateNode;if(H.tag===5&&ue!==null&&(H=ue,U!==null&&(ue=Re($,U),ue!=null&&je.push(la($,ue,H)))),wt)break;$=$.return}0<je.length&&(J=new ye(J,_e,null,l,ee),oe.push({event:J,listeners:je}))}}if((s&7)===0){e:{if(J=n==="mouseover"||n==="pointerover",ye=n==="mouseout"||n==="pointerout",J&&l!==N&&(_e=l.relatedTarget||l.fromElement)&&(vs(_e)||_e[br]))break e;if((ye||J)&&(J=ee.window===ee?ee:(J=ee.ownerDocument)?J.defaultView||J.parentWindow:window,ye?(_e=l.relatedTarget||l.toElement,ye=V,_e=_e?vs(_e):null,_e!==null&&(wt=gs(_e),_e!==wt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(ye=null,_e=V),ye!==_e)){if(je=nh,ue="onMouseLeave",U="onMouseEnter",$="mouse",(n==="pointerout"||n==="pointerover")&&(je=sh,ue="onPointerLeave",U="onPointerEnter",$="pointer"),wt=ye==null?J:Js(ye),H=_e==null?J:Js(_e),J=new je(ue,$+"leave",ye,l,ee),J.target=wt,J.relatedTarget=H,ue=null,vs(ee)===V&&(je=new je(U,$+"enter",_e,l,ee),je.target=H,je.relatedTarget=wt,ue=je),wt=ue,ye&&_e)t:{for(je=ye,U=_e,$=0,H=je;H;H=Qs(H))$++;for(H=0,ue=U;ue;ue=Qs(ue))H++;for(;0<$-H;)je=Qs(je),$--;for(;0<H-$;)U=Qs(U),H--;for(;$--;){if(je===U||U!==null&&je===U.alternate)break t;je=Qs(je),U=Qs(U)}je=null}else je=null;ye!==null&&Oh(oe,J,ye,je,!1),_e!==null&&wt!==null&&Oh(oe,wt,_e,je,!0)}}e:{if(J=V?Js(V):window,ye=J.nodeName&&J.nodeName.toLowerCase(),ye==="select"||ye==="input"&&J.type==="file")var Ee=Z0;else if(uh(J))if(fh)Ee=rw;else{Ee=tw;var Ie=ew}else(ye=J.nodeName)&&ye.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(Ee=nw);if(Ee&&(Ee=Ee(n,V))){dh(oe,Ee,l,ee);break e}Ie&&Ie(n,J,V),n==="focusout"&&(Ie=J._wrapperState)&&Ie.controlled&&J.type==="number"&&An(J,"number",J.value)}switch(Ie=V?Js(V):window,n){case"focusin":(uh(Ie)||Ie.contentEditable==="true")&&(Ks=Ie,vc=V,oa=null);break;case"focusout":oa=vc=Ks=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,wh(oe,l,ee);break;case"selectionchange":if(aw)break;case"keydown":case"keyup":wh(oe,l,ee)}var Le;if(hc)e:{switch(n){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ys?lh(n,l)&&(Ue="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(oh&&l.locale!=="ko"&&(Ys||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ys&&(Le=eh()):(Br=ee,ic="value"in Br?Br.value:Br.textContent,Ys=!0)),Ie=gi(V,Ue),0<Ie.length&&(Ue=new rh(Ue,n,null,l,ee),oe.push({event:Ue,listeners:Ie}),Le?Ue.data=Le:(Le=ch(l),Le!==null&&(Ue.data=Le)))),(Le=K0?G0(n,l):Q0(n,l))&&(V=gi(V,"onBeforeInput"),0<V.length&&(ee=new rh("onBeforeInput","beforeinput",null,l,ee),oe.push({event:ee,listeners:V}),ee.data=Le))}Ph(oe,s)})}function la(n,s,l){return{instance:n,listener:s,currentTarget:l}}function gi(n,s){for(var l=s+"Capture",d=[];n!==null;){var h=n,v=h.stateNode;h.tag===5&&v!==null&&(h=v,v=Re(n,l),v!=null&&d.unshift(la(n,v,h)),v=Re(n,s),v!=null&&d.push(la(n,v,h))),n=n.return}return d}function Qs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Oh(n,s,l,d,h){for(var v=s._reactName,S=[];l!==null&&l!==d;){var D=l,I=D.alternate,V=D.stateNode;if(I!==null&&I===d)break;D.tag===5&&V!==null&&(D=V,h?(I=Re(l,v),I!=null&&S.unshift(la(l,I,D))):h||(I=Re(l,v),I!=null&&S.push(la(l,I,D)))),l=l.return}S.length!==0&&n.push({event:s,listeners:S})}var uw=/\r\n?/g,dw=/\u0000|\uFFFD/g;function Dh(n){return(typeof n=="string"?n:""+n).replace(uw,`
`).replace(dw,"")}function vi(n,s,l){if(s=Dh(s),Dh(n)!==s&&l)throw Error(r(425))}function yi(){}var kc=null,jc=null;function Nc(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Cc=typeof setTimeout=="function"?setTimeout:void 0,fw=typeof clearTimeout=="function"?clearTimeout:void 0,Rh=typeof Promise=="function"?Promise:void 0,hw=typeof queueMicrotask=="function"?queueMicrotask:typeof Rh<"u"?function(n){return Rh.resolve(null).then(n).catch(pw)}:Cc;function pw(n){setTimeout(function(){throw n})}function Ec(n,s){var l=s,d=0;do{var h=l.nextSibling;if(n.removeChild(l),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(d===0){n.removeChild(h),Jo(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=h}while(l);Jo(s)}function Vr(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function Mh(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return n;s--}else l==="/$"&&s++}n=n.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),or="__reactFiber$"+Xs,ca="__reactProps$"+Xs,br="__reactContainer$"+Xs,Pc="__reactEvents$"+Xs,mw="__reactListeners$"+Xs,gw="__reactHandles$"+Xs;function vs(n){var s=n[or];if(s)return s;for(var l=n.parentNode;l;){if(s=l[br]||l[or]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(n=Mh(n);n!==null;){if(l=n[or])return l;n=Mh(n)}return s}n=l,l=n.parentNode}return null}function ua(n){return n=n[or]||n[br],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Js(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(r(33))}function xi(n){return n[ca]||null}var Tc=[],Zs=-1;function qr(n){return{current:n}}function ut(n){0>Zs||(n.current=Tc[Zs],Tc[Zs]=null,Zs--)}function at(n,s){Zs++,Tc[Zs]=n.current,n.current=s}var Yr={},Vt=qr(Yr),cn=qr(!1),ys=Yr;function eo(n,s){var l=n.type.contextTypes;if(!l)return Yr;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var h={},v;for(v in l)h[v]=s[v];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=h),h}function un(n){return n=n.childContextTypes,n!=null}function wi(){ut(cn),ut(Vt)}function Ah(n,s,l){if(Vt.current!==Yr)throw Error(r(168));at(Vt,s),at(cn,l)}function Ih(n,s,l){var d=n.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var h in d)if(!(h in s))throw Error(r(108,ne(n)||"Unknown",h));return te({},l,d)}function _i(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Yr,ys=Vt.current,at(Vt,n),at(cn,cn.current),!0}function Lh(n,s,l){var d=n.stateNode;if(!d)throw Error(r(169));l?(n=Ih(n,s,ys),d.__reactInternalMemoizedMergedChildContext=n,ut(cn),ut(Vt),at(Vt,n)):ut(cn),at(cn,l)}var Sr=null,bi=!1,Oc=!1;function $h(n){Sr===null?Sr=[n]:Sr.push(n)}function vw(n){bi=!0,$h(n)}function Kr(){if(!Oc&&Sr!==null){Oc=!0;var n=0,s=st;try{var l=Sr;for(st=1;n<l.length;n++){var d=l[n];do d=d(!0);while(d!==null)}Sr=null,bi=!1}catch(h){throw Sr!==null&&(Sr=Sr.slice(n+1)),zf(Zl,Kr),h}finally{st=s,Oc=!1}}return null}var to=[],no=0,Si=null,ki=0,Pn=[],Tn=0,xs=null,kr=1,jr="";function ws(n,s){to[no++]=ki,to[no++]=Si,Si=n,ki=s}function Fh(n,s,l){Pn[Tn++]=kr,Pn[Tn++]=jr,Pn[Tn++]=xs,xs=n;var d=kr;n=jr;var h=32-$n(d)-1;d&=~(1<<h),l+=1;var v=32-$n(s)+h;if(30<v){var S=h-h%5;v=(d&(1<<S)-1).toString(32),d>>=S,h-=S,kr=1<<32-$n(s)+h|l<<h|d,jr=v+n}else kr=1<<v|l<<h|d,jr=n}function Dc(n){n.return!==null&&(ws(n,1),Fh(n,1,0))}function Rc(n){for(;n===Si;)Si=to[--no],to[no]=null,ki=to[--no],to[no]=null;for(;n===xs;)xs=Pn[--Tn],Pn[Tn]=null,jr=Pn[--Tn],Pn[Tn]=null,kr=Pn[--Tn],Pn[Tn]=null}var wn=null,_n=null,dt=!1,zn=null;function zh(n,s){var l=Mn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=n,s=n.deletions,s===null?(n.deletions=[l],n.flags|=16):s.push(l)}function Wh(n,s){switch(n.tag){case 5:var l=n.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,wn=n,_n=Vr(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,wn=n,_n=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=xs!==null?{id:kr,overflow:jr}:null,n.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=Mn(18,null,null,0),l.stateNode=s,l.return=n,n.child=l,wn=n,_n=null,!0):!1;default:return!1}}function Mc(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ac(n){if(dt){var s=_n;if(s){var l=s;if(!Wh(n,s)){if(Mc(n))throw Error(r(418));s=Vr(l.nextSibling);var d=wn;s&&Wh(n,s)?zh(d,l):(n.flags=n.flags&-4097|2,dt=!1,wn=n)}}else{if(Mc(n))throw Error(r(418));n.flags=n.flags&-4097|2,dt=!1,wn=n}}}function Uh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;wn=n}function ji(n){if(n!==wn)return!1;if(!dt)return Uh(n),dt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Nc(n.type,n.memoizedProps)),s&&(s=_n)){if(Mc(n))throw Bh(),Error(r(418));for(;s;)zh(n,s),s=Vr(s.nextSibling)}if(Uh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"){if(s===0){_n=Vr(n.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}n=n.nextSibling}_n=null}}else _n=wn?Vr(n.stateNode.nextSibling):null;return!0}function Bh(){for(var n=_n;n;)n=Vr(n.nextSibling)}function ro(){_n=wn=null,dt=!1}function Ic(n){zn===null?zn=[n]:zn.push(n)}var yw=T.ReactCurrentBatchConfig;function da(n,s,l){if(n=l.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(r(309));var d=l.stateNode}if(!d)throw Error(r(147,n));var h=d,v=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(S){var D=h.refs;S===null?delete D[v]:D[v]=S},s._stringRef=v,s)}if(typeof n!="string")throw Error(r(284));if(!l._owner)throw Error(r(290,n))}return n}function Ni(n,s){throw n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function Hh(n){var s=n._init;return s(n._payload)}function Vh(n){function s(U,$){if(n){var H=U.deletions;H===null?(U.deletions=[$],U.flags|=16):H.push($)}}function l(U,$){if(!n)return null;for(;$!==null;)s(U,$),$=$.sibling;return null}function d(U,$){for(U=new Map;$!==null;)$.key!==null?U.set($.key,$):U.set($.index,$),$=$.sibling;return U}function h(U,$){return U=ns(U,$),U.index=0,U.sibling=null,U}function v(U,$,H){return U.index=H,n?(H=U.alternate,H!==null?(H=H.index,H<$?(U.flags|=2,$):H):(U.flags|=2,$)):(U.flags|=1048576,$)}function S(U){return n&&U.alternate===null&&(U.flags|=2),U}function D(U,$,H,ue){return $===null||$.tag!==6?($=Cu(H,U.mode,ue),$.return=U,$):($=h($,H),$.return=U,$)}function I(U,$,H,ue){var Ee=H.type;return Ee===W?ee(U,$,H.props.children,ue,H.key):$!==null&&($.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===de&&Hh(Ee)===$.type)?(ue=h($,H.props),ue.ref=da(U,$,H),ue.return=U,ue):(ue=Qi(H.type,H.key,H.props,null,U.mode,ue),ue.ref=da(U,$,H),ue.return=U,ue)}function V(U,$,H,ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==H.containerInfo||$.stateNode.implementation!==H.implementation?($=Eu(H,U.mode,ue),$.return=U,$):($=h($,H.children||[]),$.return=U,$)}function ee(U,$,H,ue,Ee){return $===null||$.tag!==7?($=Es(H,U.mode,ue,Ee),$.return=U,$):($=h($,H),$.return=U,$)}function oe(U,$,H){if(typeof $=="string"&&$!==""||typeof $=="number")return $=Cu(""+$,U.mode,H),$.return=U,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case L:return H=Qi($.type,$.key,$.props,null,U.mode,H),H.ref=da(U,null,$),H.return=U,H;case B:return $=Eu($,U.mode,H),$.return=U,$;case de:var ue=$._init;return oe(U,ue($._payload),H)}if(Cn($)||ie($))return $=Es($,U.mode,H,null),$.return=U,$;Ni(U,$)}return null}function J(U,$,H,ue){var Ee=$!==null?$.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return Ee!==null?null:D(U,$,""+H,ue);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case L:return H.key===Ee?I(U,$,H,ue):null;case B:return H.key===Ee?V(U,$,H,ue):null;case de:return Ee=H._init,J(U,$,Ee(H._payload),ue)}if(Cn(H)||ie(H))return Ee!==null?null:ee(U,$,H,ue,null);Ni(U,H)}return null}function ye(U,$,H,ue,Ee){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return U=U.get(H)||null,D($,U,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case L:return U=U.get(ue.key===null?H:ue.key)||null,I($,U,ue,Ee);case B:return U=U.get(ue.key===null?H:ue.key)||null,V($,U,ue,Ee);case de:var Ie=ue._init;return ye(U,$,H,Ie(ue._payload),Ee)}if(Cn(ue)||ie(ue))return U=U.get(H)||null,ee($,U,ue,Ee,null);Ni($,ue)}return null}function _e(U,$,H,ue){for(var Ee=null,Ie=null,Le=$,Ue=$=0,At=null;Le!==null&&Ue<H.length;Ue++){Le.index>Ue?(At=Le,Le=null):At=Le.sibling;var nt=J(U,Le,H[Ue],ue);if(nt===null){Le===null&&(Le=At);break}n&&Le&&nt.alternate===null&&s(U,Le),$=v(nt,$,Ue),Ie===null?Ee=nt:Ie.sibling=nt,Ie=nt,Le=At}if(Ue===H.length)return l(U,Le),dt&&ws(U,Ue),Ee;if(Le===null){for(;Ue<H.length;Ue++)Le=oe(U,H[Ue],ue),Le!==null&&($=v(Le,$,Ue),Ie===null?Ee=Le:Ie.sibling=Le,Ie=Le);return dt&&ws(U,Ue),Ee}for(Le=d(U,Le);Ue<H.length;Ue++)At=ye(Le,U,Ue,H[Ue],ue),At!==null&&(n&&At.alternate!==null&&Le.delete(At.key===null?Ue:At.key),$=v(At,$,Ue),Ie===null?Ee=At:Ie.sibling=At,Ie=At);return n&&Le.forEach(function(rs){return s(U,rs)}),dt&&ws(U,Ue),Ee}function je(U,$,H,ue){var Ee=ie(H);if(typeof Ee!="function")throw Error(r(150));if(H=Ee.call(H),H==null)throw Error(r(151));for(var Ie=Ee=null,Le=$,Ue=$=0,At=null,nt=H.next();Le!==null&&!nt.done;Ue++,nt=H.next()){Le.index>Ue?(At=Le,Le=null):At=Le.sibling;var rs=J(U,Le,nt.value,ue);if(rs===null){Le===null&&(Le=At);break}n&&Le&&rs.alternate===null&&s(U,Le),$=v(rs,$,Ue),Ie===null?Ee=rs:Ie.sibling=rs,Ie=rs,Le=At}if(nt.done)return l(U,Le),dt&&ws(U,Ue),Ee;if(Le===null){for(;!nt.done;Ue++,nt=H.next())nt=oe(U,nt.value,ue),nt!==null&&($=v(nt,$,Ue),Ie===null?Ee=nt:Ie.sibling=nt,Ie=nt);return dt&&ws(U,Ue),Ee}for(Le=d(U,Le);!nt.done;Ue++,nt=H.next())nt=ye(Le,U,Ue,nt.value,ue),nt!==null&&(n&&nt.alternate!==null&&Le.delete(nt.key===null?Ue:nt.key),$=v(nt,$,Ue),Ie===null?Ee=nt:Ie.sibling=nt,Ie=nt);return n&&Le.forEach(function(Xw){return s(U,Xw)}),dt&&ws(U,Ue),Ee}function wt(U,$,H,ue){if(typeof H=="object"&&H!==null&&H.type===W&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case L:e:{for(var Ee=H.key,Ie=$;Ie!==null;){if(Ie.key===Ee){if(Ee=H.type,Ee===W){if(Ie.tag===7){l(U,Ie.sibling),$=h(Ie,H.props.children),$.return=U,U=$;break e}}else if(Ie.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===de&&Hh(Ee)===Ie.type){l(U,Ie.sibling),$=h(Ie,H.props),$.ref=da(U,Ie,H),$.return=U,U=$;break e}l(U,Ie);break}else s(U,Ie);Ie=Ie.sibling}H.type===W?($=Es(H.props.children,U.mode,ue,H.key),$.return=U,U=$):(ue=Qi(H.type,H.key,H.props,null,U.mode,ue),ue.ref=da(U,$,H),ue.return=U,U=ue)}return S(U);case B:e:{for(Ie=H.key;$!==null;){if($.key===Ie)if($.tag===4&&$.stateNode.containerInfo===H.containerInfo&&$.stateNode.implementation===H.implementation){l(U,$.sibling),$=h($,H.children||[]),$.return=U,U=$;break e}else{l(U,$);break}else s(U,$);$=$.sibling}$=Eu(H,U.mode,ue),$.return=U,U=$}return S(U);case de:return Ie=H._init,wt(U,$,Ie(H._payload),ue)}if(Cn(H))return _e(U,$,H,ue);if(ie(H))return je(U,$,H,ue);Ni(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,$!==null&&$.tag===6?(l(U,$.sibling),$=h($,H),$.return=U,U=$):(l(U,$),$=Cu(H,U.mode,ue),$.return=U,U=$),S(U)):l(U,$)}return wt}var so=Vh(!0),qh=Vh(!1),Ci=qr(null),Ei=null,oo=null,Lc=null;function $c(){Lc=oo=Ei=null}function Fc(n){var s=Ci.current;ut(Ci),n._currentValue=s}function zc(n,s,l){for(;n!==null;){var d=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),n===l)break;n=n.return}}function ao(n,s){Ei=n,Lc=oo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(dn=!0),n.firstContext=null)}function On(n){var s=n._currentValue;if(Lc!==n)if(n={context:n,memoizedValue:s,next:null},oo===null){if(Ei===null)throw Error(r(308));oo=n,Ei.dependencies={lanes:0,firstContext:n}}else oo=oo.next=n;return s}var _s=null;function Wc(n){_s===null?_s=[n]:_s.push(n)}function Yh(n,s,l,d){var h=s.interleaved;return h===null?(l.next=l,Wc(s)):(l.next=h.next,h.next=l),s.interleaved=l,Nr(n,d)}function Nr(n,s){n.lanes|=s;var l=n.alternate;for(l!==null&&(l.lanes|=s),l=n,n=n.return;n!==null;)n.childLanes|=s,l=n.alternate,l!==null&&(l.childLanes|=s),l=n,n=n.return;return l.tag===3?l.stateNode:null}var Gr=!1;function Uc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kh(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Cr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function Qr(n,s,l){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(et&2)!==0){var h=d.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),d.pending=s,Nr(n,l)}return h=d.interleaved,h===null?(s.next=s,Wc(d)):(s.next=h.next,h.next=s),d.interleaved=s,Nr(n,l)}function Pi(n,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=n.pendingLanes,l|=d,s.lanes=l,nc(n,l)}}function Gh(n,s){var l=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var h=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?h=v=S:v=v.next=S,l=l.next}while(l!==null);v===null?h=v=s:v=v.next=s}else h=v=s;l={baseState:d.baseState,firstBaseUpdate:h,lastBaseUpdate:v,shared:d.shared,effects:d.effects},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=s:n.next=s,l.lastBaseUpdate=s}function Ti(n,s,l,d){var h=n.updateQueue;Gr=!1;var v=h.firstBaseUpdate,S=h.lastBaseUpdate,D=h.shared.pending;if(D!==null){h.shared.pending=null;var I=D,V=I.next;I.next=null,S===null?v=V:S.next=V,S=I;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,D=ee.lastBaseUpdate,D!==S&&(D===null?ee.firstBaseUpdate=V:D.next=V,ee.lastBaseUpdate=I))}if(v!==null){var oe=h.baseState;S=0,ee=V=I=null,D=v;do{var J=D.lane,ye=D.eventTime;if((d&J)===J){ee!==null&&(ee=ee.next={eventTime:ye,lane:0,tag:D.tag,payload:D.payload,callback:D.callback,next:null});e:{var _e=n,je=D;switch(J=s,ye=l,je.tag){case 1:if(_e=je.payload,typeof _e=="function"){oe=_e.call(ye,oe,J);break e}oe=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=je.payload,J=typeof _e=="function"?_e.call(ye,oe,J):_e,J==null)break e;oe=te({},oe,J);break e;case 2:Gr=!0}}D.callback!==null&&D.lane!==0&&(n.flags|=64,J=h.effects,J===null?h.effects=[D]:J.push(D))}else ye={eventTime:ye,lane:J,tag:D.tag,payload:D.payload,callback:D.callback,next:null},ee===null?(V=ee=ye,I=oe):ee=ee.next=ye,S|=J;if(D=D.next,D===null){if(D=h.shared.pending,D===null)break;J=D,D=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);if(ee===null&&(I=oe),h.baseState=I,h.firstBaseUpdate=V,h.lastBaseUpdate=ee,s=h.shared.interleaved,s!==null){h=s;do S|=h.lane,h=h.next;while(h!==s)}else v===null&&(h.shared.lanes=0);ks|=S,n.lanes=S,n.memoizedState=oe}}function Qh(n,s,l){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var d=n[s],h=d.callback;if(h!==null){if(d.callback=null,d=l,typeof h!="function")throw Error(r(191,h));h.call(d)}}}var fa={},ar=qr(fa),ha=qr(fa),pa=qr(fa);function bs(n){if(n===fa)throw Error(r(174));return n}function Bc(n,s){switch(at(pa,s),at(ha,n),at(ar,fa),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:xr(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=xr(s,n)}ut(ar),at(ar,s)}function io(){ut(ar),ut(ha),ut(pa)}function Xh(n){bs(pa.current);var s=bs(ar.current),l=xr(s,n.type);s!==l&&(at(ha,n),at(ar,l))}function Hc(n){ha.current===n&&(ut(ar),ut(ha))}var pt=qr(0);function Oi(n){for(var s=n;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Vc=[];function qc(){for(var n=0;n<Vc.length;n++)Vc[n]._workInProgressVersionPrimary=null;Vc.length=0}var Di=T.ReactCurrentDispatcher,Yc=T.ReactCurrentBatchConfig,Ss=0,mt=null,Nt=null,Rt=null,Ri=!1,ma=!1,ga=0,xw=0;function qt(){throw Error(r(321))}function Kc(n,s){if(s===null)return!1;for(var l=0;l<s.length&&l<n.length;l++)if(!Fn(n[l],s[l]))return!1;return!0}function Gc(n,s,l,d,h,v){if(Ss=v,mt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Di.current=n===null||n.memoizedState===null?Sw:kw,n=l(d,h),ma){v=0;do{if(ma=!1,ga=0,25<=v)throw Error(r(301));v+=1,Rt=Nt=null,s.updateQueue=null,Di.current=jw,n=l(d,h)}while(ma)}if(Di.current=Ii,s=Nt!==null&&Nt.next!==null,Ss=0,Rt=Nt=mt=null,Ri=!1,s)throw Error(r(300));return n}function Qc(){var n=ga!==0;return ga=0,n}function ir(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?mt.memoizedState=Rt=n:Rt=Rt.next=n,Rt}function Dn(){if(Nt===null){var n=mt.alternate;n=n!==null?n.memoizedState:null}else n=Nt.next;var s=Rt===null?mt.memoizedState:Rt.next;if(s!==null)Rt=s,Nt=n;else{if(n===null)throw Error(r(310));Nt=n,n={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Rt===null?mt.memoizedState=Rt=n:Rt=Rt.next=n}return Rt}function va(n,s){return typeof s=="function"?s(n):s}function Xc(n){var s=Dn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var d=Nt,h=d.baseQueue,v=l.pending;if(v!==null){if(h!==null){var S=h.next;h.next=v.next,v.next=S}d.baseQueue=h=v,l.pending=null}if(h!==null){v=h.next,d=d.baseState;var D=S=null,I=null,V=v;do{var ee=V.lane;if((Ss&ee)===ee)I!==null&&(I=I.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),d=V.hasEagerState?V.eagerState:n(d,V.action);else{var oe={lane:ee,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};I===null?(D=I=oe,S=d):I=I.next=oe,mt.lanes|=ee,ks|=ee}V=V.next}while(V!==null&&V!==v);I===null?S=d:I.next=D,Fn(d,s.memoizedState)||(dn=!0),s.memoizedState=d,s.baseState=S,s.baseQueue=I,l.lastRenderedState=d}if(n=l.interleaved,n!==null){h=n;do v=h.lane,mt.lanes|=v,ks|=v,h=h.next;while(h!==n)}else h===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Jc(n){var s=Dn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=n;var d=l.dispatch,h=l.pending,v=s.memoizedState;if(h!==null){l.pending=null;var S=h=h.next;do v=n(v,S.action),S=S.next;while(S!==h);Fn(v,s.memoizedState)||(dn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,d]}function Jh(){}function Zh(n,s){var l=mt,d=Dn(),h=s(),v=!Fn(d.memoizedState,h);if(v&&(d.memoizedState=h,dn=!0),d=d.queue,Zc(np.bind(null,l,d,n),[n]),d.getSnapshot!==s||v||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,ya(9,tp.bind(null,l,d,h,s),void 0,null),Mt===null)throw Error(r(349));(Ss&30)!==0||ep(l,s,h)}return h}function ep(n,s,l){n.flags|=16384,n={getSnapshot:s,value:l},s=mt.updateQueue,s===null?(s={lastEffect:null,stores:null},mt.updateQueue=s,s.stores=[n]):(l=s.stores,l===null?s.stores=[n]:l.push(n))}function tp(n,s,l,d){s.value=l,s.getSnapshot=d,rp(s)&&sp(n)}function np(n,s,l){return l(function(){rp(s)&&sp(n)})}function rp(n){var s=n.getSnapshot;n=n.value;try{var l=s();return!Fn(n,l)}catch{return!0}}function sp(n){var s=Nr(n,1);s!==null&&Hn(s,n,1,-1)}function op(n){var s=ir();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:n},s.queue=n,n=n.dispatch=bw.bind(null,mt,n),[s.memoizedState,n]}function ya(n,s,l,d){return n={tag:n,create:s,destroy:l,deps:d,next:null},s=mt.updateQueue,s===null?(s={lastEffect:null,stores:null},mt.updateQueue=s,s.lastEffect=n.next=n):(l=s.lastEffect,l===null?s.lastEffect=n.next=n:(d=l.next,l.next=n,n.next=d,s.lastEffect=n)),n}function ap(){return Dn().memoizedState}function Mi(n,s,l,d){var h=ir();mt.flags|=n,h.memoizedState=ya(1|s,l,void 0,d===void 0?null:d)}function Ai(n,s,l,d){var h=Dn();d=d===void 0?null:d;var v=void 0;if(Nt!==null){var S=Nt.memoizedState;if(v=S.destroy,d!==null&&Kc(d,S.deps)){h.memoizedState=ya(s,l,v,d);return}}mt.flags|=n,h.memoizedState=ya(1|s,l,v,d)}function ip(n,s){return Mi(8390656,8,n,s)}function Zc(n,s){return Ai(2048,8,n,s)}function lp(n,s){return Ai(4,2,n,s)}function cp(n,s){return Ai(4,4,n,s)}function up(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function dp(n,s,l){return l=l!=null?l.concat([n]):null,Ai(4,4,up.bind(null,s,n),l)}function eu(){}function fp(n,s){var l=Dn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Kc(s,d[1])?d[0]:(l.memoizedState=[n,s],n)}function hp(n,s){var l=Dn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Kc(s,d[1])?d[0]:(n=n(),l.memoizedState=[n,s],n)}function pp(n,s,l){return(Ss&21)===0?(n.baseState&&(n.baseState=!1,dn=!0),n.memoizedState=l):(Fn(l,s)||(l=Hf(),mt.lanes|=l,ks|=l,n.baseState=!0),s)}function ww(n,s){var l=st;st=l!==0&&4>l?l:4,n(!0);var d=Yc.transition;Yc.transition={};try{n(!1),s()}finally{st=l,Yc.transition=d}}function mp(){return Dn().memoizedState}function _w(n,s,l){var d=es(n);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},gp(n))vp(s,l);else if(l=Yh(n,s,l,d),l!==null){var h=tn();Hn(l,n,d,h),yp(l,s,d)}}function bw(n,s,l){var d=es(n),h={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(gp(n))vp(s,h);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var S=s.lastRenderedState,D=v(S,l);if(h.hasEagerState=!0,h.eagerState=D,Fn(D,S)){var I=s.interleaved;I===null?(h.next=h,Wc(s)):(h.next=I.next,I.next=h),s.interleaved=h;return}}catch{}finally{}l=Yh(n,s,h,d),l!==null&&(h=tn(),Hn(l,n,d,h),yp(l,s,d))}}function gp(n){var s=n.alternate;return n===mt||s!==null&&s===mt}function vp(n,s){ma=Ri=!0;var l=n.pending;l===null?s.next=s:(s.next=l.next,l.next=s),n.pending=s}function yp(n,s,l){if((l&4194240)!==0){var d=s.lanes;d&=n.pendingLanes,l|=d,s.lanes=l,nc(n,l)}}var Ii={readContext:On,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},Sw={readContext:On,useCallback:function(n,s){return ir().memoizedState=[n,s===void 0?null:s],n},useContext:On,useEffect:ip,useImperativeHandle:function(n,s,l){return l=l!=null?l.concat([n]):null,Mi(4194308,4,up.bind(null,s,n),l)},useLayoutEffect:function(n,s){return Mi(4194308,4,n,s)},useInsertionEffect:function(n,s){return Mi(4,2,n,s)},useMemo:function(n,s){var l=ir();return s=s===void 0?null:s,n=n(),l.memoizedState=[n,s],n},useReducer:function(n,s,l){var d=ir();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},d.queue=n,n=n.dispatch=_w.bind(null,mt,n),[d.memoizedState,n]},useRef:function(n){var s=ir();return n={current:n},s.memoizedState=n},useState:op,useDebugValue:eu,useDeferredValue:function(n){return ir().memoizedState=n},useTransition:function(){var n=op(!1),s=n[0];return n=ww.bind(null,n[1]),ir().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,l){var d=mt,h=ir();if(dt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),Mt===null)throw Error(r(349));(Ss&30)!==0||ep(d,s,l)}h.memoizedState=l;var v={value:l,getSnapshot:s};return h.queue=v,ip(np.bind(null,d,v,n),[n]),d.flags|=2048,ya(9,tp.bind(null,d,v,l,s),void 0,null),l},useId:function(){var n=ir(),s=Mt.identifierPrefix;if(dt){var l=jr,d=kr;l=(d&~(1<<32-$n(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=ga++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=xw++,s=":"+s+"r"+l.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},kw={readContext:On,useCallback:fp,useContext:On,useEffect:Zc,useImperativeHandle:dp,useInsertionEffect:lp,useLayoutEffect:cp,useMemo:hp,useReducer:Xc,useRef:ap,useState:function(){return Xc(va)},useDebugValue:eu,useDeferredValue:function(n){var s=Dn();return pp(s,Nt.memoizedState,n)},useTransition:function(){var n=Xc(va)[0],s=Dn().memoizedState;return[n,s]},useMutableSource:Jh,useSyncExternalStore:Zh,useId:mp,unstable_isNewReconciler:!1},jw={readContext:On,useCallback:fp,useContext:On,useEffect:Zc,useImperativeHandle:dp,useInsertionEffect:lp,useLayoutEffect:cp,useMemo:hp,useReducer:Jc,useRef:ap,useState:function(){return Jc(va)},useDebugValue:eu,useDeferredValue:function(n){var s=Dn();return Nt===null?s.memoizedState=n:pp(s,Nt.memoizedState,n)},useTransition:function(){var n=Jc(va)[0],s=Dn().memoizedState;return[n,s]},useMutableSource:Jh,useSyncExternalStore:Zh,useId:mp,unstable_isNewReconciler:!1};function Wn(n,s){if(n&&n.defaultProps){s=te({},s),n=n.defaultProps;for(var l in n)s[l]===void 0&&(s[l]=n[l]);return s}return s}function tu(n,s,l,d){s=n.memoizedState,l=l(d,s),l=l==null?s:te({},s,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var Li={isMounted:function(n){return(n=n._reactInternals)?gs(n)===n:!1},enqueueSetState:function(n,s,l){n=n._reactInternals;var d=tn(),h=es(n),v=Cr(d,h);v.payload=s,l!=null&&(v.callback=l),s=Qr(n,v,h),s!==null&&(Hn(s,n,h,d),Pi(s,n,h))},enqueueReplaceState:function(n,s,l){n=n._reactInternals;var d=tn(),h=es(n),v=Cr(d,h);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=Qr(n,v,h),s!==null&&(Hn(s,n,h,d),Pi(s,n,h))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var l=tn(),d=es(n),h=Cr(l,d);h.tag=2,s!=null&&(h.callback=s),s=Qr(n,h,d),s!==null&&(Hn(s,n,d,l),Pi(s,n,d))}};function xp(n,s,l,d,h,v,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,v,S):s.prototype&&s.prototype.isPureReactComponent?!sa(l,d)||!sa(h,v):!0}function wp(n,s,l){var d=!1,h=Yr,v=s.contextType;return typeof v=="object"&&v!==null?v=On(v):(h=un(s)?ys:Vt.current,d=s.contextTypes,v=(d=d!=null)?eo(n,h):Yr),s=new s(l,v),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Li,n.stateNode=s,s._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=h,n.__reactInternalMemoizedMaskedChildContext=v),s}function _p(n,s,l,d){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==n&&Li.enqueueReplaceState(s,s.state,null)}function nu(n,s,l,d){var h=n.stateNode;h.props=l,h.state=n.memoizedState,h.refs={},Uc(n);var v=s.contextType;typeof v=="object"&&v!==null?h.context=On(v):(v=un(s)?ys:Vt.current,h.context=eo(n,v)),h.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(tu(n,s,v,l),h.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&Li.enqueueReplaceState(h,h.state,null),Ti(n,l,h,d),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308)}function lo(n,s){try{var l="",d=s;do l+=Te(d),d=d.return;while(d);var h=l}catch(v){h=`
Error generating stack: `+v.message+`
`+v.stack}return{value:n,source:s,stack:h,digest:null}}function ru(n,s,l){return{value:n,source:null,stack:l??null,digest:s??null}}function su(n,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var Nw=typeof WeakMap=="function"?WeakMap:Map;function bp(n,s,l){l=Cr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){Hi||(Hi=!0,xu=d),su(n,s)},l}function Sp(n,s,l){l=Cr(-1,l),l.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var h=s.value;l.payload=function(){return d(h)},l.callback=function(){su(n,s)}}var v=n.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){su(n,s),typeof d!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var S=s.stack;this.componentDidCatch(s.value,{componentStack:S!==null?S:""})}),l}function kp(n,s,l){var d=n.pingCache;if(d===null){d=n.pingCache=new Nw;var h=new Set;d.set(s,h)}else h=d.get(s),h===void 0&&(h=new Set,d.set(s,h));h.has(l)||(h.add(l),n=zw.bind(null,n,s,l),s.then(n,n))}function jp(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Np(n,s,l,d,h){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Cr(-1,1),s.tag=2,Qr(l,s,1))),l.lanes|=1),n):(n.flags|=65536,n.lanes=h,n)}var Cw=T.ReactCurrentOwner,dn=!1;function en(n,s,l,d){s.child=n===null?qh(s,null,l,d):so(s,n.child,l,d)}function Cp(n,s,l,d,h){l=l.render;var v=s.ref;return ao(s,h),d=Gc(n,s,l,d,v,h),l=Qc(),n!==null&&!dn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~h,Er(n,s,h)):(dt&&l&&Dc(s),s.flags|=1,en(n,s,d,h),s.child)}function Ep(n,s,l,d,h){if(n===null){var v=l.type;return typeof v=="function"&&!Nu(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=v,Pp(n,s,v,d,h)):(n=Qi(l.type,null,d,s,s.mode,h),n.ref=s.ref,n.return=s,s.child=n)}if(v=n.child,(n.lanes&h)===0){var S=v.memoizedProps;if(l=l.compare,l=l!==null?l:sa,l(S,d)&&n.ref===s.ref)return Er(n,s,h)}return s.flags|=1,n=ns(v,d),n.ref=s.ref,n.return=s,s.child=n}function Pp(n,s,l,d,h){if(n!==null){var v=n.memoizedProps;if(sa(v,d)&&n.ref===s.ref)if(dn=!1,s.pendingProps=d=v,(n.lanes&h)!==0)(n.flags&131072)!==0&&(dn=!0);else return s.lanes=n.lanes,Er(n,s,h)}return ou(n,s,l,d,h)}function Tp(n,s,l){var d=s.pendingProps,h=d.children,v=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(uo,bn),bn|=l;else{if((l&1073741824)===0)return n=v!==null?v.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,at(uo,bn),bn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,at(uo,bn),bn|=d}else v!==null?(d=v.baseLanes|l,s.memoizedState=null):d=l,at(uo,bn),bn|=d;return en(n,s,h,l),s.child}function Op(n,s){var l=s.ref;(n===null&&l!==null||n!==null&&n.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function ou(n,s,l,d,h){var v=un(l)?ys:Vt.current;return v=eo(s,v),ao(s,h),l=Gc(n,s,l,d,v,h),d=Qc(),n!==null&&!dn?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~h,Er(n,s,h)):(dt&&d&&Dc(s),s.flags|=1,en(n,s,l,h),s.child)}function Dp(n,s,l,d,h){if(un(l)){var v=!0;_i(s)}else v=!1;if(ao(s,h),s.stateNode===null)Fi(n,s),wp(s,l,d),nu(s,l,d,h),d=!0;else if(n===null){var S=s.stateNode,D=s.memoizedProps;S.props=D;var I=S.context,V=l.contextType;typeof V=="object"&&V!==null?V=On(V):(V=un(l)?ys:Vt.current,V=eo(s,V));var ee=l.getDerivedStateFromProps,oe=typeof ee=="function"||typeof S.getSnapshotBeforeUpdate=="function";oe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==d||I!==V)&&_p(s,S,d,V),Gr=!1;var J=s.memoizedState;S.state=J,Ti(s,d,S,h),I=s.memoizedState,D!==d||J!==I||cn.current||Gr?(typeof ee=="function"&&(tu(s,l,ee,d),I=s.memoizedState),(D=Gr||xp(s,l,D,d,J,I,V))?(oe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=I),S.props=d,S.state=I,S.context=V,d=D):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{S=s.stateNode,Kh(n,s),D=s.memoizedProps,V=s.type===s.elementType?D:Wn(s.type,D),S.props=V,oe=s.pendingProps,J=S.context,I=l.contextType,typeof I=="object"&&I!==null?I=On(I):(I=un(l)?ys:Vt.current,I=eo(s,I));var ye=l.getDerivedStateFromProps;(ee=typeof ye=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D!==oe||J!==I)&&_p(s,S,d,I),Gr=!1,J=s.memoizedState,S.state=J,Ti(s,d,S,h);var _e=s.memoizedState;D!==oe||J!==_e||cn.current||Gr?(typeof ye=="function"&&(tu(s,l,ye,d),_e=s.memoizedState),(V=Gr||xp(s,l,V,d,J,_e,I)||!1)?(ee||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(d,_e,I),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(d,_e,I)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||D===n.memoizedProps&&J===n.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&J===n.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=_e),S.props=d,S.state=_e,S.context=I,d=V):(typeof S.componentDidUpdate!="function"||D===n.memoizedProps&&J===n.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||D===n.memoizedProps&&J===n.memoizedState||(s.flags|=1024),d=!1)}return au(n,s,l,d,v,h)}function au(n,s,l,d,h,v){Op(n,s);var S=(s.flags&128)!==0;if(!d&&!S)return h&&Lh(s,l,!1),Er(n,s,v);d=s.stateNode,Cw.current=s;var D=S&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,n!==null&&S?(s.child=so(s,n.child,null,v),s.child=so(s,null,D,v)):en(n,s,D,v),s.memoizedState=d.state,h&&Lh(s,l,!0),s.child}function Rp(n){var s=n.stateNode;s.pendingContext?Ah(n,s.pendingContext,s.pendingContext!==s.context):s.context&&Ah(n,s.context,!1),Bc(n,s.containerInfo)}function Mp(n,s,l,d,h){return ro(),Ic(h),s.flags|=256,en(n,s,l,d),s.child}var iu={dehydrated:null,treeContext:null,retryLane:0};function lu(n){return{baseLanes:n,cachePool:null,transitions:null}}function Ap(n,s,l){var d=s.pendingProps,h=pt.current,v=!1,S=(s.flags&128)!==0,D;if((D=S)||(D=n!==null&&n.memoizedState===null?!1:(h&2)!==0),D?(v=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(h|=1),at(pt,h&1),n===null)return Ac(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(S=d.children,n=d.fallback,v?(d=s.mode,v=s.child,S={mode:"hidden",children:S},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=Xi(S,d,0,null),n=Es(n,d,l,null),v.return=s,n.return=s,v.sibling=n,s.child=v,s.child.memoizedState=lu(l),s.memoizedState=iu,n):cu(s,S));if(h=n.memoizedState,h!==null&&(D=h.dehydrated,D!==null))return Ew(n,s,S,d,D,h,l);if(v){v=d.fallback,S=s.mode,h=n.child,D=h.sibling;var I={mode:"hidden",children:d.children};return(S&1)===0&&s.child!==h?(d=s.child,d.childLanes=0,d.pendingProps=I,s.deletions=null):(d=ns(h,I),d.subtreeFlags=h.subtreeFlags&14680064),D!==null?v=ns(D,v):(v=Es(v,S,l,null),v.flags|=2),v.return=s,d.return=s,d.sibling=v,s.child=d,d=v,v=s.child,S=n.child.memoizedState,S=S===null?lu(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=n.childLanes&~l,s.memoizedState=iu,d}return v=n.child,n=v.sibling,d=ns(v,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=l),d.return=s,d.sibling=null,n!==null&&(l=s.deletions,l===null?(s.deletions=[n],s.flags|=16):l.push(n)),s.child=d,s.memoizedState=null,d}function cu(n,s){return s=Xi({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function $i(n,s,l,d){return d!==null&&Ic(d),so(s,n.child,null,l),n=cu(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Ew(n,s,l,d,h,v,S){if(l)return s.flags&256?(s.flags&=-257,d=ru(Error(r(422))),$i(n,s,S,d)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(v=d.fallback,h=s.mode,d=Xi({mode:"visible",children:d.children},h,0,null),v=Es(v,h,S,null),v.flags|=2,d.return=s,v.return=s,d.sibling=v,s.child=d,(s.mode&1)!==0&&so(s,n.child,null,S),s.child.memoizedState=lu(S),s.memoizedState=iu,v);if((s.mode&1)===0)return $i(n,s,S,null);if(h.data==="$!"){if(d=h.nextSibling&&h.nextSibling.dataset,d)var D=d.dgst;return d=D,v=Error(r(419)),d=ru(v,d,void 0),$i(n,s,S,d)}if(D=(S&n.childLanes)!==0,dn||D){if(d=Mt,d!==null){switch(S&-S){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(d.suspendedLanes|S))!==0?0:h,h!==0&&h!==v.retryLane&&(v.retryLane=h,Nr(n,h),Hn(d,n,h,-1))}return ju(),d=ru(Error(r(421))),$i(n,s,S,d)}return h.data==="$?"?(s.flags|=128,s.child=n.child,s=Ww.bind(null,n),h._reactRetry=s,null):(n=v.treeContext,_n=Vr(h.nextSibling),wn=s,dt=!0,zn=null,n!==null&&(Pn[Tn++]=kr,Pn[Tn++]=jr,Pn[Tn++]=xs,kr=n.id,jr=n.overflow,xs=s),s=cu(s,d.children),s.flags|=4096,s)}function Ip(n,s,l){n.lanes|=s;var d=n.alternate;d!==null&&(d.lanes|=s),zc(n.return,s,l)}function uu(n,s,l,d,h){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:h}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=h)}function Lp(n,s,l){var d=s.pendingProps,h=d.revealOrder,v=d.tail;if(en(n,s,d.children,l),d=pt.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ip(n,l,s);else if(n.tag===19)Ip(n,l,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(at(pt,d),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(l=s.child,h=null;l!==null;)n=l.alternate,n!==null&&Oi(n)===null&&(h=l),l=l.sibling;l=h,l===null?(h=s.child,s.child=null):(h=l.sibling,l.sibling=null),uu(s,!1,h,l,v);break;case"backwards":for(l=null,h=s.child,s.child=null;h!==null;){if(n=h.alternate,n!==null&&Oi(n)===null){s.child=h;break}n=h.sibling,h.sibling=l,l=h,h=n}uu(s,!0,l,null,v);break;case"together":uu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Fi(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function Er(n,s,l){if(n!==null&&(s.dependencies=n.dependencies),ks|=s.lanes,(l&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,l=ns(n,n.pendingProps),s.child=l,l.return=s;n.sibling!==null;)n=n.sibling,l=l.sibling=ns(n,n.pendingProps),l.return=s;l.sibling=null}return s.child}function Pw(n,s,l){switch(s.tag){case 3:Rp(s),ro();break;case 5:Xh(s);break;case 1:un(s.type)&&_i(s);break;case 4:Bc(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,h=s.memoizedProps.value;at(Ci,d._currentValue),d._currentValue=h;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(at(pt,pt.current&1),s.flags|=128,null):(l&s.child.childLanes)!==0?Ap(n,s,l):(at(pt,pt.current&1),n=Er(n,s,l),n!==null?n.sibling:null);at(pt,pt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,(n.flags&128)!==0){if(d)return Lp(n,s,l);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),at(pt,pt.current),d)break;return null;case 22:case 23:return s.lanes=0,Tp(n,s,l)}return Er(n,s,l)}var $p,du,Fp,zp;$p=function(n,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)n.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},du=function(){},Fp=function(n,s,l,d){var h=n.memoizedProps;if(h!==d){n=s.stateNode,bs(ar.current);var v=null;switch(l){case"input":h=Jt(n,h),d=Jt(n,d),v=[];break;case"select":h=te({},h,{value:void 0}),d=te({},d,{value:void 0}),v=[];break;case"textarea":h=Bt(n,h),d=Bt(n,d),v=[];break;default:typeof h.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=yi)}Ln(l,d);var S;l=null;for(V in h)if(!d.hasOwnProperty(V)&&h.hasOwnProperty(V)&&h[V]!=null)if(V==="style"){var D=h[V];for(S in D)D.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(a.hasOwnProperty(V)?v||(v=[]):(v=v||[]).push(V,null));for(V in d){var I=d[V];if(D=h?.[V],d.hasOwnProperty(V)&&I!==D&&(I!=null||D!=null))if(V==="style")if(D){for(S in D)!D.hasOwnProperty(S)||I&&I.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in I)I.hasOwnProperty(S)&&D[S]!==I[S]&&(l||(l={}),l[S]=I[S])}else l||(v||(v=[]),v.push(V,l)),l=I;else V==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,D=D?D.__html:void 0,I!=null&&D!==I&&(v=v||[]).push(V,I)):V==="children"?typeof I!="string"&&typeof I!="number"||(v=v||[]).push(V,""+I):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(a.hasOwnProperty(V)?(I!=null&&V==="onScroll"&&ct("scroll",n),v||D===I||(v=[])):(v=v||[]).push(V,I))}l&&(v=v||[]).push("style",l);var V=v;(s.updateQueue=V)&&(s.flags|=4)}},zp=function(n,s,l,d){l!==d&&(s.flags|=4)};function xa(n,s){if(!dt)switch(n.tailMode){case"hidden":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Yt(n){var s=n.alternate!==null&&n.alternate.child===n.child,l=0,d=0;if(s)for(var h=n.child;h!==null;)l|=h.lanes|h.childLanes,d|=h.subtreeFlags&14680064,d|=h.flags&14680064,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)l|=h.lanes|h.childLanes,d|=h.subtreeFlags,d|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=d,n.childLanes=l,s}function Tw(n,s,l){var d=s.pendingProps;switch(Rc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(s),null;case 1:return un(s.type)&&wi(),Yt(s),null;case 3:return d=s.stateNode,io(),ut(cn),ut(Vt),qc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(ji(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,zn!==null&&(bu(zn),zn=null))),du(n,s),Yt(s),null;case 5:Hc(s);var h=bs(pa.current);if(l=s.type,n!==null&&s.stateNode!=null)Fp(n,s,l,d,h),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(r(166));return Yt(s),null}if(n=bs(ar.current),ji(s)){d=s.stateNode,l=s.type;var v=s.memoizedProps;switch(d[or]=s,d[ca]=v,n=(s.mode&1)!==0,l){case"dialog":ct("cancel",d),ct("close",d);break;case"iframe":case"object":case"embed":ct("load",d);break;case"video":case"audio":for(h=0;h<aa.length;h++)ct(aa[h],d);break;case"source":ct("error",d);break;case"img":case"image":case"link":ct("error",d),ct("load",d);break;case"details":ct("toggle",d);break;case"input":Ut(d,v),ct("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},ct("invalid",d);break;case"textarea":En(d,v),ct("invalid",d)}Ln(l,v),h=null;for(var S in v)if(v.hasOwnProperty(S)){var D=v[S];S==="children"?typeof D=="string"?d.textContent!==D&&(v.suppressHydrationWarning!==!0&&vi(d.textContent,D,n),h=["children",D]):typeof D=="number"&&d.textContent!==""+D&&(v.suppressHydrationWarning!==!0&&vi(d.textContent,D,n),h=["children",""+D]):a.hasOwnProperty(S)&&D!=null&&S==="onScroll"&&ct("scroll",d)}switch(l){case"input":qe(d),$t(d,v,!0);break;case"textarea":qe(d),yr(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=yi)}d=h,s.updateQueue=d,d!==null&&(s.flags|=4)}else{S=h.nodeType===9?h:h.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=In(l)),n==="http://www.w3.org/1999/xhtml"?l==="script"?(n=S.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=S.createElement(l,{is:d.is}):(n=S.createElement(l),l==="select"&&(S=n,d.multiple?S.multiple=!0:d.size&&(S.size=d.size))):n=S.createElementNS(n,l),n[or]=s,n[ca]=d,$p(n,s,!1,!1),s.stateNode=n;e:{switch(S=C(l,d),l){case"dialog":ct("cancel",n),ct("close",n),h=d;break;case"iframe":case"object":case"embed":ct("load",n),h=d;break;case"video":case"audio":for(h=0;h<aa.length;h++)ct(aa[h],n);h=d;break;case"source":ct("error",n),h=d;break;case"img":case"image":case"link":ct("error",n),ct("load",n),h=d;break;case"details":ct("toggle",n),h=d;break;case"input":Ut(n,d),h=Jt(n,d),ct("invalid",n);break;case"option":h=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},h=te({},d,{value:void 0}),ct("invalid",n);break;case"textarea":En(n,d),h=Bt(n,d),ct("invalid",n);break;default:h=d}Ln(l,h),D=h;for(v in D)if(D.hasOwnProperty(v)){var I=D[v];v==="style"?_r(n,I):v==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&er(n,I)):v==="children"?typeof I=="string"?(l!=="textarea"||I!=="")&&Ht(n,I):typeof I=="number"&&Ht(n,""+I):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(a.hasOwnProperty(v)?I!=null&&v==="onScroll"&&ct("scroll",n):I!=null&&E(n,v,I,S))}switch(l){case"input":qe(n),$t(n,d,!1);break;case"textarea":qe(n),yr(n);break;case"option":d.value!=null&&n.setAttribute("value",""+Ce(d.value));break;case"select":n.multiple=!!d.multiple,v=d.value,v!=null?ln(n,!!d.multiple,v,!1):d.defaultValue!=null&&ln(n,!!d.multiple,d.defaultValue,!0);break;default:typeof h.onClick=="function"&&(n.onclick=yi)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Yt(s),null;case 6:if(n&&s.stateNode!=null)zp(n,s,n.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(l=bs(pa.current),bs(ar.current),ji(s)){if(d=s.stateNode,l=s.memoizedProps,d[or]=s,(v=d.nodeValue!==l)&&(n=wn,n!==null))switch(n.tag){case 3:vi(d.nodeValue,l,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&vi(d.nodeValue,l,(n.mode&1)!==0)}v&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[or]=s,s.stateNode=d}return Yt(s),null;case 13:if(ut(pt),d=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(dt&&_n!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Bh(),ro(),s.flags|=98560,v=!1;else if(v=ji(s),d!==null&&d.dehydrated!==null){if(n===null){if(!v)throw Error(r(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[or]=s}else ro(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Yt(s),v=!1}else zn!==null&&(bu(zn),zn=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=l,s):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(pt.current&1)!==0?Ct===0&&(Ct=3):ju())),s.updateQueue!==null&&(s.flags|=4),Yt(s),null);case 4:return io(),du(n,s),n===null&&ia(s.stateNode.containerInfo),Yt(s),null;case 10:return Fc(s.type._context),Yt(s),null;case 17:return un(s.type)&&wi(),Yt(s),null;case 19:if(ut(pt),v=s.memoizedState,v===null)return Yt(s),null;if(d=(s.flags&128)!==0,S=v.rendering,S===null)if(d)xa(v,!1);else{if(Ct!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(S=Oi(n),S!==null){for(s.flags|=128,xa(v,!1),d=S.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)v=l,n=d,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=n,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,n=S.dependencies,v.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),l=l.sibling;return at(pt,pt.current&1|2),s.child}n=n.sibling}v.tail!==null&&xt()>fo&&(s.flags|=128,d=!0,xa(v,!1),s.lanes=4194304)}else{if(!d)if(n=Oi(S),n!==null){if(s.flags|=128,d=!0,l=n.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),xa(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!dt)return Yt(s),null}else 2*xt()-v.renderingStartTime>fo&&l!==1073741824&&(s.flags|=128,d=!0,xa(v,!1),s.lanes=4194304);v.isBackwards?(S.sibling=s.child,s.child=S):(l=v.last,l!==null?l.sibling=S:s.child=S,v.last=S)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=xt(),s.sibling=null,l=pt.current,at(pt,d?l&1|2:l&1),s):(Yt(s),null);case 22:case 23:return ku(),d=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(bn&1073741824)!==0&&(Yt(s),s.subtreeFlags&6&&(s.flags|=8192)):Yt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function Ow(n,s){switch(Rc(s),s.tag){case 1:return un(s.type)&&wi(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return io(),ut(cn),ut(Vt),qc(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return Hc(s),null;case 13:if(ut(pt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ro()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ut(pt),null;case 4:return io(),null;case 10:return Fc(s.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var zi=!1,Kt=!1,Dw=typeof WeakSet=="function"?WeakSet:Set,xe=null;function co(n,s){var l=n.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){vt(n,s,d)}else l.current=null}function fu(n,s,l){try{l()}catch(d){vt(n,s,d)}}var Wp=!1;function Rw(n,s){if(kc=ai,n=xh(),gc(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var h=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var S=0,D=-1,I=-1,V=0,ee=0,oe=n,J=null;t:for(;;){for(var ye;oe!==l||h!==0&&oe.nodeType!==3||(D=S+h),oe!==v||d!==0&&oe.nodeType!==3||(I=S+d),oe.nodeType===3&&(S+=oe.nodeValue.length),(ye=oe.firstChild)!==null;)J=oe,oe=ye;for(;;){if(oe===n)break t;if(J===l&&++V===h&&(D=S),J===v&&++ee===d&&(I=S),(ye=oe.nextSibling)!==null)break;oe=J,J=oe.parentNode}oe=ye}l=D===-1||I===-1?null:{start:D,end:I}}else l=null}l=l||{start:0,end:0}}else l=null;for(jc={focusedElem:n,selectionRange:l},ai=!1,xe=s;xe!==null;)if(s=xe,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,xe=n;else for(;xe!==null;){s=xe;try{var _e=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var je=_e.memoizedProps,wt=_e.memoizedState,U=s.stateNode,$=U.getSnapshotBeforeUpdate(s.elementType===s.type?je:Wn(s.type,je),wt);U.__reactInternalSnapshotBeforeUpdate=$}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ue){vt(s,s.return,ue)}if(n=s.sibling,n!==null){n.return=s.return,xe=n;break}xe=s.return}return _e=Wp,Wp=!1,_e}function wa(n,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var h=d=d.next;do{if((h.tag&n)===n){var v=h.destroy;h.destroy=void 0,v!==void 0&&fu(s,l,v)}h=h.next}while(h!==d)}}function Wi(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&n)===n){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function hu(n){var s=n.ref;if(s!==null){var l=n.stateNode;switch(n.tag){case 5:n=l;break;default:n=l}typeof s=="function"?s(n):s.current=n}}function Up(n){var s=n.alternate;s!==null&&(n.alternate=null,Up(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[or],delete s[ca],delete s[Pc],delete s[mw],delete s[gw])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Bp(n){return n.tag===5||n.tag===3||n.tag===4}function Hp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Bp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function pu(n,s,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(n,s):l.insertBefore(n,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(n,l)):(s=l,s.appendChild(n)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=yi));else if(d!==4&&(n=n.child,n!==null))for(pu(n,s,l),n=n.sibling;n!==null;)pu(n,s,l),n=n.sibling}function mu(n,s,l){var d=n.tag;if(d===5||d===6)n=n.stateNode,s?l.insertBefore(n,s):l.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(mu(n,s,l),n=n.sibling;n!==null;)mu(n,s,l),n=n.sibling}var zt=null,Un=!1;function Xr(n,s,l){for(l=l.child;l!==null;)Vp(n,s,l),l=l.sibling}function Vp(n,s,l){if(sr&&typeof sr.onCommitFiberUnmount=="function")try{sr.onCommitFiberUnmount(ei,l)}catch{}switch(l.tag){case 5:Kt||co(l,s);case 6:var d=zt,h=Un;zt=null,Xr(n,s,l),zt=d,Un=h,zt!==null&&(Un?(n=zt,l=l.stateNode,n.nodeType===8?n.parentNode.removeChild(l):n.removeChild(l)):zt.removeChild(l.stateNode));break;case 18:zt!==null&&(Un?(n=zt,l=l.stateNode,n.nodeType===8?Ec(n.parentNode,l):n.nodeType===1&&Ec(n,l),Jo(n)):Ec(zt,l.stateNode));break;case 4:d=zt,h=Un,zt=l.stateNode.containerInfo,Un=!0,Xr(n,s,l),zt=d,Un=h;break;case 0:case 11:case 14:case 15:if(!Kt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){h=d=d.next;do{var v=h,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&fu(l,s,S),h=h.next}while(h!==d)}Xr(n,s,l);break;case 1:if(!Kt&&(co(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(D){vt(l,s,D)}Xr(n,s,l);break;case 21:Xr(n,s,l);break;case 22:l.mode&1?(Kt=(d=Kt)||l.memoizedState!==null,Xr(n,s,l),Kt=d):Xr(n,s,l);break;default:Xr(n,s,l)}}function qp(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var l=n.stateNode;l===null&&(l=n.stateNode=new Dw),s.forEach(function(d){var h=Uw.bind(null,n,d);l.has(d)||(l.add(d),d.then(h,h))})}}function Bn(n,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var h=l[d];try{var v=n,S=s,D=S;e:for(;D!==null;){switch(D.tag){case 5:zt=D.stateNode,Un=!1;break e;case 3:zt=D.stateNode.containerInfo,Un=!0;break e;case 4:zt=D.stateNode.containerInfo,Un=!0;break e}D=D.return}if(zt===null)throw Error(r(160));Vp(v,S,h),zt=null,Un=!1;var I=h.alternate;I!==null&&(I.return=null),h.return=null}catch(V){vt(h,s,V)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Yp(s,n),s=s.sibling}function Yp(n,s){var l=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Bn(s,n),lr(n),d&4){try{wa(3,n,n.return),Wi(3,n)}catch(je){vt(n,n.return,je)}try{wa(5,n,n.return)}catch(je){vt(n,n.return,je)}}break;case 1:Bn(s,n),lr(n),d&512&&l!==null&&co(l,l.return);break;case 5:if(Bn(s,n),lr(n),d&512&&l!==null&&co(l,l.return),n.flags&32){var h=n.stateNode;try{Ht(h,"")}catch(je){vt(n,n.return,je)}}if(d&4&&(h=n.stateNode,h!=null)){var v=n.memoizedProps,S=l!==null?l.memoizedProps:v,D=n.type,I=n.updateQueue;if(n.updateQueue=null,I!==null)try{D==="input"&&v.type==="radio"&&v.name!=null&&Me(h,v),C(D,S);var V=C(D,v);for(S=0;S<I.length;S+=2){var ee=I[S],oe=I[S+1];ee==="style"?_r(h,oe):ee==="dangerouslySetInnerHTML"?er(h,oe):ee==="children"?Ht(h,oe):E(h,ee,oe,V)}switch(D){case"input":ht(h,v);break;case"textarea":Lr(h,v);break;case"select":var J=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!v.multiple;var ye=v.value;ye!=null?ln(h,!!v.multiple,ye,!1):J!==!!v.multiple&&(v.defaultValue!=null?ln(h,!!v.multiple,v.defaultValue,!0):ln(h,!!v.multiple,v.multiple?[]:"",!1))}h[ca]=v}catch(je){vt(n,n.return,je)}}break;case 6:if(Bn(s,n),lr(n),d&4){if(n.stateNode===null)throw Error(r(162));h=n.stateNode,v=n.memoizedProps;try{h.nodeValue=v}catch(je){vt(n,n.return,je)}}break;case 3:if(Bn(s,n),lr(n),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Jo(s.containerInfo)}catch(je){vt(n,n.return,je)}break;case 4:Bn(s,n),lr(n);break;case 13:Bn(s,n),lr(n),h=n.child,h.flags&8192&&(v=h.memoizedState!==null,h.stateNode.isHidden=v,!v||h.alternate!==null&&h.alternate.memoizedState!==null||(yu=xt())),d&4&&qp(n);break;case 22:if(ee=l!==null&&l.memoizedState!==null,n.mode&1?(Kt=(V=Kt)||ee,Bn(s,n),Kt=V):Bn(s,n),lr(n),d&8192){if(V=n.memoizedState!==null,(n.stateNode.isHidden=V)&&!ee&&(n.mode&1)!==0)for(xe=n,ee=n.child;ee!==null;){for(oe=xe=ee;xe!==null;){switch(J=xe,ye=J.child,J.tag){case 0:case 11:case 14:case 15:wa(4,J,J.return);break;case 1:co(J,J.return);var _e=J.stateNode;if(typeof _e.componentWillUnmount=="function"){d=J,l=J.return;try{s=d,_e.props=s.memoizedProps,_e.state=s.memoizedState,_e.componentWillUnmount()}catch(je){vt(d,l,je)}}break;case 5:co(J,J.return);break;case 22:if(J.memoizedState!==null){Qp(oe);continue}}ye!==null?(ye.return=J,xe=ye):Qp(oe)}ee=ee.sibling}e:for(ee=null,oe=n;;){if(oe.tag===5){if(ee===null){ee=oe;try{h=oe.stateNode,V?(v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(D=oe.stateNode,I=oe.memoizedProps.style,S=I!=null&&I.hasOwnProperty("display")?I.display:null,D.style.display=tr("display",S))}catch(je){vt(n,n.return,je)}}}else if(oe.tag===6){if(ee===null)try{oe.stateNode.nodeValue=V?"":oe.memoizedProps}catch(je){vt(n,n.return,je)}}else if((oe.tag!==22&&oe.tag!==23||oe.memoizedState===null||oe===n)&&oe.child!==null){oe.child.return=oe,oe=oe.child;continue}if(oe===n)break e;for(;oe.sibling===null;){if(oe.return===null||oe.return===n)break e;ee===oe&&(ee=null),oe=oe.return}ee===oe&&(ee=null),oe.sibling.return=oe.return,oe=oe.sibling}}break;case 19:Bn(s,n),lr(n),d&4&&qp(n);break;case 21:break;default:Bn(s,n),lr(n)}}function lr(n){var s=n.flags;if(s&2){try{e:{for(var l=n.return;l!==null;){if(Bp(l)){var d=l;break e}l=l.return}throw Error(r(160))}switch(d.tag){case 5:var h=d.stateNode;d.flags&32&&(Ht(h,""),d.flags&=-33);var v=Hp(n);mu(n,v,h);break;case 3:case 4:var S=d.stateNode.containerInfo,D=Hp(n);pu(n,D,S);break;default:throw Error(r(161))}}catch(I){vt(n,n.return,I)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Mw(n,s,l){xe=n,Kp(n)}function Kp(n,s,l){for(var d=(n.mode&1)!==0;xe!==null;){var h=xe,v=h.child;if(h.tag===22&&d){var S=h.memoizedState!==null||zi;if(!S){var D=h.alternate,I=D!==null&&D.memoizedState!==null||Kt;D=zi;var V=Kt;if(zi=S,(Kt=I)&&!V)for(xe=h;xe!==null;)S=xe,I=S.child,S.tag===22&&S.memoizedState!==null?Xp(h):I!==null?(I.return=S,xe=I):Xp(h);for(;v!==null;)xe=v,Kp(v),v=v.sibling;xe=h,zi=D,Kt=V}Gp(n)}else(h.subtreeFlags&8772)!==0&&v!==null?(v.return=h,xe=v):Gp(n)}}function Gp(n){for(;xe!==null;){var s=xe;if((s.flags&8772)!==0){var l=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Kt||Wi(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Kt)if(l===null)d.componentDidMount();else{var h=s.elementType===s.type?l.memoizedProps:Wn(s.type,l.memoizedProps);d.componentDidUpdate(h,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&Qh(s,v,d);break;case 3:var S=s.updateQueue;if(S!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Qh(s,S,l)}break;case 5:var D=s.stateNode;if(l===null&&s.flags&4){l=D;var I=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&l.focus();break;case"img":I.src&&(l.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var V=s.alternate;if(V!==null){var ee=V.memoizedState;if(ee!==null){var oe=ee.dehydrated;oe!==null&&Jo(oe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Kt||s.flags&512&&hu(s)}catch(J){vt(s,s.return,J)}}if(s===n){xe=null;break}if(l=s.sibling,l!==null){l.return=s.return,xe=l;break}xe=s.return}}function Qp(n){for(;xe!==null;){var s=xe;if(s===n){xe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,xe=l;break}xe=s.return}}function Xp(n){for(;xe!==null;){var s=xe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Wi(4,s)}catch(I){vt(s,l,I)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var h=s.return;try{d.componentDidMount()}catch(I){vt(s,h,I)}}var v=s.return;try{hu(s)}catch(I){vt(s,v,I)}break;case 5:var S=s.return;try{hu(s)}catch(I){vt(s,S,I)}}}catch(I){vt(s,s.return,I)}if(s===n){xe=null;break}var D=s.sibling;if(D!==null){D.return=s.return,xe=D;break}xe=s.return}}var Aw=Math.ceil,Ui=T.ReactCurrentDispatcher,gu=T.ReactCurrentOwner,Rn=T.ReactCurrentBatchConfig,et=0,Mt=null,bt=null,Wt=0,bn=0,uo=qr(0),Ct=0,_a=null,ks=0,Bi=0,vu=0,ba=null,fn=null,yu=0,fo=1/0,Pr=null,Hi=!1,xu=null,Jr=null,Vi=!1,Zr=null,qi=0,Sa=0,wu=null,Yi=-1,Ki=0;function tn(){return(et&6)!==0?xt():Yi!==-1?Yi:Yi=xt()}function es(n){return(n.mode&1)===0?1:(et&2)!==0&&Wt!==0?Wt&-Wt:yw.transition!==null?(Ki===0&&(Ki=Hf()),Ki):(n=st,n!==0||(n=window.event,n=n===void 0?16:Zf(n.type)),n)}function Hn(n,s,l,d){if(50<Sa)throw Sa=0,wu=null,Error(r(185));Yo(n,l,d),((et&2)===0||n!==Mt)&&(n===Mt&&((et&2)===0&&(Bi|=l),Ct===4&&ts(n,Wt)),hn(n,d),l===1&&et===0&&(s.mode&1)===0&&(fo=xt()+500,bi&&Kr()))}function hn(n,s){var l=n.callbackNode;y0(n,s);var d=ri(n,n===Mt?Wt:0);if(d===0)l!==null&&Wf(l),n.callbackNode=null,n.callbackPriority=0;else if(s=d&-d,n.callbackPriority!==s){if(l!=null&&Wf(l),s===1)n.tag===0?vw(Zp.bind(null,n)):$h(Zp.bind(null,n)),hw(function(){(et&6)===0&&Kr()}),l=null;else{switch(Vf(d)){case 1:l=Zl;break;case 4:l=Uf;break;case 16:l=Za;break;case 536870912:l=Bf;break;default:l=Za}l=im(l,Jp.bind(null,n))}n.callbackPriority=s,n.callbackNode=l}}function Jp(n,s){if(Yi=-1,Ki=0,(et&6)!==0)throw Error(r(327));var l=n.callbackNode;if(ho()&&n.callbackNode!==l)return null;var d=ri(n,n===Mt?Wt:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||s)s=Gi(n,d);else{s=d;var h=et;et|=2;var v=tm();(Mt!==n||Wt!==s)&&(Pr=null,fo=xt()+500,Ns(n,s));do try{$w();break}catch(D){em(n,D)}while(!0);$c(),Ui.current=v,et=h,bt!==null?s=0:(Mt=null,Wt=0,s=Ct)}if(s!==0){if(s===2&&(h=ec(n),h!==0&&(d=h,s=_u(n,h))),s===1)throw l=_a,Ns(n,0),ts(n,d),hn(n,xt()),l;if(s===6)ts(n,d);else{if(h=n.current.alternate,(d&30)===0&&!Iw(h)&&(s=Gi(n,d),s===2&&(v=ec(n),v!==0&&(d=v,s=_u(n,v))),s===1))throw l=_a,Ns(n,0),ts(n,d),hn(n,xt()),l;switch(n.finishedWork=h,n.finishedLanes=d,s){case 0:case 1:throw Error(r(345));case 2:Cs(n,fn,Pr);break;case 3:if(ts(n,d),(d&130023424)===d&&(s=yu+500-xt(),10<s)){if(ri(n,0)!==0)break;if(h=n.suspendedLanes,(h&d)!==d){tn(),n.pingedLanes|=n.suspendedLanes&h;break}n.timeoutHandle=Cc(Cs.bind(null,n,fn,Pr),s);break}Cs(n,fn,Pr);break;case 4:if(ts(n,d),(d&4194240)===d)break;for(s=n.eventTimes,h=-1;0<d;){var S=31-$n(d);v=1<<S,S=s[S],S>h&&(h=S),d&=~v}if(d=h,d=xt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Aw(d/1960))-d,10<d){n.timeoutHandle=Cc(Cs.bind(null,n,fn,Pr),d);break}Cs(n,fn,Pr);break;case 5:Cs(n,fn,Pr);break;default:throw Error(r(329))}}}return hn(n,xt()),n.callbackNode===l?Jp.bind(null,n):null}function _u(n,s){var l=ba;return n.current.memoizedState.isDehydrated&&(Ns(n,s).flags|=256),n=Gi(n,s),n!==2&&(s=fn,fn=l,s!==null&&bu(s)),n}function bu(n){fn===null?fn=n:fn.push.apply(fn,n)}function Iw(n){for(var s=n;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var h=l[d],v=h.getSnapshot;h=h.value;try{if(!Fn(v(),h))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ts(n,s){for(s&=~vu,s&=~Bi,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var l=31-$n(s),d=1<<l;n[l]=-1,s&=~d}}function Zp(n){if((et&6)!==0)throw Error(r(327));ho();var s=ri(n,0);if((s&1)===0)return hn(n,xt()),null;var l=Gi(n,s);if(n.tag!==0&&l===2){var d=ec(n);d!==0&&(s=d,l=_u(n,d))}if(l===1)throw l=_a,Ns(n,0),ts(n,s),hn(n,xt()),l;if(l===6)throw Error(r(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,Cs(n,fn,Pr),hn(n,xt()),null}function Su(n,s){var l=et;et|=1;try{return n(s)}finally{et=l,et===0&&(fo=xt()+500,bi&&Kr())}}function js(n){Zr!==null&&Zr.tag===0&&(et&6)===0&&ho();var s=et;et|=1;var l=Rn.transition,d=st;try{if(Rn.transition=null,st=1,n)return n()}finally{st=d,Rn.transition=l,et=s,(et&6)===0&&Kr()}}function ku(){bn=uo.current,ut(uo)}function Ns(n,s){n.finishedWork=null,n.finishedLanes=0;var l=n.timeoutHandle;if(l!==-1&&(n.timeoutHandle=-1,fw(l)),bt!==null)for(l=bt.return;l!==null;){var d=l;switch(Rc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&wi();break;case 3:io(),ut(cn),ut(Vt),qc();break;case 5:Hc(d);break;case 4:io();break;case 13:ut(pt);break;case 19:ut(pt);break;case 10:Fc(d.type._context);break;case 22:case 23:ku()}l=l.return}if(Mt=n,bt=n=ns(n.current,null),Wt=bn=s,Ct=0,_a=null,vu=Bi=ks=0,fn=ba=null,_s!==null){for(s=0;s<_s.length;s++)if(l=_s[s],d=l.interleaved,d!==null){l.interleaved=null;var h=d.next,v=l.pending;if(v!==null){var S=v.next;v.next=h,d.next=S}l.pending=d}_s=null}return n}function em(n,s){do{var l=bt;try{if($c(),Di.current=Ii,Ri){for(var d=mt.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}Ri=!1}if(Ss=0,Rt=Nt=mt=null,ma=!1,ga=0,gu.current=null,l===null||l.return===null){Ct=1,_a=s,bt=null;break}e:{var v=n,S=l.return,D=l,I=s;if(s=Wt,D.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var V=I,ee=D,oe=ee.tag;if((ee.mode&1)===0&&(oe===0||oe===11||oe===15)){var J=ee.alternate;J?(ee.updateQueue=J.updateQueue,ee.memoizedState=J.memoizedState,ee.lanes=J.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var ye=jp(S);if(ye!==null){ye.flags&=-257,Np(ye,S,D,v,s),ye.mode&1&&kp(v,V,s),s=ye,I=V;var _e=s.updateQueue;if(_e===null){var je=new Set;je.add(I),s.updateQueue=je}else _e.add(I);break e}else{if((s&1)===0){kp(v,V,s),ju();break e}I=Error(r(426))}}else if(dt&&D.mode&1){var wt=jp(S);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),Np(wt,S,D,v,s),Ic(lo(I,D));break e}}v=I=lo(I,D),Ct!==4&&(Ct=2),ba===null?ba=[v]:ba.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var U=bp(v,I,s);Gh(v,U);break e;case 1:D=I;var $=v.type,H=v.stateNode;if((v.flags&128)===0&&(typeof $.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(Jr===null||!Jr.has(H)))){v.flags|=65536,s&=-s,v.lanes|=s;var ue=Sp(v,D,s);Gh(v,ue);break e}}v=v.return}while(v!==null)}rm(l)}catch(Ee){s=Ee,bt===l&&l!==null&&(bt=l=l.return);continue}break}while(!0)}function tm(){var n=Ui.current;return Ui.current=Ii,n===null?Ii:n}function ju(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),Mt===null||(ks&268435455)===0&&(Bi&268435455)===0||ts(Mt,Wt)}function Gi(n,s){var l=et;et|=2;var d=tm();(Mt!==n||Wt!==s)&&(Pr=null,Ns(n,s));do try{Lw();break}catch(h){em(n,h)}while(!0);if($c(),et=l,Ui.current=d,bt!==null)throw Error(r(261));return Mt=null,Wt=0,Ct}function Lw(){for(;bt!==null;)nm(bt)}function $w(){for(;bt!==null&&!c0();)nm(bt)}function nm(n){var s=am(n.alternate,n,bn);n.memoizedProps=n.pendingProps,s===null?rm(n):bt=s,gu.current=null}function rm(n){var s=n;do{var l=s.alternate;if(n=s.return,(s.flags&32768)===0){if(l=Tw(l,s,bn),l!==null){bt=l;return}}else{if(l=Ow(l,s),l!==null){l.flags&=32767,bt=l;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ct=6,bt=null;return}}if(s=s.sibling,s!==null){bt=s;return}bt=s=n}while(s!==null);Ct===0&&(Ct=5)}function Cs(n,s,l){var d=st,h=Rn.transition;try{Rn.transition=null,st=1,Fw(n,s,l,d)}finally{Rn.transition=h,st=d}return null}function Fw(n,s,l,d){do ho();while(Zr!==null);if((et&6)!==0)throw Error(r(327));l=n.finishedWork;var h=n.finishedLanes;if(l===null)return null;if(n.finishedWork=null,n.finishedLanes=0,l===n.current)throw Error(r(177));n.callbackNode=null,n.callbackPriority=0;var v=l.lanes|l.childLanes;if(x0(n,v),n===Mt&&(bt=Mt=null,Wt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Vi||(Vi=!0,im(Za,function(){return ho(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=Rn.transition,Rn.transition=null;var S=st;st=1;var D=et;et|=4,gu.current=null,Rw(n,l),Yp(l,n),ow(jc),ai=!!kc,jc=kc=null,n.current=l,Mw(l),u0(),et=D,st=S,Rn.transition=v}else n.current=l;if(Vi&&(Vi=!1,Zr=n,qi=h),v=n.pendingLanes,v===0&&(Jr=null),h0(l.stateNode),hn(n,xt()),s!==null)for(d=n.onRecoverableError,l=0;l<s.length;l++)h=s[l],d(h.value,{componentStack:h.stack,digest:h.digest});if(Hi)throw Hi=!1,n=xu,xu=null,n;return(qi&1)!==0&&n.tag!==0&&ho(),v=n.pendingLanes,(v&1)!==0?n===wu?Sa++:(Sa=0,wu=n):Sa=0,Kr(),null}function ho(){if(Zr!==null){var n=Vf(qi),s=Rn.transition,l=st;try{if(Rn.transition=null,st=16>n?16:n,Zr===null)var d=!1;else{if(n=Zr,Zr=null,qi=0,(et&6)!==0)throw Error(r(331));var h=et;for(et|=4,xe=n.current;xe!==null;){var v=xe,S=v.child;if((xe.flags&16)!==0){var D=v.deletions;if(D!==null){for(var I=0;I<D.length;I++){var V=D[I];for(xe=V;xe!==null;){var ee=xe;switch(ee.tag){case 0:case 11:case 15:wa(8,ee,v)}var oe=ee.child;if(oe!==null)oe.return=ee,xe=oe;else for(;xe!==null;){ee=xe;var J=ee.sibling,ye=ee.return;if(Up(ee),ee===V){xe=null;break}if(J!==null){J.return=ye,xe=J;break}xe=ye}}}var _e=v.alternate;if(_e!==null){var je=_e.child;if(je!==null){_e.child=null;do{var wt=je.sibling;je.sibling=null,je=wt}while(je!==null)}}xe=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,xe=S;else e:for(;xe!==null;){if(v=xe,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:wa(9,v,v.return)}var U=v.sibling;if(U!==null){U.return=v.return,xe=U;break e}xe=v.return}}var $=n.current;for(xe=$;xe!==null;){S=xe;var H=S.child;if((S.subtreeFlags&2064)!==0&&H!==null)H.return=S,xe=H;else e:for(S=$;xe!==null;){if(D=xe,(D.flags&2048)!==0)try{switch(D.tag){case 0:case 11:case 15:Wi(9,D)}}catch(Ee){vt(D,D.return,Ee)}if(D===S){xe=null;break e}var ue=D.sibling;if(ue!==null){ue.return=D.return,xe=ue;break e}xe=D.return}}if(et=h,Kr(),sr&&typeof sr.onPostCommitFiberRoot=="function")try{sr.onPostCommitFiberRoot(ei,n)}catch{}d=!0}return d}finally{st=l,Rn.transition=s}}return!1}function sm(n,s,l){s=lo(l,s),s=bp(n,s,1),n=Qr(n,s,1),s=tn(),n!==null&&(Yo(n,1,s),hn(n,s))}function vt(n,s,l){if(n.tag===3)sm(n,n,l);else for(;s!==null;){if(s.tag===3){sm(s,n,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Jr===null||!Jr.has(d))){n=lo(l,n),n=Sp(s,n,1),s=Qr(s,n,1),n=tn(),s!==null&&(Yo(s,1,n),hn(s,n));break}}s=s.return}}function zw(n,s,l){var d=n.pingCache;d!==null&&d.delete(s),s=tn(),n.pingedLanes|=n.suspendedLanes&l,Mt===n&&(Wt&l)===l&&(Ct===4||Ct===3&&(Wt&130023424)===Wt&&500>xt()-yu?Ns(n,0):vu|=l),hn(n,s)}function om(n,s){s===0&&((n.mode&1)===0?s=1:(s=ni,ni<<=1,(ni&130023424)===0&&(ni=4194304)));var l=tn();n=Nr(n,s),n!==null&&(Yo(n,s,l),hn(n,l))}function Ww(n){var s=n.memoizedState,l=0;s!==null&&(l=s.retryLane),om(n,l)}function Uw(n,s){var l=0;switch(n.tag){case 13:var d=n.stateNode,h=n.memoizedState;h!==null&&(l=h.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(r(314))}d!==null&&d.delete(s),om(n,l)}var am;am=function(n,s,l){if(n!==null)if(n.memoizedProps!==s.pendingProps||cn.current)dn=!0;else{if((n.lanes&l)===0&&(s.flags&128)===0)return dn=!1,Pw(n,s,l);dn=(n.flags&131072)!==0}else dn=!1,dt&&(s.flags&1048576)!==0&&Fh(s,ki,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Fi(n,s),n=s.pendingProps;var h=eo(s,Vt.current);ao(s,l),h=Gc(null,s,d,n,h,l);var v=Qc();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,un(d)?(v=!0,_i(s)):v=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Uc(s),h.updater=Li,s.stateNode=h,h._reactInternals=s,nu(s,d,n,l),s=au(null,s,d,!0,v,l)):(s.tag=0,dt&&v&&Dc(s),en(null,s,h,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Fi(n,s),n=s.pendingProps,h=d._init,d=h(d._payload),s.type=d,h=s.tag=Hw(d),n=Wn(d,n),h){case 0:s=ou(null,s,d,n,l);break e;case 1:s=Dp(null,s,d,n,l);break e;case 11:s=Cp(null,s,d,n,l);break e;case 14:s=Ep(null,s,d,Wn(d.type,n),l);break e}throw Error(r(306,d,""))}return s;case 0:return d=s.type,h=s.pendingProps,h=s.elementType===d?h:Wn(d,h),ou(n,s,d,h,l);case 1:return d=s.type,h=s.pendingProps,h=s.elementType===d?h:Wn(d,h),Dp(n,s,d,h,l);case 3:e:{if(Rp(s),n===null)throw Error(r(387));d=s.pendingProps,v=s.memoizedState,h=v.element,Kh(n,s),Ti(s,d,null,l);var S=s.memoizedState;if(d=S.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){h=lo(Error(r(423)),s),s=Mp(n,s,d,l,h);break e}else if(d!==h){h=lo(Error(r(424)),s),s=Mp(n,s,d,l,h);break e}else for(_n=Vr(s.stateNode.containerInfo.firstChild),wn=s,dt=!0,zn=null,l=qh(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ro(),d===h){s=Er(n,s,l);break e}en(n,s,d,l)}s=s.child}return s;case 5:return Xh(s),n===null&&Ac(s),d=s.type,h=s.pendingProps,v=n!==null?n.memoizedProps:null,S=h.children,Nc(d,h)?S=null:v!==null&&Nc(d,v)&&(s.flags|=32),Op(n,s),en(n,s,S,l),s.child;case 6:return n===null&&Ac(s),null;case 13:return Ap(n,s,l);case 4:return Bc(s,s.stateNode.containerInfo),d=s.pendingProps,n===null?s.child=so(s,null,d,l):en(n,s,d,l),s.child;case 11:return d=s.type,h=s.pendingProps,h=s.elementType===d?h:Wn(d,h),Cp(n,s,d,h,l);case 7:return en(n,s,s.pendingProps,l),s.child;case 8:return en(n,s,s.pendingProps.children,l),s.child;case 12:return en(n,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,h=s.pendingProps,v=s.memoizedProps,S=h.value,at(Ci,d._currentValue),d._currentValue=S,v!==null)if(Fn(v.value,S)){if(v.children===h.children&&!cn.current){s=Er(n,s,l);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var D=v.dependencies;if(D!==null){S=v.child;for(var I=D.firstContext;I!==null;){if(I.context===d){if(v.tag===1){I=Cr(-1,l&-l),I.tag=2;var V=v.updateQueue;if(V!==null){V=V.shared;var ee=V.pending;ee===null?I.next=I:(I.next=ee.next,ee.next=I),V.pending=I}}v.lanes|=l,I=v.alternate,I!==null&&(I.lanes|=l),zc(v.return,l,s),D.lanes|=l;break}I=I.next}}else if(v.tag===10)S=v.type===s.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(r(341));S.lanes|=l,D=S.alternate,D!==null&&(D.lanes|=l),zc(S,l,s),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===s){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}en(n,s,h.children,l),s=s.child}return s;case 9:return h=s.type,d=s.pendingProps.children,ao(s,l),h=On(h),d=d(h),s.flags|=1,en(n,s,d,l),s.child;case 14:return d=s.type,h=Wn(d,s.pendingProps),h=Wn(d.type,h),Ep(n,s,d,h,l);case 15:return Pp(n,s,s.type,s.pendingProps,l);case 17:return d=s.type,h=s.pendingProps,h=s.elementType===d?h:Wn(d,h),Fi(n,s),s.tag=1,un(d)?(n=!0,_i(s)):n=!1,ao(s,l),wp(s,d,h),nu(s,d,h,l),au(null,s,d,!0,n,l);case 19:return Lp(n,s,l);case 22:return Tp(n,s,l)}throw Error(r(156,s.tag))};function im(n,s){return zf(n,s)}function Bw(n,s,l,d){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(n,s,l,d){return new Bw(n,s,l,d)}function Nu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Hw(n){if(typeof n=="function")return Nu(n)?1:0;if(n!=null){if(n=n.$$typeof,n===ce)return 11;if(n===Pe)return 14}return 2}function ns(n,s){var l=n.alternate;return l===null?(l=Mn(n.tag,s,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=s,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&14680064,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,s=n.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l}function Qi(n,s,l,d,h,v){var S=2;if(d=n,typeof n=="function")Nu(n)&&(S=1);else if(typeof n=="string")S=5;else e:switch(n){case W:return Es(l.children,h,v,s);case A:S=8,h|=8;break;case q:return n=Mn(12,l,s,h|2),n.elementType=q,n.lanes=v,n;case we:return n=Mn(13,l,s,h),n.elementType=we,n.lanes=v,n;case ge:return n=Mn(19,l,s,h),n.elementType=ge,n.lanes=v,n;case Q:return Xi(l,h,v,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Y:S=10;break e;case Z:S=9;break e;case ce:S=11;break e;case Pe:S=14;break e;case de:S=16,d=null;break e}throw Error(r(130,n==null?n:typeof n,""))}return s=Mn(S,l,s,h),s.elementType=n,s.type=d,s.lanes=v,s}function Es(n,s,l,d){return n=Mn(7,n,d,s),n.lanes=l,n}function Xi(n,s,l,d){return n=Mn(22,n,d,s),n.elementType=Q,n.lanes=l,n.stateNode={isHidden:!1},n}function Cu(n,s,l){return n=Mn(6,n,null,s),n.lanes=l,n}function Eu(n,s,l){return s=Mn(4,n.children!==null?n.children:[],n.key,s),s.lanes=l,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function Vw(n,s,l,d,h){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tc(0),this.expirationTimes=tc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tc(0),this.identifierPrefix=d,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Pu(n,s,l,d,h,v,S,D,I){return n=new Vw(n,s,l,D,I),s===1?(s=1,v===!0&&(s|=8)):s=0,v=Mn(3,null,null,s),n.current=v,v.stateNode=n,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Uc(v),n}function qw(n,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:d==null?null:""+d,children:n,containerInfo:s,implementation:l}}function lm(n){if(!n)return Yr;n=n._reactInternals;e:{if(gs(n)!==n||n.tag!==1)throw Error(r(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(un(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(n.tag===1){var l=n.type;if(un(l))return Ih(n,l,s)}return s}function cm(n,s,l,d,h,v,S,D,I){return n=Pu(l,d,!0,n,h,v,S,D,I),n.context=lm(null),l=n.current,d=tn(),h=es(l),v=Cr(d,h),v.callback=s??null,Qr(l,v,h),n.current.lanes=h,Yo(n,h,d),hn(n,d),n}function Ji(n,s,l,d){var h=s.current,v=tn(),S=es(h);return l=lm(l),s.context===null?s.context=l:s.pendingContext=l,s=Cr(v,S),s.payload={element:n},d=d===void 0?null:d,d!==null&&(s.callback=d),n=Qr(h,s,S),n!==null&&(Hn(n,h,S,v),Pi(n,h,S)),S}function Zi(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function um(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<s?l:s}}function Tu(n,s){um(n,s),(n=n.alternate)&&um(n,s)}function Yw(){return null}var dm=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ou(n){this._internalRoot=n}el.prototype.render=Ou.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));Ji(n,s,null,null)},el.prototype.unmount=Ou.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;js(function(){Ji(null,n,null,null)}),s[br]=null}};function el(n){this._internalRoot=n}el.prototype.unstable_scheduleHydration=function(n){if(n){var s=Kf();n={blockedOn:null,target:n,priority:s};for(var l=0;l<Ur.length&&s!==0&&s<Ur[l].priority;l++);Ur.splice(l,0,n),l===0&&Xf(n)}};function Du(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function tl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function fm(){}function Kw(n,s,l,d,h){if(h){if(typeof d=="function"){var v=d;d=function(){var V=Zi(S);v.call(V)}}var S=cm(s,d,n,0,null,!1,!1,"",fm);return n._reactRootContainer=S,n[br]=S.current,ia(n.nodeType===8?n.parentNode:n),js(),S}for(;h=n.lastChild;)n.removeChild(h);if(typeof d=="function"){var D=d;d=function(){var V=Zi(I);D.call(V)}}var I=Pu(n,0,!1,null,null,!1,!1,"",fm);return n._reactRootContainer=I,n[br]=I.current,ia(n.nodeType===8?n.parentNode:n),js(function(){Ji(s,I,l,d)}),I}function nl(n,s,l,d,h){var v=l._reactRootContainer;if(v){var S=v;if(typeof h=="function"){var D=h;h=function(){var I=Zi(S);D.call(I)}}Ji(s,S,n,h)}else S=Kw(l,s,n,h,d);return Zi(S)}qf=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var l=qo(s.pendingLanes);l!==0&&(nc(s,l|1),hn(s,xt()),(et&6)===0&&(fo=xt()+500,Kr()))}break;case 13:js(function(){var d=Nr(n,1);if(d!==null){var h=tn();Hn(d,n,1,h)}}),Tu(n,1)}},rc=function(n){if(n.tag===13){var s=Nr(n,134217728);if(s!==null){var l=tn();Hn(s,n,134217728,l)}Tu(n,134217728)}},Yf=function(n){if(n.tag===13){var s=es(n),l=Nr(n,s);if(l!==null){var d=tn();Hn(l,n,s,d)}Tu(n,s)}},Kf=function(){return st},Gf=function(n,s){var l=st;try{return st=n,s()}finally{st=l}},z=function(n,s,l){switch(s){case"input":if(ht(n,l),s=l.name,l.type==="radio"&&s!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==n&&d.form===n.form){var h=xi(d);if(!h)throw Error(r(90));Ze(d),ht(d,h)}}}break;case"textarea":Lr(n,l);break;case"select":s=l.value,s!=null&&ln(n,!!l.multiple,s,!1)}},pe=Su,ke=js;var Gw={usingClientEntryPoint:!1,Events:[ua,Js,xi,fe,he,Su]},ka={findFiberByHostInstance:vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qw={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=$f(n),n===null?null:n.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||Yw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{ei=rl.inject(Qw),sr=rl}catch{}}return pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gw,pn.createPortal=function(n,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Du(s))throw Error(r(200));return qw(n,s,null,l)},pn.createRoot=function(n,s){if(!Du(n))throw Error(r(299));var l=!1,d="",h=dm;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=Pu(n,1,!1,null,null,l,!1,d,h),n[br]=s.current,ia(n.nodeType===8?n.parentNode:n),new Ou(s)},pn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=$f(s),n=n===null?null:n.stateNode,n},pn.flushSync=function(n){return js(n)},pn.hydrate=function(n,s,l){if(!tl(s))throw Error(r(200));return nl(null,n,s,!0,l)},pn.hydrateRoot=function(n,s,l){if(!Du(n))throw Error(r(405));var d=l!=null&&l.hydratedSources||null,h=!1,v="",S=dm;if(l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),s=cm(s,null,n,1,l??null,h,!1,v,S),n[br]=s.current,ia(n),d)for(n=0;n<d.length;n++)l=d[n],h=l._getVersion,h=h(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,h]:s.mutableSourceEagerHydrationData.push(l,h);return new el(s)},pn.render=function(n,s,l){if(!tl(s))throw Error(r(200));return nl(null,n,s,!1,l)},pn.unmountComponentAtNode=function(n){if(!tl(n))throw Error(r(40));return n._reactRootContainer?(js(function(){nl(null,null,n,!1,function(){n._reactRootContainer=null,n[br]=null})}),!0):!1},pn.unstable_batchedUpdates=Su,pn.unstable_renderSubtreeIntoContainer=function(n,s,l,d){if(!tl(l))throw Error(r(200));if(n==null||n._reactInternals===void 0)throw Error(r(38));return nl(n,s,l,!1,d)},pn.version="18.3.1-next-f1338f8080-20240426",pn}var wm;function Wg(){if(wm)return Au.exports;wm=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Au.exports=o_(),Au.exports}var _m;function a_(){if(_m)return sl;_m=1;var e=Wg();return sl.createRoot=e.createRoot,sl.hydrateRoot=e.hydrateRoot,sl}var i_=a_(),x=Vd();const Sn=Hd(x),Ug=Jw({__proto__:null,default:Sn},[x]);function bm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Bg(...e){return t=>{let r=!1;const o=e.map(a=>{const c=bm(a,t);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let a=0;a<o.length;a++){const c=o[a];typeof c=="function"?c():bm(e[a],null)}}}}function ft(...e){return x.useCallback(Bg(...e),e)}function Mo(e){const t=l_(e),r=x.forwardRef((o,a)=>{const{children:c,...u}=o,f=x.Children.toArray(c),p=f.find(u_);if(p){const m=p.props.children,g=f.map(y=>y===p?x.Children.count(m)>1?x.Children.only(null):x.isValidElement(m)?m.props.children:null:y);return i.jsx(t,{...u,ref:a,children:x.isValidElement(m)?x.cloneElement(m,void 0,g):null})}return i.jsx(t,{...u,ref:a,children:c})});return r.displayName=`${e}.Slot`,r}var qd=Mo("Slot");function l_(e){const t=x.forwardRef((r,o)=>{const{children:a,...c}=r;if(x.isValidElement(a)){const u=f_(a),f=d_(c,a.props);return a.type!==x.Fragment&&(f.ref=o?Bg(o,u):u),x.cloneElement(a,f)}return x.Children.count(a)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Hg=Symbol("radix.slottable");function c_(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Hg,t}function u_(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Hg}function d_(e,t){const r={...t};for(const o in t){const a=e[o],c=t[o];/^on[A-Z]/.test(o)?a&&c?r[o]=(...f)=>{const p=c(...f);return a(...f),p}:a&&(r[o]=a):o==="style"?r[o]={...a,...c}:o==="className"&&(r[o]=[a,c].filter(Boolean).join(" "))}return{...e,...r}}function f_(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Vg(e){var t,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Vg(e[t]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}function qg(){for(var e,t,r=0,o="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Vg(e))&&(o&&(o+=" "),o+=t);return o}const Sm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,km=qg,Rl=(e,t)=>r=>{var o;if(t?.variants==null)return km(e,r?.class,r?.className);const{variants:a,defaultVariants:c}=t,u=Object.keys(a).map(m=>{const g=r?.[m],y=c?.[m];if(g===null)return null;const w=Sm(g)||Sm(y);return a[m][w]}),f=r&&Object.entries(r).reduce((m,g)=>{let[y,w]=g;return w===void 0||(m[y]=w),m},{}),p=t==null||(o=t.compoundVariants)===null||o===void 0?void 0:o.reduce((m,g)=>{let{class:y,className:w,...j}=g;return Object.entries(j).every(b=>{let[_,k]=b;return Array.isArray(k)?k.includes({...c,...f}[_]):{...c,...f}[_]===k})?[...m,y,w]:m},[]);return km(e,u,p,r?.class,r?.className)};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),p_=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,o)=>o?o.toUpperCase():r.toLowerCase()),jm=e=>{const t=p_(e);return t.charAt(0).toUpperCase()+t.slice(1)},Yg=(...e)=>e.filter((t,r,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var m_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:a="",children:c,iconNode:u,...f},p)=>x.createElement("svg",{ref:p,...m_,width:t,height:t,stroke:e,strokeWidth:o?Number(r)*24/Number(t):r,className:Yg("lucide",a),...f},[...u.map(([m,g])=>x.createElement(m,g)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=(e,t)=>{const r=x.forwardRef(({className:o,...a},c)=>x.createElement(g_,{ref:c,iconNode:t,className:Yg(`lucide-${h_(jm(e))}`,`lucide-${e}`,o),...a}));return r.displayName=jm(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],y_=kt("book-open",v_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$u=kt("calendar",x_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],__=kt("check",w_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Kg=kt("chevron-down",b_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],k_=kt("chevron-left",S_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],N_=kt("chevron-right",j_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],E_=kt("chevron-up",C_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],T_=kt("clock",P_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],D_=kt("ellipsis",O_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],M_=kt("house",R_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],I_=kt("log-out",A_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],$_=kt("panel-left",L_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],z_=kt("plus",F_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Yd=kt("search",W_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],B_=kt("square-pen",U_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],bl=kt("trash-2",H_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],q_=kt("user-plus",V_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],K_=kt("user-x",Y_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],fd=kt("users",G_);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Gg=kt("x",Q_),Fu=768;function X_(){const[e,t]=x.useState(void 0);return x.useEffect(()=>{const r=window.matchMedia(`(max-width: ${Fu-1}px)`),o=()=>{t(window.innerWidth<Fu)};return r.addEventListener("change",o),t(window.innerWidth<Fu),()=>r.removeEventListener("change",o)},[]),!!e}const Kd="-",J_=e=>{const t=eb(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=e;return{getClassGroupId:u=>{const f=u.split(Kd);return f[0]===""&&f.length!==1&&f.shift(),Qg(f,t)||Z_(u)},getConflictingClassGroupIds:(u,f)=>{const p=r[u]||[];return f&&o[u]?[...p,...o[u]]:p}}},Qg=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],o=t.nextPart.get(r),a=o?Qg(e.slice(1),o):void 0;if(a)return a;if(t.validators.length===0)return;const c=e.join(Kd);return t.validators.find(({validator:u})=>u(c))?.classGroupId},Nm=/^\[(.+)\]$/,Z_=e=>{if(Nm.test(e)){const t=Nm.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},eb=e=>{const{theme:t,classGroups:r}=e,o={nextPart:new Map,validators:[]};for(const a in r)hd(r[a],o,a,t);return o},hd=(e,t,r,o)=>{e.forEach(a=>{if(typeof a=="string"){const c=a===""?t:Cm(t,a);c.classGroupId=r;return}if(typeof a=="function"){if(tb(a)){hd(a(o),t,r,o);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([c,u])=>{hd(u,Cm(t,c),r,o)})})},Cm=(e,t)=>{let r=e;return t.split(Kd).forEach(o=>{r.nextPart.has(o)||r.nextPart.set(o,{nextPart:new Map,validators:[]}),r=r.nextPart.get(o)}),r},tb=e=>e.isThemeGetter,nb=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,o=new Map;const a=(c,u)=>{r.set(c,u),t++,t>e&&(t=0,o=r,r=new Map)};return{get(c){let u=r.get(c);if(u!==void 0)return u;if((u=o.get(c))!==void 0)return a(c,u),u},set(c,u){r.has(c)?r.set(c,u):a(c,u)}}},pd="!",md=":",rb=md.length,sb=e=>{const{prefix:t,experimentalParseClassName:r}=e;let o=a=>{const c=[];let u=0,f=0,p=0,m;for(let b=0;b<a.length;b++){let _=a[b];if(u===0&&f===0){if(_===md){c.push(a.slice(p,b)),p=b+rb;continue}if(_==="/"){m=b;continue}}_==="["?u++:_==="]"?u--:_==="("?f++:_===")"&&f--}const g=c.length===0?a:a.substring(p),y=ob(g),w=y!==g,j=m&&m>p?m-p:void 0;return{modifiers:c,hasImportantModifier:w,baseClassName:y,maybePostfixModifierPosition:j}};if(t){const a=t+md,c=o;o=u=>u.startsWith(a)?c(u.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(r){const a=o;o=c=>r({className:c,parseClassName:a})}return o},ob=e=>e.endsWith(pd)?e.substring(0,e.length-1):e.startsWith(pd)?e.substring(1):e,ab=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const a=[];let c=[];return o.forEach(u=>{u[0]==="["||t[u]?(a.push(...c.sort(),u),c=[]):c.push(u)}),a.push(...c.sort()),a}},ib=e=>({cache:nb(e.cacheSize),parseClassName:sb(e),sortModifiers:ab(e),...J_(e)}),lb=/\s+/,cb=(e,t)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:a,sortModifiers:c}=t,u=[],f=e.trim().split(lb);let p="";for(let m=f.length-1;m>=0;m-=1){const g=f[m],{isExternal:y,modifiers:w,hasImportantModifier:j,baseClassName:b,maybePostfixModifierPosition:_}=r(g);if(y){p=g+(p.length>0?" "+p:p);continue}let k=!!_,O=o(k?b.substring(0,_):b);if(!O){if(!k){p=g+(p.length>0?" "+p:p);continue}if(O=o(b),!O){p=g+(p.length>0?" "+p:p);continue}k=!1}const P=c(w).join(":"),E=j?P+pd:P,T=E+O;if(u.includes(T))continue;u.push(T);const L=a(O,k);for(let B=0;B<L.length;++B){const W=L[B];u.push(E+W)}p=g+(p.length>0?" "+p:p)}return p};function ub(){let e=0,t,r,o="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Xg(t))&&(o&&(o+=" "),o+=r);return o}const Xg=e=>{if(typeof e=="string")return e;let t,r="";for(let o=0;o<e.length;o++)e[o]&&(t=Xg(e[o]))&&(r&&(r+=" "),r+=t);return r};function db(e,...t){let r,o,a,c=u;function u(p){const m=t.reduce((g,y)=>y(g),e());return r=ib(m),o=r.cache.get,a=r.cache.set,c=f,f(p)}function f(p){const m=o(p);if(m)return m;const g=cb(p,r);return a(p,g),g}return function(){return c(ub.apply(null,arguments))}}const Et=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Jg=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Zg=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fb=/^\d+\/\d+$/,hb=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,gb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,vb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,po=e=>fb.test(e),Ye=e=>!!e&&!Number.isNaN(Number(e)),ss=e=>!!e&&Number.isInteger(Number(e)),zu=e=>e.endsWith("%")&&Ye(e.slice(0,-1)),Tr=e=>hb.test(e),yb=()=>!0,xb=e=>pb.test(e)&&!mb.test(e),ev=()=>!1,wb=e=>gb.test(e),_b=e=>vb.test(e),bb=e=>!be(e)&&!Se(e),Sb=e=>zo(e,rv,ev),be=e=>Jg.test(e),Ps=e=>zo(e,sv,xb),Wu=e=>zo(e,Eb,Ye),Em=e=>zo(e,tv,ev),kb=e=>zo(e,nv,_b),ol=e=>zo(e,ov,wb),Se=e=>Zg.test(e),Na=e=>Wo(e,sv),jb=e=>Wo(e,Pb),Pm=e=>Wo(e,tv),Nb=e=>Wo(e,rv),Cb=e=>Wo(e,nv),al=e=>Wo(e,ov,!0),zo=(e,t,r)=>{const o=Jg.exec(e);return o?o[1]?t(o[1]):r(o[2]):!1},Wo=(e,t,r=!1)=>{const o=Zg.exec(e);return o?o[1]?t(o[1]):r:!1},tv=e=>e==="position"||e==="percentage",nv=e=>e==="image"||e==="url",rv=e=>e==="length"||e==="size"||e==="bg-size",sv=e=>e==="length",Eb=e=>e==="number",Pb=e=>e==="family-name",ov=e=>e==="shadow",Tb=()=>{const e=Et("color"),t=Et("font"),r=Et("text"),o=Et("font-weight"),a=Et("tracking"),c=Et("leading"),u=Et("breakpoint"),f=Et("container"),p=Et("spacing"),m=Et("radius"),g=Et("shadow"),y=Et("inset-shadow"),w=Et("text-shadow"),j=Et("drop-shadow"),b=Et("blur"),_=Et("perspective"),k=Et("aspect"),O=Et("ease"),P=Et("animate"),E=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...T(),Se,be],B=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto","contain","none"],A=()=>[Se,be,p],q=()=>[po,"full","auto",...A()],Y=()=>[ss,"none","subgrid",Se,be],Z=()=>["auto",{span:["full",ss,Se,be]},ss,Se,be],ce=()=>[ss,"auto",Se,be],we=()=>["auto","min","max","fr",Se,be],ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Pe=()=>["start","end","center","stretch","center-safe","end-safe"],de=()=>["auto",...A()],Q=()=>[po,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],R=()=>[e,Se,be],ie=()=>[...T(),Pm,Em,{position:[Se,be]}],te=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",Nb,Sb,{size:[Se,be]}],X=()=>[zu,Na,Ps],ve=()=>["","none","full",m,Se,be],ae=()=>["",Ye,Na,Ps],Te=()=>["solid","dashed","dotted","double"],ze=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ne=()=>[Ye,zu,Pm,Em],Ce=()=>["","none",b,Se,be],Fe=()=>["none",Ye,Se,be],De=()=>["none",Ye,Se,be],qe=()=>[Ye,Se,be],Ze=()=>[po,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Tr],breakpoint:[Tr],color:[yb],container:[Tr],"drop-shadow":[Tr],ease:["in","out","in-out"],font:[bb],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Tr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Tr],shadow:[Tr],spacing:["px",Ye],text:[Tr],"text-shadow":[Tr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",po,be,Se,k]}],container:["container"],columns:[{columns:[Ye,be,Se,f]}],"break-after":[{"break-after":E()}],"break-before":[{"break-before":E()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[ss,"auto",Se,be]}],basis:[{basis:[po,"full","auto",f,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ye,po,"auto","initial","none",be]}],grow:[{grow:["",Ye,Se,be]}],shrink:[{shrink:["",Ye,Se,be]}],order:[{order:[ss,"first","last","none",Se,be]}],"grid-cols":[{"grid-cols":Y()}],"col-start-end":[{col:Z()}],"col-start":[{"col-start":ce()}],"col-end":[{"col-end":ce()}],"grid-rows":[{"grid-rows":Y()}],"row-start-end":[{row:Z()}],"row-start":[{"row-start":ce()}],"row-end":[{"row-end":ce()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":we()}],"auto-rows":[{"auto-rows":we()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...ge(),"normal"]}],"justify-items":[{"justify-items":[...Pe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Pe()]}],"align-content":[{content:["normal",...ge()]}],"align-items":[{items:[...Pe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Pe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ge()}],"place-items":[{"place-items":[...Pe(),"baseline"]}],"place-self":[{"place-self":["auto",...Pe()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:de()}],mx:[{mx:de()}],my:[{my:de()}],ms:[{ms:de()}],me:[{me:de()}],mt:[{mt:de()}],mr:[{mr:de()}],mb:[{mb:de()}],ml:[{ml:de()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[f,"screen",...Q()]}],"min-w":[{"min-w":[f,"screen","none",...Q()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[u]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",r,Na,Ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,Se,Wu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",zu,be]}],"font-family":[{font:[jb,be,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Se,be]}],"line-clamp":[{"line-clamp":[Ye,"none",Se,Wu]}],leading:[{leading:[c,...A()]}],"list-image":[{"list-image":["none",Se,be]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,be]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Te(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ye,"from-font","auto",Se,Ps]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[Ye,"auto",Se,be]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,be]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,be]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ie()}],"bg-repeat":[{bg:te()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ss,Se,be],radial:["",Se,be],conic:[ss,Se,be]},Cb,kb]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:ve()}],"rounded-s":[{"rounded-s":ve()}],"rounded-e":[{"rounded-e":ve()}],"rounded-t":[{"rounded-t":ve()}],"rounded-r":[{"rounded-r":ve()}],"rounded-b":[{"rounded-b":ve()}],"rounded-l":[{"rounded-l":ve()}],"rounded-ss":[{"rounded-ss":ve()}],"rounded-se":[{"rounded-se":ve()}],"rounded-ee":[{"rounded-ee":ve()}],"rounded-es":[{"rounded-es":ve()}],"rounded-tl":[{"rounded-tl":ve()}],"rounded-tr":[{"rounded-tr":ve()}],"rounded-br":[{"rounded-br":ve()}],"rounded-bl":[{"rounded-bl":ve()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Te(),"hidden","none"]}],"divide-style":[{divide:[...Te(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...Te(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ye,Se,be]}],"outline-w":[{outline:["",Ye,Na,Ps]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",g,al,ol]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",y,al,ol]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[Ye,Ps]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",w,al,ol]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[Ye,Se,be]}],"mix-blend":[{"mix-blend":[...ze(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ze()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ye]}],"mask-image-linear-from-pos":[{"mask-linear-from":ne()}],"mask-image-linear-to-pos":[{"mask-linear-to":ne()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":ne()}],"mask-image-t-to-pos":[{"mask-t-to":ne()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":ne()}],"mask-image-r-to-pos":[{"mask-r-to":ne()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":ne()}],"mask-image-b-to-pos":[{"mask-b-to":ne()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":ne()}],"mask-image-l-to-pos":[{"mask-l-to":ne()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":ne()}],"mask-image-x-to-pos":[{"mask-x-to":ne()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":ne()}],"mask-image-y-to-pos":[{"mask-y-to":ne()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[Se,be]}],"mask-image-radial-from-pos":[{"mask-radial-from":ne()}],"mask-image-radial-to-pos":[{"mask-radial-to":ne()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[Ye]}],"mask-image-conic-from-pos":[{"mask-conic-from":ne()}],"mask-image-conic-to-pos":[{"mask-conic-to":ne()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ie()}],"mask-repeat":[{mask:te()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,be]}],filter:[{filter:["","none",Se,be]}],blur:[{blur:Ce()}],brightness:[{brightness:[Ye,Se,be]}],contrast:[{contrast:[Ye,Se,be]}],"drop-shadow":[{"drop-shadow":["","none",j,al,ol]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",Ye,Se,be]}],"hue-rotate":[{"hue-rotate":[Ye,Se,be]}],invert:[{invert:["",Ye,Se,be]}],saturate:[{saturate:[Ye,Se,be]}],sepia:[{sepia:["",Ye,Se,be]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,be]}],"backdrop-blur":[{"backdrop-blur":Ce()}],"backdrop-brightness":[{"backdrop-brightness":[Ye,Se,be]}],"backdrop-contrast":[{"backdrop-contrast":[Ye,Se,be]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ye,Se,be]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ye,Se,be]}],"backdrop-invert":[{"backdrop-invert":["",Ye,Se,be]}],"backdrop-opacity":[{"backdrop-opacity":[Ye,Se,be]}],"backdrop-saturate":[{"backdrop-saturate":[Ye,Se,be]}],"backdrop-sepia":[{"backdrop-sepia":["",Ye,Se,be]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,be]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ye,"initial",Se,be]}],ease:[{ease:["linear","initial",O,Se,be]}],delay:[{delay:[Ye,Se,be]}],animate:[{animate:["none",P,Se,be]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,Se,be]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:Fe()}],"rotate-x":[{"rotate-x":Fe()}],"rotate-y":[{"rotate-y":Fe()}],"rotate-z":[{"rotate-z":Fe()}],scale:[{scale:De()}],"scale-x":[{"scale-x":De()}],"scale-y":[{"scale-y":De()}],"scale-z":[{"scale-z":De()}],"scale-3d":["scale-3d"],skew:[{skew:qe()}],"skew-x":[{"skew-x":qe()}],"skew-y":[{"skew-y":qe()}],transform:[{transform:[Se,be,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ze()}],"translate-x":[{"translate-x":Ze()}],"translate-y":[{"translate-y":Ze()}],"translate-z":[{"translate-z":Ze()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,be]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,be]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[Ye,Na,Ps,Wu]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Ob=db(Tb);function $e(...e){return Ob(qg(e))}const gd=Rl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function me({className:e,variant:t,size:r,asChild:o=!1,...a}){const c=o?qd:"button";return i.jsx(c,{"data-slot":"button",className:$e(gd({variant:t,size:r,className:e})),...a})}function He({className:e,type:t,...r}){return i.jsx("input",{type:t,"data-slot":"input",className:$e("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var Fa=Wg();const Db=Hd(Fa);var Rb=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=Rb.reduce((e,t)=>{const r=Mo(`Primitive.${t}`),o=x.forwardRef((a,c)=>{const{asChild:u,...f}=a,p=u?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(p,{...f,ref:c})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{});function Mb(e,t){e&&Fa.flushSync(()=>e.dispatchEvent(t))}var Ab="Separator",Tm="horizontal",Ib=["horizontal","vertical"],av=x.forwardRef((e,t)=>{const{decorative:r,orientation:o=Tm,...a}=e,c=Lb(o)?o:Tm,f=r?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return i.jsx(Xe.div,{"data-orientation":c,...f,...a,ref:t})});av.displayName=Ab;function Lb(e){return Ib.includes(e)}var iv=av;const $b=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...o},a)=>i.jsx(iv,{ref:a,decorative:r,orientation:t,className:$e("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...o}));$b.displayName=iv.displayName;function Ve(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),r===!1||!a.defaultPrevented)return t?.(a)}}function Fb(e,t){const r=x.createContext(t),o=c=>{const{children:u,...f}=c,p=x.useMemo(()=>f,Object.values(f));return i.jsx(r.Provider,{value:p,children:u})};o.displayName=e+"Provider";function a(c){const u=x.useContext(r);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[o,a]}function Us(e,t=[]){let r=[];function o(c,u){const f=x.createContext(u),p=r.length;r=[...r,u];const m=y=>{const{scope:w,children:j,...b}=y,_=w?.[e]?.[p]||f,k=x.useMemo(()=>b,Object.values(b));return i.jsx(_.Provider,{value:k,children:j})};m.displayName=c+"Provider";function g(y,w){const j=w?.[e]?.[p]||f,b=x.useContext(j);if(b)return b;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${c}\``)}return[m,g]}const a=()=>{const c=r.map(u=>x.createContext(u));return function(f){const p=f?.[e]||c;return x.useMemo(()=>({[`__scope${e}`]:{...f,[e]:p}}),[f,p])}};return a.scopeName=e,[o,zb(a,...t)]}function zb(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const o=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const u=o.reduce((f,{useScope:p,scopeName:m})=>{const y=p(c)[`__scope${m}`];return{...f,...y}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return r.scopeName=t.scopeName,r}var Xt=globalThis?.document?x.useLayoutEffect:()=>{},Wb=Ug[" useId ".trim().toString()]||(()=>{}),Ub=0;function Mr(e){const[t,r]=x.useState(Wb());return Xt(()=>{r(o=>o??String(Ub++))},[e]),e||(t?`radix-${t}`:"")}var Bb=Ug[" useInsertionEffect ".trim().toString()]||Xt;function Ao({prop:e,defaultProp:t,onChange:r=()=>{},caller:o}){const[a,c,u]=Hb({defaultProp:t,onChange:r}),f=e!==void 0,p=f?e:a;{const g=x.useRef(e!==void 0);x.useEffect(()=>{const y=g.current;y!==f&&console.warn(`${o} is changing from ${y?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,o])}const m=x.useCallback(g=>{if(f){const y=Vb(g)?g(e):g;y!==e&&u.current?.(y)}else c(g)},[f,e,c,u]);return[p,m]}function Hb({defaultProp:e,onChange:t}){const[r,o]=x.useState(e),a=x.useRef(r),c=x.useRef(t);return Bb(()=>{c.current=t},[t]),x.useEffect(()=>{a.current!==r&&(c.current?.(r),a.current=r)},[r,a]),[r,o,c]}function Vb(e){return typeof e=="function"}function us(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>t.current?.(...r),[])}function qb(e,t=globalThis?.document){const r=us(e);x.useEffect(()=>{const o=a=>{a.key==="Escape"&&r(a)};return t.addEventListener("keydown",o,{capture:!0}),()=>t.removeEventListener("keydown",o,{capture:!0})},[r,t])}var Yb="DismissableLayer",vd="dismissableLayer.update",Kb="dismissableLayer.pointerDownOutside",Gb="dismissableLayer.focusOutside",Om,lv=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ml=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:c,onInteractOutside:u,onDismiss:f,...p}=e,m=x.useContext(lv),[g,y]=x.useState(null),w=g?.ownerDocument??globalThis?.document,[,j]=x.useState({}),b=ft(t,W=>y(W)),_=Array.from(m.layers),[k]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),O=_.indexOf(k),P=g?_.indexOf(g):-1,E=m.layersWithOutsidePointerEventsDisabled.size>0,T=P>=O,L=Jb(W=>{const A=W.target,q=[...m.branches].some(Y=>Y.contains(A));!T||q||(a?.(W),u?.(W),W.defaultPrevented||f?.())},w),B=Zb(W=>{const A=W.target;[...m.branches].some(Y=>Y.contains(A))||(c?.(W),u?.(W),W.defaultPrevented||f?.())},w);return qb(W=>{P===m.layers.size-1&&(o?.(W),!W.defaultPrevented&&f&&(W.preventDefault(),f()))},w),x.useEffect(()=>{if(g)return r&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Om=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(g)),m.layers.add(g),Dm(),()=>{r&&m.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Om)}},[g,w,r,m]),x.useEffect(()=>()=>{g&&(m.layers.delete(g),m.layersWithOutsidePointerEventsDisabled.delete(g),Dm())},[g,m]),x.useEffect(()=>{const W=()=>j({});return document.addEventListener(vd,W),()=>document.removeEventListener(vd,W)},[]),i.jsx(Xe.div,{...p,ref:b,style:{pointerEvents:E?T?"auto":"none":void 0,...e.style},onFocusCapture:Ve(e.onFocusCapture,B.onFocusCapture),onBlurCapture:Ve(e.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Ve(e.onPointerDownCapture,L.onPointerDownCapture)})});Ml.displayName=Yb;var Qb="DismissableLayerBranch",Xb=x.forwardRef((e,t)=>{const r=x.useContext(lv),o=x.useRef(null),a=ft(t,o);return x.useEffect(()=>{const c=o.current;if(c)return r.branches.add(c),()=>{r.branches.delete(c)}},[r.branches]),i.jsx(Xe.div,{...e,ref:a})});Xb.displayName=Qb;function Jb(e,t=globalThis?.document){const r=us(e),o=x.useRef(!1),a=x.useRef(()=>{});return x.useEffect(()=>{const c=f=>{if(f.target&&!o.current){let p=function(){cv(Kb,r,m,{discrete:!0})};const m={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=p,t.addEventListener("click",a.current,{once:!0})):p()}else t.removeEventListener("click",a.current);o.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",c),t.removeEventListener("click",a.current)}},[t,r]),{onPointerDownCapture:()=>o.current=!0}}function Zb(e,t=globalThis?.document){const r=us(e),o=x.useRef(!1);return x.useEffect(()=>{const a=c=>{c.target&&!o.current&&cv(Gb,r,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function Dm(){const e=new CustomEvent(vd);document.dispatchEvent(e)}function cv(e,t,r,{discrete:o}){const a=r.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),o?Mb(a,c):a.dispatchEvent(c)}var Uu="focusScope.autoFocusOnMount",Bu="focusScope.autoFocusOnUnmount",Rm={bubbles:!1,cancelable:!0},eS="FocusScope",Gd=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:c,...u}=e,[f,p]=x.useState(null),m=us(a),g=us(c),y=x.useRef(null),w=ft(t,_=>p(_)),j=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(o){let _=function(E){if(j.paused||!f)return;const T=E.target;f.contains(T)?y.current=T:is(y.current,{select:!0})},k=function(E){if(j.paused||!f)return;const T=E.relatedTarget;T!==null&&(f.contains(T)||is(y.current,{select:!0}))},O=function(E){if(document.activeElement===document.body)for(const L of E)L.removedNodes.length>0&&is(f)};document.addEventListener("focusin",_),document.addEventListener("focusout",k);const P=new MutationObserver(O);return f&&P.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",k),P.disconnect()}}},[o,f,j.paused]),x.useEffect(()=>{if(f){Am.add(j);const _=document.activeElement;if(!f.contains(_)){const O=new CustomEvent(Uu,Rm);f.addEventListener(Uu,m),f.dispatchEvent(O),O.defaultPrevented||(tS(aS(uv(f)),{select:!0}),document.activeElement===_&&is(f))}return()=>{f.removeEventListener(Uu,m),setTimeout(()=>{const O=new CustomEvent(Bu,Rm);f.addEventListener(Bu,g),f.dispatchEvent(O),O.defaultPrevented||is(_??document.body,{select:!0}),f.removeEventListener(Bu,g),Am.remove(j)},0)}}},[f,m,g,j]);const b=x.useCallback(_=>{if(!r&&!o||j.paused)return;const k=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,O=document.activeElement;if(k&&O){const P=_.currentTarget,[E,T]=nS(P);E&&T?!_.shiftKey&&O===T?(_.preventDefault(),r&&is(E,{select:!0})):_.shiftKey&&O===E&&(_.preventDefault(),r&&is(T,{select:!0})):O===P&&_.preventDefault()}},[r,o,j.paused]);return i.jsx(Xe.div,{tabIndex:-1,...u,ref:w,onKeyDown:b})});Gd.displayName=eS;function tS(e,{select:t=!1}={}){const r=document.activeElement;for(const o of e)if(is(o,{select:t}),document.activeElement!==r)return}function nS(e){const t=uv(e),r=Mm(t,e),o=Mm(t.reverse(),e);return[r,o]}function uv(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Mm(e,t){for(const r of e)if(!rS(r,{upTo:t}))return r}function rS(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function sS(e){return e instanceof HTMLInputElement&&"select"in e}function is(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&sS(e)&&t&&e.select()}}var Am=oS();function oS(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=Im(e,t),e.unshift(t)},remove(t){e=Im(e,t),e[0]?.resume()}}}function Im(e,t){const r=[...e],o=r.indexOf(t);return o!==-1&&r.splice(o,1),r}function aS(e){return e.filter(t=>t.tagName!=="A")}var iS="Portal",Al=x.forwardRef((e,t)=>{const{container:r,...o}=e,[a,c]=x.useState(!1);Xt(()=>c(!0),[]);const u=r||a&&globalThis?.document?.body;return u?Db.createPortal(i.jsx(Xe.div,{...o,ref:t}),u):null});Al.displayName=iS;function lS(e,t){return x.useReducer((r,o)=>t[r][o]??r,e)}var Bs=e=>{const{present:t,children:r}=e,o=cS(t),a=typeof r=="function"?r({present:o.isPresent}):x.Children.only(r),c=ft(o.ref,uS(a));return typeof r=="function"||o.isPresent?x.cloneElement(a,{ref:c}):null};Bs.displayName="Presence";function cS(e){const[t,r]=x.useState(),o=x.useRef(null),a=x.useRef(e),c=x.useRef("none"),u=e?"mounted":"unmounted",[f,p]=lS(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const m=il(o.current);c.current=f==="mounted"?m:"none"},[f]),Xt(()=>{const m=o.current,g=a.current;if(g!==e){const w=c.current,j=il(m);e?p("MOUNT"):j==="none"||m?.display==="none"?p("UNMOUNT"):p(g&&w!==j?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,p]),Xt(()=>{if(t){let m;const g=t.ownerDocument.defaultView??window,y=j=>{const _=il(o.current).includes(CSS.escape(j.animationName));if(j.target===t&&_&&(p("ANIMATION_END"),!a.current)){const k=t.style.animationFillMode;t.style.animationFillMode="forwards",m=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=k)})}},w=j=>{j.target===t&&(c.current=il(o.current))};return t.addEventListener("animationstart",w),t.addEventListener("animationcancel",y),t.addEventListener("animationend",y),()=>{g.clearTimeout(m),t.removeEventListener("animationstart",w),t.removeEventListener("animationcancel",y),t.removeEventListener("animationend",y)}}else p("ANIMATION_END")},[t,p]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:x.useCallback(m=>{o.current=m?getComputedStyle(m):null,r(m)},[])}}function il(e){return e?.animationName||"none"}function uS(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Hu=0;function dv(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Lm()),document.body.insertAdjacentElement("beforeend",e[1]??Lm()),Hu++,()=>{Hu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Hu--}},[])}function Lm(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ur=function(){return ur=Object.assign||function(t){for(var r,o=1,a=arguments.length;o<a;o++){r=arguments[o];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c])}return t},ur.apply(this,arguments)};function fv(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(r[o[a]]=e[o[a]]);return r}function dS(e,t,r){if(r||arguments.length===2)for(var o=0,a=t.length,c;o<a;o++)(c||!(o in t))&&(c||(c=Array.prototype.slice.call(t,0,o)),c[o]=t[o]);return e.concat(c||Array.prototype.slice.call(t))}var yl="right-scroll-bar-position",xl="width-before-scroll-bar",fS="with-scroll-bars-hidden",hS="--removed-body-scroll-bar-size";function Vu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function pS(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(o){var a=r.value;a!==o&&(r.value=o,r.callback(o,a))}}}})[0];return r.callback=t,r.facade}var mS=typeof window<"u"?x.useLayoutEffect:x.useEffect,$m=new WeakMap;function gS(e,t){var r=pS(null,function(o){return e.forEach(function(a){return Vu(a,o)})});return mS(function(){var o=$m.get(r);if(o){var a=new Set(o),c=new Set(e),u=r.current;a.forEach(function(f){c.has(f)||Vu(f,null)}),c.forEach(function(f){a.has(f)||Vu(f,u)})}$m.set(r,e)},[e]),r}function vS(e){return e}function yS(e,t){t===void 0&&(t=vS);var r=[],o=!1,a={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(c){var u=t(c,o);return r.push(u),function(){r=r.filter(function(f){return f!==u})}},assignSyncMedium:function(c){for(o=!0;r.length;){var u=r;r=[],u.forEach(c)}r={push:function(f){return c(f)},filter:function(){return r}}},assignMedium:function(c){o=!0;var u=[];if(r.length){var f=r;r=[],f.forEach(c),u=r}var p=function(){var g=u;u=[],g.forEach(c)},m=function(){return Promise.resolve().then(p)};m(),r={push:function(g){u.push(g),m()},filter:function(g){return u=u.filter(g),r}}}};return a}function xS(e){e===void 0&&(e={});var t=yS(null);return t.options=ur({async:!0,ssr:!1},e),t}var hv=function(e){var t=e.sideCar,r=fv(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return x.createElement(o,ur({},r))};hv.isSideCarExport=!0;function wS(e,t){return e.useMedium(t),hv}var pv=xS(),qu=function(){},Il=x.forwardRef(function(e,t){var r=x.useRef(null),o=x.useState({onScrollCapture:qu,onWheelCapture:qu,onTouchMoveCapture:qu}),a=o[0],c=o[1],u=e.forwardProps,f=e.children,p=e.className,m=e.removeScrollBar,g=e.enabled,y=e.shards,w=e.sideCar,j=e.noRelative,b=e.noIsolation,_=e.inert,k=e.allowPinchZoom,O=e.as,P=O===void 0?"div":O,E=e.gapMode,T=fv(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=w,B=gS([r,t]),W=ur(ur({},T),a);return x.createElement(x.Fragment,null,g&&x.createElement(L,{sideCar:pv,removeScrollBar:m,shards:y,noRelative:j,noIsolation:b,inert:_,setCallbacks:c,allowPinchZoom:!!k,lockRef:r,gapMode:E}),u?x.cloneElement(x.Children.only(f),ur(ur({},W),{ref:B})):x.createElement(P,ur({},W,{className:p,ref:B}),f))});Il.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Il.classNames={fullWidth:xl,zeroRight:yl};var _S=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function bS(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_S();return t&&e.setAttribute("nonce",t),e}function SS(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function kS(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var jS=function(){var e=0,t=null;return{add:function(r){e==0&&(t=bS())&&(SS(t,r),kS(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},NS=function(){var e=jS();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},mv=function(){var e=NS(),t=function(r){var o=r.styles,a=r.dynamic;return e(o,a),null};return t},CS={left:0,top:0,right:0,gap:0},Yu=function(e){return parseInt(e||"",10)||0},ES=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],o=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Yu(r),Yu(o),Yu(a)]},PS=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return CS;var t=ES(e),r=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-r+t[2]-t[0])}},TS=mv(),Oo="data-scroll-locked",OS=function(e,t,r,o){var a=e.left,c=e.top,u=e.right,f=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(fS,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(f,"px ").concat(o,`;
  }
  body[`).concat(Oo,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(o,`;
    `),r==="padding"&&"padding-right: ".concat(f,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(yl,` {
    right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(xl,` {
    margin-right: `).concat(f,"px ").concat(o,`;
  }
  
  .`).concat(yl," .").concat(yl,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(xl," .").concat(xl,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Oo,`] {
    `).concat(hS,": ").concat(f,`px;
  }
`)},Fm=function(){var e=parseInt(document.body.getAttribute(Oo)||"0",10);return isFinite(e)?e:0},DS=function(){x.useEffect(function(){return document.body.setAttribute(Oo,(Fm()+1).toString()),function(){var e=Fm()-1;e<=0?document.body.removeAttribute(Oo):document.body.setAttribute(Oo,e.toString())}},[])},RS=function(e){var t=e.noRelative,r=e.noImportant,o=e.gapMode,a=o===void 0?"margin":o;DS();var c=x.useMemo(function(){return PS(a)},[a]);return x.createElement(TS,{styles:OS(c,!t,a,r?"":"!important")})},yd=!1;if(typeof window<"u")try{var ll=Object.defineProperty({},"passive",{get:function(){return yd=!0,!0}});window.addEventListener("test",ll,ll),window.removeEventListener("test",ll,ll)}catch{yd=!1}var mo=yd?{passive:!1}:!1,MS=function(e){return e.tagName==="TEXTAREA"},gv=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!MS(e)&&r[t]==="visible")},AS=function(e){return gv(e,"overflowY")},IS=function(e){return gv(e,"overflowX")},zm=function(e,t){var r=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var a=vv(e,o);if(a){var c=yv(e,o),u=c[1],f=c[2];if(u>f)return!0}o=o.parentNode}while(o&&o!==r.body);return!1},LS=function(e){var t=e.scrollTop,r=e.scrollHeight,o=e.clientHeight;return[t,r,o]},$S=function(e){var t=e.scrollLeft,r=e.scrollWidth,o=e.clientWidth;return[t,r,o]},vv=function(e,t){return e==="v"?AS(t):IS(t)},yv=function(e,t){return e==="v"?LS(t):$S(t)},FS=function(e,t){return e==="h"&&t==="rtl"?-1:1},zS=function(e,t,r,o,a){var c=FS(e,window.getComputedStyle(t).direction),u=c*o,f=r.target,p=t.contains(f),m=!1,g=u>0,y=0,w=0;do{if(!f)break;var j=yv(e,f),b=j[0],_=j[1],k=j[2],O=_-k-c*b;(b||O)&&vv(e,f)&&(y+=O,w+=b);var P=f.parentNode;f=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!p&&f!==document.body||p&&(t.contains(f)||t===f));return(g&&Math.abs(y)<1||!g&&Math.abs(w)<1)&&(m=!0),m},cl=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Wm=function(e){return[e.deltaX,e.deltaY]},Um=function(e){return e&&"current"in e?e.current:e},WS=function(e,t){return e[0]===t[0]&&e[1]===t[1]},US=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},BS=0,go=[];function HS(e){var t=x.useRef([]),r=x.useRef([0,0]),o=x.useRef(),a=x.useState(BS++)[0],c=x.useState(mv)[0],u=x.useRef(e);x.useEffect(function(){u.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var _=dS([e.lockRef.current],(e.shards||[]).map(Um),!0).filter(Boolean);return _.forEach(function(k){return k.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),_.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var f=x.useCallback(function(_,k){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!u.current.allowPinchZoom;var O=cl(_),P=r.current,E="deltaX"in _?_.deltaX:P[0]-O[0],T="deltaY"in _?_.deltaY:P[1]-O[1],L,B=_.target,W=Math.abs(E)>Math.abs(T)?"h":"v";if("touches"in _&&W==="h"&&B.type==="range")return!1;var A=zm(W,B);if(!A)return!0;if(A?L=W:(L=W==="v"?"h":"v",A=zm(W,B)),!A)return!1;if(!o.current&&"changedTouches"in _&&(E||T)&&(o.current=L),!L)return!0;var q=o.current||L;return zS(q,k,_,q==="h"?E:T)},[]),p=x.useCallback(function(_){var k=_;if(!(!go.length||go[go.length-1]!==c)){var O="deltaY"in k?Wm(k):cl(k),P=t.current.filter(function(L){return L.name===k.type&&(L.target===k.target||k.target===L.shadowParent)&&WS(L.delta,O)})[0];if(P&&P.should){k.cancelable&&k.preventDefault();return}if(!P){var E=(u.current.shards||[]).map(Um).filter(Boolean).filter(function(L){return L.contains(k.target)}),T=E.length>0?f(k,E[0]):!u.current.noIsolation;T&&k.cancelable&&k.preventDefault()}}},[]),m=x.useCallback(function(_,k,O,P){var E={name:_,delta:k,target:O,should:P,shadowParent:VS(O)};t.current.push(E),setTimeout(function(){t.current=t.current.filter(function(T){return T!==E})},1)},[]),g=x.useCallback(function(_){r.current=cl(_),o.current=void 0},[]),y=x.useCallback(function(_){m(_.type,Wm(_),_.target,f(_,e.lockRef.current))},[]),w=x.useCallback(function(_){m(_.type,cl(_),_.target,f(_,e.lockRef.current))},[]);x.useEffect(function(){return go.push(c),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:w}),document.addEventListener("wheel",p,mo),document.addEventListener("touchmove",p,mo),document.addEventListener("touchstart",g,mo),function(){go=go.filter(function(_){return _!==c}),document.removeEventListener("wheel",p,mo),document.removeEventListener("touchmove",p,mo),document.removeEventListener("touchstart",g,mo)}},[]);var j=e.removeScrollBar,b=e.inert;return x.createElement(x.Fragment,null,b?x.createElement(c,{styles:US(a)}):null,j?x.createElement(RS,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function VS(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qS=wS(pv,HS);var Qd=x.forwardRef(function(e,t){return x.createElement(Il,ur({},e,{ref:t,sideCar:qS}))});Qd.classNames=Il.classNames;var YS=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},vo=new WeakMap,ul=new WeakMap,dl={},Ku=0,xv=function(e){return e&&(e.host||xv(e.parentNode))},KS=function(e,t){return t.map(function(r){if(e.contains(r))return r;var o=xv(r);return o&&e.contains(o)?o:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},GS=function(e,t,r,o){var a=KS(t,Array.isArray(e)?e:[e]);dl[r]||(dl[r]=new WeakMap);var c=dl[r],u=[],f=new Set,p=new Set(a),m=function(y){!y||f.has(y)||(f.add(y),m(y.parentNode))};a.forEach(m);var g=function(y){!y||p.has(y)||Array.prototype.forEach.call(y.children,function(w){if(f.has(w))g(w);else try{var j=w.getAttribute(o),b=j!==null&&j!=="false",_=(vo.get(w)||0)+1,k=(c.get(w)||0)+1;vo.set(w,_),c.set(w,k),u.push(w),_===1&&b&&ul.set(w,!0),k===1&&w.setAttribute(r,"true"),b||w.setAttribute(o,"true")}catch(O){console.error("aria-hidden: cannot operate on ",w,O)}})};return g(t),f.clear(),Ku++,function(){u.forEach(function(y){var w=vo.get(y)-1,j=c.get(y)-1;vo.set(y,w),c.set(y,j),w||(ul.has(y)||y.removeAttribute(o),ul.delete(y)),j||y.removeAttribute(r)}),Ku--,Ku||(vo=new WeakMap,vo=new WeakMap,ul=new WeakMap,dl={})}},wv=function(e,t,r){r===void 0&&(r="data-aria-hidden");var o=Array.from(Array.isArray(e)?e:[e]),a=YS(e);return a?(o.push.apply(o,Array.from(a.querySelectorAll("[aria-live], script"))),GS(o,a,r,"aria-hidden")):function(){return null}},Ll="Dialog",[_v,wO]=Us(Ll),[QS,Jn]=_v(Ll),bv=e=>{const{__scopeDialog:t,children:r,open:o,defaultOpen:a,onOpenChange:c,modal:u=!0}=e,f=x.useRef(null),p=x.useRef(null),[m,g]=Ao({prop:o,defaultProp:a??!1,onChange:c,caller:Ll});return i.jsx(QS,{scope:t,triggerRef:f,contentRef:p,contentId:Mr(),titleId:Mr(),descriptionId:Mr(),open:m,onOpenChange:g,onOpenToggle:x.useCallback(()=>g(y=>!y),[g]),modal:u,children:r})};bv.displayName=Ll;var Sv="DialogTrigger",XS=x.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,a=Jn(Sv,r),c=ft(t,a.triggerRef);return i.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Zd(a.open),...o,ref:c,onClick:Ve(e.onClick,a.onOpenToggle)})});XS.displayName=Sv;var Xd="DialogPortal",[JS,kv]=_v(Xd,{forceMount:void 0}),jv=e=>{const{__scopeDialog:t,forceMount:r,children:o,container:a}=e,c=Jn(Xd,t);return i.jsx(JS,{scope:t,forceMount:r,children:x.Children.map(o,u=>i.jsx(Bs,{present:r||c.open,children:i.jsx(Al,{asChild:!0,container:a,children:u})}))})};jv.displayName=Xd;var Sl="DialogOverlay",Nv=x.forwardRef((e,t)=>{const r=kv(Sl,e.__scopeDialog),{forceMount:o=r.forceMount,...a}=e,c=Jn(Sl,e.__scopeDialog);return c.modal?i.jsx(Bs,{present:o||c.open,children:i.jsx(e1,{...a,ref:t})}):null});Nv.displayName=Sl;var ZS=Mo("DialogOverlay.RemoveScroll"),e1=x.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,a=Jn(Sl,r);return i.jsx(Qd,{as:ZS,allowPinchZoom:!0,shards:[a.contentRef],children:i.jsx(Xe.div,{"data-state":Zd(a.open),...o,ref:t,style:{pointerEvents:"auto",...o.style}})})}),Is="DialogContent",Cv=x.forwardRef((e,t)=>{const r=kv(Is,e.__scopeDialog),{forceMount:o=r.forceMount,...a}=e,c=Jn(Is,e.__scopeDialog);return i.jsx(Bs,{present:o||c.open,children:c.modal?i.jsx(t1,{...a,ref:t}):i.jsx(n1,{...a,ref:t})})});Cv.displayName=Is;var t1=x.forwardRef((e,t)=>{const r=Jn(Is,e.__scopeDialog),o=x.useRef(null),a=ft(t,r.contentRef,o);return x.useEffect(()=>{const c=o.current;if(c)return wv(c)},[]),i.jsx(Ev,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ve(e.onCloseAutoFocus,c=>{c.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Ve(e.onPointerDownOutside,c=>{const u=c.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0;(u.button===2||f)&&c.preventDefault()}),onFocusOutside:Ve(e.onFocusOutside,c=>c.preventDefault())})}),n1=x.forwardRef((e,t)=>{const r=Jn(Is,e.__scopeDialog),o=x.useRef(!1),a=x.useRef(!1);return i.jsx(Ev,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{e.onCloseAutoFocus?.(c),c.defaultPrevented||(o.current||r.triggerRef.current?.focus(),c.preventDefault()),o.current=!1,a.current=!1},onInteractOutside:c=>{e.onInteractOutside?.(c),c.defaultPrevented||(o.current=!0,c.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=c.target;r.triggerRef.current?.contains(u)&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&a.current&&c.preventDefault()}})}),Ev=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:c,...u}=e,f=Jn(Is,r),p=x.useRef(null),m=ft(t,p);return dv(),i.jsxs(i.Fragment,{children:[i.jsx(Gd,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:c,children:i.jsx(Ml,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":Zd(f.open),...u,ref:m,onDismiss:()=>f.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(r1,{titleId:f.titleId}),i.jsx(o1,{contentRef:p,descriptionId:f.descriptionId})]})]})}),Jd="DialogTitle",Pv=x.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,a=Jn(Jd,r);return i.jsx(Xe.h2,{id:a.titleId,...o,ref:t})});Pv.displayName=Jd;var Tv="DialogDescription",Ov=x.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,a=Jn(Tv,r);return i.jsx(Xe.p,{id:a.descriptionId,...o,ref:t})});Ov.displayName=Tv;var Dv="DialogClose",Rv=x.forwardRef((e,t)=>{const{__scopeDialog:r,...o}=e,a=Jn(Dv,r);return i.jsx(Xe.button,{type:"button",...o,ref:t,onClick:Ve(e.onClick,()=>a.onOpenChange(!1))})});Rv.displayName=Dv;function Zd(e){return e?"open":"closed"}var Mv="DialogTitleWarning",[_O,Av]=Fb(Mv,{contentName:Is,titleName:Jd,docsSlug:"dialog"}),r1=({titleId:e})=>{const t=Av(Mv),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},s1="DialogDescriptionWarning",o1=({contentRef:e,descriptionId:t})=>{const o=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Av(s1).contentName}}.`;return x.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(o))},[o,e,t]),null},Iv=bv,Lv=jv,ef=Nv,tf=Cv,nf=Pv,rf=Ov,$v=Rv;const a1=Iv,i1=Lv,Fv=x.forwardRef(({className:e,...t},r)=>i.jsx(ef,{className:$e("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Fv.displayName=ef.displayName;const l1=Rl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),zv=x.forwardRef(({side:e="right",className:t,children:r,...o},a)=>i.jsxs(i1,{children:[i.jsx(Fv,{}),i.jsxs(tf,{ref:a,className:$e(l1({side:e}),t),...o,children:[r,i.jsxs($v,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(Gg,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zv.displayName=tf.displayName;const Wv=({className:e,...t})=>i.jsx("div",{className:$e("flex flex-col space-y-2 text-center sm:text-left",e),...t});Wv.displayName="SheetHeader";const Uv=x.forwardRef(({className:e,...t},r)=>i.jsx(nf,{ref:r,className:$e("text-lg font-semibold text-foreground",e),...t}));Uv.displayName=nf.displayName;const Bv=x.forwardRef(({className:e,...t},r)=>i.jsx(rf,{ref:r,className:$e("text-sm text-muted-foreground",e),...t}));Bv.displayName=rf.displayName;const c1=["top","right","bottom","left"],ds=Math.min,kn=Math.max,kl=Math.round,fl=Math.floor,mr=e=>({x:e,y:e}),u1={left:"right",right:"left",bottom:"top",top:"bottom"},d1={start:"end",end:"start"};function xd(e,t,r){return kn(e,ds(t,r))}function Ar(e,t){return typeof e=="function"?e(t):e}function Ir(e){return e.split("-")[0]}function Uo(e){return e.split("-")[1]}function sf(e){return e==="x"?"y":"x"}function of(e){return e==="y"?"height":"width"}const f1=new Set(["top","bottom"]);function hr(e){return f1.has(Ir(e))?"y":"x"}function af(e){return sf(hr(e))}function h1(e,t,r){r===void 0&&(r=!1);const o=Uo(e),a=af(e),c=of(a);let u=a==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[c]>t.floating[c]&&(u=jl(u)),[u,jl(u)]}function p1(e){const t=jl(e);return[wd(e),t,wd(t)]}function wd(e){return e.replace(/start|end/g,t=>d1[t])}const Bm=["left","right"],Hm=["right","left"],m1=["top","bottom"],g1=["bottom","top"];function v1(e,t,r){switch(e){case"top":case"bottom":return r?t?Hm:Bm:t?Bm:Hm;case"left":case"right":return t?m1:g1;default:return[]}}function y1(e,t,r,o){const a=Uo(e);let c=v1(Ir(e),r==="start",o);return a&&(c=c.map(u=>u+"-"+a),t&&(c=c.concat(c.map(wd)))),c}function jl(e){return e.replace(/left|right|bottom|top/g,t=>u1[t])}function x1(e){return{top:0,right:0,bottom:0,left:0,...e}}function Hv(e){return typeof e!="number"?x1(e):{top:e,right:e,bottom:e,left:e}}function Nl(e){const{x:t,y:r,width:o,height:a}=e;return{width:o,height:a,top:r,left:t,right:t+o,bottom:r+a,x:t,y:r}}function Vm(e,t,r){let{reference:o,floating:a}=e;const c=hr(t),u=af(t),f=of(u),p=Ir(t),m=c==="y",g=o.x+o.width/2-a.width/2,y=o.y+o.height/2-a.height/2,w=o[f]/2-a[f]/2;let j;switch(p){case"top":j={x:g,y:o.y-a.height};break;case"bottom":j={x:g,y:o.y+o.height};break;case"right":j={x:o.x+o.width,y};break;case"left":j={x:o.x-a.width,y};break;default:j={x:o.x,y:o.y}}switch(Uo(t)){case"start":j[u]-=w*(r&&m?-1:1);break;case"end":j[u]+=w*(r&&m?-1:1);break}return j}const w1=async(e,t,r)=>{const{placement:o="bottom",strategy:a="absolute",middleware:c=[],platform:u}=r,f=c.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(t));let m=await u.getElementRects({reference:e,floating:t,strategy:a}),{x:g,y}=Vm(m,o,p),w=o,j={},b=0;for(let _=0;_<f.length;_++){const{name:k,fn:O}=f[_],{x:P,y:E,data:T,reset:L}=await O({x:g,y,initialPlacement:o,placement:w,strategy:a,middlewareData:j,rects:m,platform:u,elements:{reference:e,floating:t}});g=P??g,y=E??y,j={...j,[k]:{...j[k],...T}},L&&b<=50&&(b++,typeof L=="object"&&(L.placement&&(w=L.placement),L.rects&&(m=L.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:a}):L.rects),{x:g,y}=Vm(m,w,p)),_=-1)}return{x:g,y,placement:w,strategy:a,middlewareData:j}};async function Da(e,t){var r;t===void 0&&(t={});const{x:o,y:a,platform:c,rects:u,elements:f,strategy:p}=e,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:w=!1,padding:j=0}=Ar(t,e),b=Hv(j),k=f[w?y==="floating"?"reference":"floating":y],O=Nl(await c.getClippingRect({element:(r=await(c.isElement==null?void 0:c.isElement(k)))==null||r?k:k.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(f.floating)),boundary:m,rootBoundary:g,strategy:p})),P=y==="floating"?{x:o,y:a,width:u.floating.width,height:u.floating.height}:u.reference,E=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f.floating)),T=await(c.isElement==null?void 0:c.isElement(E))?await(c.getScale==null?void 0:c.getScale(E))||{x:1,y:1}:{x:1,y:1},L=Nl(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:P,offsetParent:E,strategy:p}):P);return{top:(O.top-L.top+b.top)/T.y,bottom:(L.bottom-O.bottom+b.bottom)/T.y,left:(O.left-L.left+b.left)/T.x,right:(L.right-O.right+b.right)/T.x}}const _1=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:o,placement:a,rects:c,platform:u,elements:f,middlewareData:p}=t,{element:m,padding:g=0}=Ar(e,t)||{};if(m==null)return{};const y=Hv(g),w={x:r,y:o},j=af(a),b=of(j),_=await u.getDimensions(m),k=j==="y",O=k?"top":"left",P=k?"bottom":"right",E=k?"clientHeight":"clientWidth",T=c.reference[b]+c.reference[j]-w[j]-c.floating[b],L=w[j]-c.reference[j],B=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let W=B?B[E]:0;(!W||!await(u.isElement==null?void 0:u.isElement(B)))&&(W=f.floating[E]||c.floating[b]);const A=T/2-L/2,q=W/2-_[b]/2-1,Y=ds(y[O],q),Z=ds(y[P],q),ce=Y,we=W-_[b]-Z,ge=W/2-_[b]/2+A,Pe=xd(ce,ge,we),de=!p.arrow&&Uo(a)!=null&&ge!==Pe&&c.reference[b]/2-(ge<ce?Y:Z)-_[b]/2<0,Q=de?ge<ce?ge-ce:ge-we:0;return{[j]:w[j]+Q,data:{[j]:Pe,centerOffset:ge-Pe-Q,...de&&{alignmentOffset:Q}},reset:de}}}),b1=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,o;const{placement:a,middlewareData:c,rects:u,initialPlacement:f,platform:p,elements:m}=t,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:w,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:_=!0,...k}=Ar(e,t);if((r=c.arrow)!=null&&r.alignmentOffset)return{};const O=Ir(a),P=hr(f),E=Ir(f)===f,T=await(p.isRTL==null?void 0:p.isRTL(m.floating)),L=w||(E||!_?[jl(f)]:p1(f)),B=b!=="none";!w&&B&&L.push(...y1(f,_,b,T));const W=[f,...L],A=await Da(t,k),q=[];let Y=((o=c.flip)==null?void 0:o.overflows)||[];if(g&&q.push(A[O]),y){const ge=h1(a,u,T);q.push(A[ge[0]],A[ge[1]])}if(Y=[...Y,{placement:a,overflows:q}],!q.every(ge=>ge<=0)){var Z,ce;const ge=(((Z=c.flip)==null?void 0:Z.index)||0)+1,Pe=W[ge];if(Pe&&(!(y==="alignment"?P!==hr(Pe):!1)||Y.every(R=>hr(R.placement)===P?R.overflows[0]>0:!0)))return{data:{index:ge,overflows:Y},reset:{placement:Pe}};let de=(ce=Y.filter(Q=>Q.overflows[0]<=0).sort((Q,R)=>Q.overflows[1]-R.overflows[1])[0])==null?void 0:ce.placement;if(!de)switch(j){case"bestFit":{var we;const Q=(we=Y.filter(R=>{if(B){const ie=hr(R.placement);return ie===P||ie==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(ie=>ie>0).reduce((ie,te)=>ie+te,0)]).sort((R,ie)=>R[1]-ie[1])[0])==null?void 0:we[0];Q&&(de=Q);break}case"initialPlacement":de=f;break}if(a!==de)return{reset:{placement:de}}}return{}}}};function qm(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ym(e){return c1.some(t=>e[t]>=0)}const S1=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:o="referenceHidden",...a}=Ar(e,t);switch(o){case"referenceHidden":{const c=await Da(t,{...a,elementContext:"reference"}),u=qm(c,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Ym(u)}}}case"escaped":{const c=await Da(t,{...a,altBoundary:!0}),u=qm(c,r.floating);return{data:{escapedOffsets:u,escaped:Ym(u)}}}default:return{}}}}},Vv=new Set(["left","top"]);async function k1(e,t){const{placement:r,platform:o,elements:a}=e,c=await(o.isRTL==null?void 0:o.isRTL(a.floating)),u=Ir(r),f=Uo(r),p=hr(r)==="y",m=Vv.has(u)?-1:1,g=c&&p?-1:1,y=Ar(t,e);let{mainAxis:w,crossAxis:j,alignmentAxis:b}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return f&&typeof b=="number"&&(j=f==="end"?b*-1:b),p?{x:j*g,y:w*m}:{x:w*m,y:j*g}}const j1=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,o;const{x:a,y:c,placement:u,middlewareData:f}=t,p=await k1(t,e);return u===((r=f.offset)==null?void 0:r.placement)&&(o=f.arrow)!=null&&o.alignmentOffset?{}:{x:a+p.x,y:c+p.y,data:{...p,placement:u}}}}},N1=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:o,placement:a}=t,{mainAxis:c=!0,crossAxis:u=!1,limiter:f={fn:k=>{let{x:O,y:P}=k;return{x:O,y:P}}},...p}=Ar(e,t),m={x:r,y:o},g=await Da(t,p),y=hr(Ir(a)),w=sf(y);let j=m[w],b=m[y];if(c){const k=w==="y"?"top":"left",O=w==="y"?"bottom":"right",P=j+g[k],E=j-g[O];j=xd(P,j,E)}if(u){const k=y==="y"?"top":"left",O=y==="y"?"bottom":"right",P=b+g[k],E=b-g[O];b=xd(P,b,E)}const _=f.fn({...t,[w]:j,[y]:b});return{..._,data:{x:_.x-r,y:_.y-o,enabled:{[w]:c,[y]:u}}}}}},C1=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:o,placement:a,rects:c,middlewareData:u}=t,{offset:f=0,mainAxis:p=!0,crossAxis:m=!0}=Ar(e,t),g={x:r,y:o},y=hr(a),w=sf(y);let j=g[w],b=g[y];const _=Ar(f,t),k=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(p){const E=w==="y"?"height":"width",T=c.reference[w]-c.floating[E]+k.mainAxis,L=c.reference[w]+c.reference[E]-k.mainAxis;j<T?j=T:j>L&&(j=L)}if(m){var O,P;const E=w==="y"?"width":"height",T=Vv.has(Ir(a)),L=c.reference[y]-c.floating[E]+(T&&((O=u.offset)==null?void 0:O[y])||0)+(T?0:k.crossAxis),B=c.reference[y]+c.reference[E]+(T?0:((P=u.offset)==null?void 0:P[y])||0)-(T?k.crossAxis:0);b<L?b=L:b>B&&(b=B)}return{[w]:j,[y]:b}}}},E1=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,o;const{placement:a,rects:c,platform:u,elements:f}=t,{apply:p=()=>{},...m}=Ar(e,t),g=await Da(t,m),y=Ir(a),w=Uo(a),j=hr(a)==="y",{width:b,height:_}=c.floating;let k,O;y==="top"||y==="bottom"?(k=y,O=w===(await(u.isRTL==null?void 0:u.isRTL(f.floating))?"start":"end")?"left":"right"):(O=y,k=w==="end"?"top":"bottom");const P=_-g.top-g.bottom,E=b-g.left-g.right,T=ds(_-g[k],P),L=ds(b-g[O],E),B=!t.middlewareData.shift;let W=T,A=L;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(A=E),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(W=P),B&&!w){const Y=kn(g.left,0),Z=kn(g.right,0),ce=kn(g.top,0),we=kn(g.bottom,0);j?A=b-2*(Y!==0||Z!==0?Y+Z:kn(g.left,g.right)):W=_-2*(ce!==0||we!==0?ce+we:kn(g.top,g.bottom))}await p({...t,availableWidth:A,availableHeight:W});const q=await u.getDimensions(f.floating);return b!==q.width||_!==q.height?{reset:{rects:!0}}:{}}}};function $l(){return typeof window<"u"}function Bo(e){return qv(e)?(e.nodeName||"").toLowerCase():"#document"}function jn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function vr(e){var t;return(t=(qv(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function qv(e){return $l()?e instanceof Node||e instanceof jn(e).Node:!1}function Kn(e){return $l()?e instanceof Element||e instanceof jn(e).Element:!1}function gr(e){return $l()?e instanceof HTMLElement||e instanceof jn(e).HTMLElement:!1}function Km(e){return!$l()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof jn(e).ShadowRoot}const P1=new Set(["inline","contents"]);function za(e){const{overflow:t,overflowX:r,overflowY:o,display:a}=Gn(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+r)&&!P1.has(a)}const T1=new Set(["table","td","th"]);function O1(e){return T1.has(Bo(e))}const D1=[":popover-open",":modal"];function Fl(e){return D1.some(t=>{try{return e.matches(t)}catch{return!1}})}const R1=["transform","translate","scale","rotate","perspective"],M1=["transform","translate","scale","rotate","perspective","filter"],A1=["paint","layout","strict","content"];function lf(e){const t=cf(),r=Kn(e)?Gn(e):e;return R1.some(o=>r[o]?r[o]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||M1.some(o=>(r.willChange||"").includes(o))||A1.some(o=>(r.contain||"").includes(o))}function I1(e){let t=fs(e);for(;gr(t)&&!Io(t);){if(lf(t))return t;if(Fl(t))return null;t=fs(t)}return null}function cf(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const L1=new Set(["html","body","#document"]);function Io(e){return L1.has(Bo(e))}function Gn(e){return jn(e).getComputedStyle(e)}function zl(e){return Kn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function fs(e){if(Bo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Km(e)&&e.host||vr(e);return Km(t)?t.host:t}function Yv(e){const t=fs(e);return Io(t)?e.ownerDocument?e.ownerDocument.body:e.body:gr(t)&&za(t)?t:Yv(t)}function Ra(e,t,r){var o;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=Yv(e),c=a===((o=e.ownerDocument)==null?void 0:o.body),u=jn(a);if(c){const f=_d(u);return t.concat(u,u.visualViewport||[],za(a)?a:[],f&&r?Ra(f):[])}return t.concat(a,Ra(a,[],r))}function _d(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Kv(e){const t=Gn(e);let r=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const a=gr(e),c=a?e.offsetWidth:r,u=a?e.offsetHeight:o,f=kl(r)!==c||kl(o)!==u;return f&&(r=c,o=u),{width:r,height:o,$:f}}function uf(e){return Kn(e)?e:e.contextElement}function Do(e){const t=uf(e);if(!gr(t))return mr(1);const r=t.getBoundingClientRect(),{width:o,height:a,$:c}=Kv(t);let u=(c?kl(r.width):r.width)/o,f=(c?kl(r.height):r.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!f||!Number.isFinite(f))&&(f=1),{x:u,y:f}}const $1=mr(0);function Gv(e){const t=jn(e);return!cf()||!t.visualViewport?$1:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function F1(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==jn(e)?!1:t}function Ls(e,t,r,o){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),c=uf(e);let u=mr(1);t&&(o?Kn(o)&&(u=Do(o)):u=Do(e));const f=F1(c,r,o)?Gv(c):mr(0);let p=(a.left+f.x)/u.x,m=(a.top+f.y)/u.y,g=a.width/u.x,y=a.height/u.y;if(c){const w=jn(c),j=o&&Kn(o)?jn(o):o;let b=w,_=_d(b);for(;_&&o&&j!==b;){const k=Do(_),O=_.getBoundingClientRect(),P=Gn(_),E=O.left+(_.clientLeft+parseFloat(P.paddingLeft))*k.x,T=O.top+(_.clientTop+parseFloat(P.paddingTop))*k.y;p*=k.x,m*=k.y,g*=k.x,y*=k.y,p+=E,m+=T,b=jn(_),_=_d(b)}}return Nl({width:g,height:y,x:p,y:m})}function Wl(e,t){const r=zl(e).scrollLeft;return t?t.left+r:Ls(vr(e)).left+r}function Qv(e,t){const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-Wl(e,r),a=r.top+t.scrollTop;return{x:o,y:a}}function z1(e){let{elements:t,rect:r,offsetParent:o,strategy:a}=e;const c=a==="fixed",u=vr(o),f=t?Fl(t.floating):!1;if(o===u||f&&c)return r;let p={scrollLeft:0,scrollTop:0},m=mr(1);const g=mr(0),y=gr(o);if((y||!y&&!c)&&((Bo(o)!=="body"||za(u))&&(p=zl(o)),gr(o))){const j=Ls(o);m=Do(o),g.x=j.x+o.clientLeft,g.y=j.y+o.clientTop}const w=u&&!y&&!c?Qv(u,p):mr(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-p.scrollLeft*m.x+g.x+w.x,y:r.y*m.y-p.scrollTop*m.y+g.y+w.y}}function W1(e){return Array.from(e.getClientRects())}function U1(e){const t=vr(e),r=zl(e),o=e.ownerDocument.body,a=kn(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),c=kn(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let u=-r.scrollLeft+Wl(e);const f=-r.scrollTop;return Gn(o).direction==="rtl"&&(u+=kn(t.clientWidth,o.clientWidth)-a),{width:a,height:c,x:u,y:f}}const Gm=25;function B1(e,t){const r=jn(e),o=vr(e),a=r.visualViewport;let c=o.clientWidth,u=o.clientHeight,f=0,p=0;if(a){c=a.width,u=a.height;const g=cf();(!g||g&&t==="fixed")&&(f=a.offsetLeft,p=a.offsetTop)}const m=Wl(o);if(m<=0){const g=o.ownerDocument,y=g.body,w=getComputedStyle(y),j=g.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,b=Math.abs(o.clientWidth-y.clientWidth-j);b<=Gm&&(c-=b)}else m<=Gm&&(c+=m);return{width:c,height:u,x:f,y:p}}const H1=new Set(["absolute","fixed"]);function V1(e,t){const r=Ls(e,!0,t==="fixed"),o=r.top+e.clientTop,a=r.left+e.clientLeft,c=gr(e)?Do(e):mr(1),u=e.clientWidth*c.x,f=e.clientHeight*c.y,p=a*c.x,m=o*c.y;return{width:u,height:f,x:p,y:m}}function Qm(e,t,r){let o;if(t==="viewport")o=B1(e,r);else if(t==="document")o=U1(vr(e));else if(Kn(t))o=V1(t,r);else{const a=Gv(e);o={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Nl(o)}function Xv(e,t){const r=fs(e);return r===t||!Kn(r)||Io(r)?!1:Gn(r).position==="fixed"||Xv(r,t)}function q1(e,t){const r=t.get(e);if(r)return r;let o=Ra(e,[],!1).filter(f=>Kn(f)&&Bo(f)!=="body"),a=null;const c=Gn(e).position==="fixed";let u=c?fs(e):e;for(;Kn(u)&&!Io(u);){const f=Gn(u),p=lf(u);!p&&f.position==="fixed"&&(a=null),(c?!p&&!a:!p&&f.position==="static"&&!!a&&H1.has(a.position)||za(u)&&!p&&Xv(e,u))?o=o.filter(g=>g!==u):a=f,u=fs(u)}return t.set(e,o),o}function Y1(e){let{element:t,boundary:r,rootBoundary:o,strategy:a}=e;const u=[...r==="clippingAncestors"?Fl(t)?[]:q1(t,this._c):[].concat(r),o],f=u[0],p=u.reduce((m,g)=>{const y=Qm(t,g,a);return m.top=kn(y.top,m.top),m.right=ds(y.right,m.right),m.bottom=ds(y.bottom,m.bottom),m.left=kn(y.left,m.left),m},Qm(t,f,a));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function K1(e){const{width:t,height:r}=Kv(e);return{width:t,height:r}}function G1(e,t,r){const o=gr(t),a=vr(t),c=r==="fixed",u=Ls(e,!0,c,t);let f={scrollLeft:0,scrollTop:0};const p=mr(0);function m(){p.x=Wl(a)}if(o||!o&&!c)if((Bo(t)!=="body"||za(a))&&(f=zl(t)),o){const j=Ls(t,!0,c,t);p.x=j.x+t.clientLeft,p.y=j.y+t.clientTop}else a&&m();c&&!o&&a&&m();const g=a&&!o&&!c?Qv(a,f):mr(0),y=u.left+f.scrollLeft-p.x-g.x,w=u.top+f.scrollTop-p.y-g.y;return{x:y,y:w,width:u.width,height:u.height}}function Gu(e){return Gn(e).position==="static"}function Xm(e,t){if(!gr(e)||Gn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return vr(e)===r&&(r=r.ownerDocument.body),r}function Jv(e,t){const r=jn(e);if(Fl(e))return r;if(!gr(e)){let a=fs(e);for(;a&&!Io(a);){if(Kn(a)&&!Gu(a))return a;a=fs(a)}return r}let o=Xm(e,t);for(;o&&O1(o)&&Gu(o);)o=Xm(o,t);return o&&Io(o)&&Gu(o)&&!lf(o)?r:o||I1(e)||r}const Q1=async function(e){const t=this.getOffsetParent||Jv,r=this.getDimensions,o=await r(e.floating);return{reference:G1(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function X1(e){return Gn(e).direction==="rtl"}const J1={convertOffsetParentRelativeRectToViewportRelativeRect:z1,getDocumentElement:vr,getClippingRect:Y1,getOffsetParent:Jv,getElementRects:Q1,getClientRects:W1,getDimensions:K1,getScale:Do,isElement:Kn,isRTL:X1};function Zv(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Z1(e,t){let r=null,o;const a=vr(e);function c(){var f;clearTimeout(o),(f=r)==null||f.disconnect(),r=null}function u(f,p){f===void 0&&(f=!1),p===void 0&&(p=1),c();const m=e.getBoundingClientRect(),{left:g,top:y,width:w,height:j}=m;if(f||t(),!w||!j)return;const b=fl(y),_=fl(a.clientWidth-(g+w)),k=fl(a.clientHeight-(y+j)),O=fl(g),E={rootMargin:-b+"px "+-_+"px "+-k+"px "+-O+"px",threshold:kn(0,ds(1,p))||1};let T=!0;function L(B){const W=B[0].intersectionRatio;if(W!==p){if(!T)return u();W?u(!1,W):o=setTimeout(()=>{u(!1,1e-7)},1e3)}W===1&&!Zv(m,e.getBoundingClientRect())&&u(),T=!1}try{r=new IntersectionObserver(L,{...E,root:a.ownerDocument})}catch{r=new IntersectionObserver(L,E)}r.observe(e)}return u(!0),c}function ek(e,t,r,o){o===void 0&&(o={});const{ancestorScroll:a=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:p=!1}=o,m=uf(e),g=a||c?[...m?Ra(m):[],...Ra(t)]:[];g.forEach(O=>{a&&O.addEventListener("scroll",r,{passive:!0}),c&&O.addEventListener("resize",r)});const y=m&&f?Z1(m,r):null;let w=-1,j=null;u&&(j=new ResizeObserver(O=>{let[P]=O;P&&P.target===m&&j&&(j.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var E;(E=j)==null||E.observe(t)})),r()}),m&&!p&&j.observe(m),j.observe(t));let b,_=p?Ls(e):null;p&&k();function k(){const O=Ls(e);_&&!Zv(_,O)&&r(),_=O,b=requestAnimationFrame(k)}return r(),()=>{var O;g.forEach(P=>{a&&P.removeEventListener("scroll",r),c&&P.removeEventListener("resize",r)}),y?.(),(O=j)==null||O.disconnect(),j=null,p&&cancelAnimationFrame(b)}}const tk=j1,nk=N1,rk=b1,sk=E1,ok=S1,Jm=_1,ak=C1,ik=(e,t,r)=>{const o=new Map,a={platform:J1,...r},c={...a.platform,_c:o};return w1(e,t,{...a,platform:c})};var lk=typeof document<"u",ck=function(){},wl=lk?x.useLayoutEffect:ck;function Cl(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,o,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(o=r;o--!==0;)if(!Cl(e[o],t[o]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(t,a[o]))return!1;for(o=r;o--!==0;){const c=a[o];if(!(c==="_owner"&&e.$$typeof)&&!Cl(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}function ey(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Zm(e,t){const r=ey(e);return Math.round(t*r)/r}function Qu(e){const t=x.useRef(e);return wl(()=>{t.current=e}),t}function uk(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:o=[],platform:a,elements:{reference:c,floating:u}={},transform:f=!0,whileElementsMounted:p,open:m}=e,[g,y]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[w,j]=x.useState(o);Cl(w,o)||j(o);const[b,_]=x.useState(null),[k,O]=x.useState(null),P=x.useCallback(R=>{R!==B.current&&(B.current=R,_(R))},[]),E=x.useCallback(R=>{R!==W.current&&(W.current=R,O(R))},[]),T=c||b,L=u||k,B=x.useRef(null),W=x.useRef(null),A=x.useRef(g),q=p!=null,Y=Qu(p),Z=Qu(a),ce=Qu(m),we=x.useCallback(()=>{if(!B.current||!W.current)return;const R={placement:t,strategy:r,middleware:w};Z.current&&(R.platform=Z.current),ik(B.current,W.current,R).then(ie=>{const te={...ie,isPositioned:ce.current!==!1};ge.current&&!Cl(A.current,te)&&(A.current=te,Fa.flushSync(()=>{y(te)}))})},[w,t,r,Z,ce]);wl(()=>{m===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,y(R=>({...R,isPositioned:!1})))},[m]);const ge=x.useRef(!1);wl(()=>(ge.current=!0,()=>{ge.current=!1}),[]),wl(()=>{if(T&&(B.current=T),L&&(W.current=L),T&&L){if(Y.current)return Y.current(T,L,we);we()}},[T,L,we,Y,q]);const Pe=x.useMemo(()=>({reference:B,floating:W,setReference:P,setFloating:E}),[P,E]),de=x.useMemo(()=>({reference:T,floating:L}),[T,L]),Q=x.useMemo(()=>{const R={position:r,left:0,top:0};if(!de.floating)return R;const ie=Zm(de.floating,g.x),te=Zm(de.floating,g.y);return f?{...R,transform:"translate("+ie+"px, "+te+"px)",...ey(de.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ie,top:te}},[r,f,de.floating,g.x,g.y]);return x.useMemo(()=>({...g,update:we,refs:Pe,elements:de,floatingStyles:Q}),[g,we,Pe,de,Q])}const dk=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:o,padding:a}=typeof e=="function"?e(r):e;return o&&t(o)?o.current!=null?Jm({element:o.current,padding:a}).fn(r):{}:o?Jm({element:o,padding:a}).fn(r):{}}}},fk=(e,t)=>({...tk(e),options:[e,t]}),hk=(e,t)=>({...nk(e),options:[e,t]}),pk=(e,t)=>({...ak(e),options:[e,t]}),mk=(e,t)=>({...rk(e),options:[e,t]}),gk=(e,t)=>({...sk(e),options:[e,t]}),vk=(e,t)=>({...ok(e),options:[e,t]}),yk=(e,t)=>({...dk(e),options:[e,t]});var xk="Arrow",ty=x.forwardRef((e,t)=>{const{children:r,width:o=10,height:a=5,...c}=e;return i.jsx(Xe.svg,{...c,ref:t,width:o,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});ty.displayName=xk;var wk=ty;function _k(e){const[t,r]=x.useState(void 0);return Xt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const o=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const c=a[0];let u,f;if("borderBoxSize"in c){const p=c.borderBoxSize,m=Array.isArray(p)?p[0]:p;u=m.inlineSize,f=m.blockSize}else u=e.offsetWidth,f=e.offsetHeight;r({width:u,height:f})});return o.observe(e,{box:"border-box"}),()=>o.unobserve(e)}else r(void 0)},[e]),t}var df="Popper",[ny,Ul]=Us(df),[bk,ry]=ny(df),sy=e=>{const{__scopePopper:t,children:r}=e,[o,a]=x.useState(null);return i.jsx(bk,{scope:t,anchor:o,onAnchorChange:a,children:r})};sy.displayName=df;var oy="PopperAnchor",ay=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:o,...a}=e,c=ry(oy,r),u=x.useRef(null),f=ft(t,u),p=x.useRef(null);return x.useEffect(()=>{const m=p.current;p.current=o?.current||u.current,m!==p.current&&c.onAnchorChange(p.current)}),o?null:i.jsx(Xe.div,{...a,ref:f})});ay.displayName=oy;var ff="PopperContent",[Sk,kk]=ny(ff),iy=x.forwardRef((e,t)=>{const{__scopePopper:r,side:o="bottom",sideOffset:a=0,align:c="center",alignOffset:u=0,arrowPadding:f=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:w=!1,updatePositionStrategy:j="optimized",onPlaced:b,..._}=e,k=ry(ff,r),[O,P]=x.useState(null),E=ft(t,ne=>P(ne)),[T,L]=x.useState(null),B=_k(T),W=B?.width??0,A=B?.height??0,q=o+(c!=="center"?"-"+c:""),Y=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},Z=Array.isArray(m)?m:[m],ce=Z.length>0,we={padding:Y,boundary:Z.filter(Nk),altBoundary:ce},{refs:ge,floatingStyles:Pe,placement:de,isPositioned:Q,middlewareData:R}=uk({strategy:"fixed",placement:q,whileElementsMounted:(...ne)=>ek(...ne,{animationFrame:j==="always"}),elements:{reference:k.anchor},middleware:[fk({mainAxis:a+A,alignmentAxis:u}),p&&hk({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?pk():void 0,...we}),p&&mk({...we}),gk({...we,apply:({elements:ne,rects:Ce,availableWidth:Fe,availableHeight:De})=>{const{width:qe,height:Ze}=Ce.reference,yt=ne.floating.style;yt.setProperty("--radix-popper-available-width",`${Fe}px`),yt.setProperty("--radix-popper-available-height",`${De}px`),yt.setProperty("--radix-popper-anchor-width",`${qe}px`),yt.setProperty("--radix-popper-anchor-height",`${Ze}px`)}}),T&&yk({element:T,padding:f}),Ck({arrowWidth:W,arrowHeight:A}),w&&vk({strategy:"referenceHidden",...we})]}),[ie,te]=uy(de),F=us(b);Xt(()=>{Q&&F?.()},[Q,F]);const X=R.arrow?.x,ve=R.arrow?.y,ae=R.arrow?.centerOffset!==0,[Te,ze]=x.useState();return Xt(()=>{O&&ze(window.getComputedStyle(O).zIndex)},[O]),i.jsx("div",{ref:ge.setFloating,"data-radix-popper-content-wrapper":"",style:{...Pe,transform:Q?Pe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Te,"--radix-popper-transform-origin":[R.transformOrigin?.x,R.transformOrigin?.y].join(" "),...R.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(Sk,{scope:r,placedSide:ie,onArrowChange:L,arrowX:X,arrowY:ve,shouldHideArrow:ae,children:i.jsx(Xe.div,{"data-side":ie,"data-align":te,..._,ref:E,style:{..._.style,animation:Q?void 0:"none"}})})})});iy.displayName=ff;var ly="PopperArrow",jk={top:"bottom",right:"left",bottom:"top",left:"right"},cy=x.forwardRef(function(t,r){const{__scopePopper:o,...a}=t,c=kk(ly,o),u=jk[c.placedSide];return i.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:i.jsx(wk,{...a,ref:r,style:{...a.style,display:"block"}})})});cy.displayName=ly;function Nk(e){return e!==null}var Ck=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:o,middlewareData:a}=t,u=a.arrow?.centerOffset!==0,f=u?0:e.arrowWidth,p=u?0:e.arrowHeight,[m,g]=uy(r),y={start:"0%",center:"50%",end:"100%"}[g],w=(a.arrow?.x??0)+f/2,j=(a.arrow?.y??0)+p/2;let b="",_="";return m==="bottom"?(b=u?y:`${w}px`,_=`${-p}px`):m==="top"?(b=u?y:`${w}px`,_=`${o.floating.height+p}px`):m==="right"?(b=`${-p}px`,_=u?y:`${j}px`):m==="left"&&(b=`${o.floating.width+p}px`,_=u?y:`${j}px`),{data:{x:b,y:_}}}});function uy(e){const[t,r="center"]=e.split("-");return[t,r]}var dy=sy,fy=ay,hy=iy,py=cy,my=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ek="VisuallyHidden",gy=x.forwardRef((e,t)=>i.jsx(Xe.span,{...e,ref:t,style:{...my,...e.style}}));gy.displayName=Ek;var Pk=gy,[Bl,bO]=Us("Tooltip",[Ul]),Hl=Ul(),vy="TooltipProvider",Tk=700,bd="tooltip.open",[Ok,hf]=Bl(vy),yy=e=>{const{__scopeTooltip:t,delayDuration:r=Tk,skipDelayDuration:o=300,disableHoverableContent:a=!1,children:c}=e,u=x.useRef(!0),f=x.useRef(!1),p=x.useRef(0);return x.useEffect(()=>{const m=p.current;return()=>window.clearTimeout(m)},[]),i.jsx(Ok,{scope:t,isOpenDelayedRef:u,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(p.current),u.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>u.current=!0,o)},[o]),isPointerInTransitRef:f,onPointerInTransitChange:x.useCallback(m=>{f.current=m},[]),disableHoverableContent:a,children:c})};yy.displayName=vy;var Ma="Tooltip",[Dk,Wa]=Bl(Ma),xy=e=>{const{__scopeTooltip:t,children:r,open:o,defaultOpen:a,onOpenChange:c,disableHoverableContent:u,delayDuration:f}=e,p=hf(Ma,e.__scopeTooltip),m=Hl(t),[g,y]=x.useState(null),w=Mr(),j=x.useRef(0),b=u??p.disableHoverableContent,_=f??p.delayDuration,k=x.useRef(!1),[O,P]=Ao({prop:o,defaultProp:a??!1,onChange:W=>{W?(p.onOpen(),document.dispatchEvent(new CustomEvent(bd))):p.onClose(),c?.(W)},caller:Ma}),E=x.useMemo(()=>O?k.current?"delayed-open":"instant-open":"closed",[O]),T=x.useCallback(()=>{window.clearTimeout(j.current),j.current=0,k.current=!1,P(!0)},[P]),L=x.useCallback(()=>{window.clearTimeout(j.current),j.current=0,P(!1)},[P]),B=x.useCallback(()=>{window.clearTimeout(j.current),j.current=window.setTimeout(()=>{k.current=!0,P(!0),j.current=0},_)},[_,P]);return x.useEffect(()=>()=>{j.current&&(window.clearTimeout(j.current),j.current=0)},[]),i.jsx(dy,{...m,children:i.jsx(Dk,{scope:t,contentId:w,open:O,stateAttribute:E,trigger:g,onTriggerChange:y,onTriggerEnter:x.useCallback(()=>{p.isOpenDelayedRef.current?B():T()},[p.isOpenDelayedRef,B,T]),onTriggerLeave:x.useCallback(()=>{b?L():(window.clearTimeout(j.current),j.current=0)},[L,b]),onOpen:T,onClose:L,disableHoverableContent:b,children:r})})};xy.displayName=Ma;var Sd="TooltipTrigger",wy=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...o}=e,a=Wa(Sd,r),c=hf(Sd,r),u=Hl(r),f=x.useRef(null),p=ft(t,f,a.onTriggerChange),m=x.useRef(!1),g=x.useRef(!1),y=x.useCallback(()=>m.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),i.jsx(fy,{asChild:!0,...u,children:i.jsx(Xe.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...o,ref:p,onPointerMove:Ve(e.onPointerMove,w=>{w.pointerType!=="touch"&&!g.current&&!c.isPointerInTransitRef.current&&(a.onTriggerEnter(),g.current=!0)}),onPointerLeave:Ve(e.onPointerLeave,()=>{a.onTriggerLeave(),g.current=!1}),onPointerDown:Ve(e.onPointerDown,()=>{a.open&&a.onClose(),m.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:Ve(e.onFocus,()=>{m.current||a.onOpen()}),onBlur:Ve(e.onBlur,a.onClose),onClick:Ve(e.onClick,a.onClose)})})});wy.displayName=Sd;var pf="TooltipPortal",[Rk,Mk]=Bl(pf,{forceMount:void 0}),_y=e=>{const{__scopeTooltip:t,forceMount:r,children:o,container:a}=e,c=Wa(pf,t);return i.jsx(Rk,{scope:t,forceMount:r,children:i.jsx(Bs,{present:r||c.open,children:i.jsx(Al,{asChild:!0,container:a,children:o})})})};_y.displayName=pf;var Lo="TooltipContent",by=x.forwardRef((e,t)=>{const r=Mk(Lo,e.__scopeTooltip),{forceMount:o=r.forceMount,side:a="top",...c}=e,u=Wa(Lo,e.__scopeTooltip);return i.jsx(Bs,{present:o||u.open,children:u.disableHoverableContent?i.jsx(Sy,{side:a,...c,ref:t}):i.jsx(Ak,{side:a,...c,ref:t})})}),Ak=x.forwardRef((e,t)=>{const r=Wa(Lo,e.__scopeTooltip),o=hf(Lo,e.__scopeTooltip),a=x.useRef(null),c=ft(t,a),[u,f]=x.useState(null),{trigger:p,onClose:m}=r,g=a.current,{onPointerInTransitChange:y}=o,w=x.useCallback(()=>{f(null),y(!1)},[y]),j=x.useCallback((b,_)=>{const k=b.currentTarget,O={x:b.clientX,y:b.clientY},P=Fk(O,k.getBoundingClientRect()),E=zk(O,P),T=Wk(_.getBoundingClientRect()),L=Bk([...E,...T]);f(L),y(!0)},[y]);return x.useEffect(()=>()=>w(),[w]),x.useEffect(()=>{if(p&&g){const b=k=>j(k,g),_=k=>j(k,p);return p.addEventListener("pointerleave",b),g.addEventListener("pointerleave",_),()=>{p.removeEventListener("pointerleave",b),g.removeEventListener("pointerleave",_)}}},[p,g,j,w]),x.useEffect(()=>{if(u){const b=_=>{const k=_.target,O={x:_.clientX,y:_.clientY},P=p?.contains(k)||g?.contains(k),E=!Uk(O,u);P?w():E&&(w(),m())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[p,g,u,m,w]),i.jsx(Sy,{...e,ref:c})}),[Ik,Lk]=Bl(Ma,{isInside:!1}),$k=c_("TooltipContent"),Sy=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:o,"aria-label":a,onEscapeKeyDown:c,onPointerDownOutside:u,...f}=e,p=Wa(Lo,r),m=Hl(r),{onClose:g}=p;return x.useEffect(()=>(document.addEventListener(bd,g),()=>document.removeEventListener(bd,g)),[g]),x.useEffect(()=>{if(p.trigger){const y=w=>{w.target?.contains(p.trigger)&&g()};return window.addEventListener("scroll",y,{capture:!0}),()=>window.removeEventListener("scroll",y,{capture:!0})}},[p.trigger,g]),i.jsx(Ml,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:y=>y.preventDefault(),onDismiss:g,children:i.jsxs(hy,{"data-state":p.stateAttribute,...m,...f,ref:t,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx($k,{children:o}),i.jsx(Ik,{scope:r,isInside:!0,children:i.jsx(Pk,{id:p.contentId,role:"tooltip",children:a||o})})]})})});by.displayName=Lo;var ky="TooltipArrow",jy=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...o}=e,a=Hl(r);return Lk(ky,r).isInside?null:i.jsx(py,{...a,...o,ref:t})});jy.displayName=ky;function Fk(e,t){const r=Math.abs(t.top-e.y),o=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),c=Math.abs(t.left-e.x);switch(Math.min(r,o,a,c)){case c:return"left";case a:return"right";case r:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function zk(e,t,r=5){const o=[];switch(t){case"top":o.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":o.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":o.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":o.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return o}function Wk(e){const{top:t,right:r,bottom:o,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:o},{x:a,y:o}]}function Uk(e,t){const{x:r,y:o}=e;let a=!1;for(let c=0,u=t.length-1;c<t.length;u=c++){const f=t[c],p=t[u],m=f.x,g=f.y,y=p.x,w=p.y;g>o!=w>o&&r<(y-m)*(o-g)/(w-g)+m&&(a=!a)}return a}function Bk(e){const t=e.slice();return t.sort((r,o)=>r.x<o.x?-1:r.x>o.x?1:r.y<o.y?-1:r.y>o.y?1:0),Hk(t)}function Hk(e){if(e.length<=1)return e.slice();const t=[];for(let o=0;o<e.length;o++){const a=e[o];for(;t.length>=2;){const c=t[t.length-1],u=t[t.length-2];if((c.x-u.x)*(a.y-u.y)>=(c.y-u.y)*(a.x-u.x))t.pop();else break}t.push(a)}t.pop();const r=[];for(let o=e.length-1;o>=0;o--){const a=e[o];for(;r.length>=2;){const c=r[r.length-1],u=r[r.length-2];if((c.x-u.x)*(a.y-u.y)>=(c.y-u.y)*(a.x-u.x))r.pop();else break}r.push(a)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Vk=yy,qk=xy,Yk=wy,Kk=_y,Gk=by,Qk=jy;function Ny({delayDuration:e=0,...t}){return i.jsx(Vk,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Xk({...e}){return i.jsx(Ny,{children:i.jsx(qk,{"data-slot":"tooltip",...e})})}function Jk({...e}){return i.jsx(Yk,{"data-slot":"tooltip-trigger",...e})}function Zk({className:e,sideOffset:t=0,children:r,...o}){return i.jsx(Kk,{children:i.jsxs(Gk,{"data-slot":"tooltip-content",sideOffset:t,className:$e("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...o,children:[r,i.jsx(Qk,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const ej="sidebar_state",tj=3600*24*7,nj="16rem",rj="18rem",sj="3rem",oj="b",Cy=x.createContext(null);function mf(){const e=x.useContext(Cy);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function aj({defaultOpen:e=!0,open:t,onOpenChange:r,className:o,style:a,children:c,...u}){const f=X_(),[p,m]=x.useState(!1),[g,y]=x.useState(e),w=t??g,j=x.useCallback(O=>{const P=typeof O=="function"?O(w):O;r?r(P):y(P),document.cookie=`${ej}=${P}; path=/; max-age=${tj}`},[r,w]),b=x.useCallback(()=>f?m(O=>!O):j(O=>!O),[f,j,m]);x.useEffect(()=>{const O=P=>{P.key===oj&&(P.metaKey||P.ctrlKey)&&(P.preventDefault(),b())};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[b]);const _=w?"expanded":"collapsed",k=x.useMemo(()=>({state:_,open:w,setOpen:j,isMobile:f,openMobile:p,setOpenMobile:m,toggleSidebar:b}),[_,w,j,f,p,m,b]);return i.jsx(Cy.Provider,{value:k,children:i.jsx(Ny,{delayDuration:0,children:i.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":nj,"--sidebar-width-icon":sj,...a},className:$e("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",o),...u,children:c})})})}function ij({side:e="left",variant:t="sidebar",collapsible:r="offcanvas",className:o,children:a,...c}){const{isMobile:u,state:f,openMobile:p,setOpenMobile:m}=mf();return r==="none"?i.jsx("div",{"data-slot":"sidebar",className:$e("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",o),...c,children:a}):u?i.jsx(a1,{open:p,onOpenChange:m,...c,children:i.jsxs(zv,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":rj},side:e,children:[i.jsxs(Wv,{className:"sr-only",children:[i.jsx(Uv,{children:"Sidebar"}),i.jsx(Bv,{children:"Displays the mobile sidebar."})]}),i.jsx("div",{className:"flex h-full w-full flex-col",children:a})]})}):i.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":f,"data-collapsible":f==="collapsed"?r:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[i.jsx("div",{"data-slot":"sidebar-gap",className:$e("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),i.jsx("div",{"data-slot":"sidebar-container",className:$e("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",o),...c,children:i.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:a})})]})}function lj({className:e,onClick:t,...r}){const{toggleSidebar:o}=mf();return i.jsxs(me,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:$e("size-7",e),onClick:a=>{t?.(a),o()},...r,children:[i.jsx($_,{}),i.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function cj({className:e,...t}){return i.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:$e("flex flex-col gap-2 p-2",e),...t})}function uj({className:e,...t}){return i.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:$e("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...t})}function dj({className:e,...t}){return i.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:$e("flex w-full min-w-0 flex-col gap-1",e),...t})}function fj({className:e,...t}){return i.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:$e("group/menu-item relative",e),...t})}const hj=Rl("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function pj({asChild:e=!1,isActive:t=!1,variant:r="default",size:o="default",tooltip:a,className:c,...u}){const f=e?qd:"button",{isMobile:p,state:m}=mf(),g=i.jsx(f,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":o,"data-active":t,className:$e(hj({variant:r,size:o}),c),...u});return a?(typeof a=="string"&&(a={children:a}),i.jsxs(Xk,{children:[i.jsx(Jk,{asChild:!0,children:g}),i.jsx(Zk,{side:"right",align:"center",hidden:m!=="collapsed"||p,...a})]})):g}function Gt({className:e,...t}){return i.jsx("div",{"data-slot":"card",className:$e("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function mn({className:e,...t}){return i.jsx("div",{"data-slot":"card-header",className:$e("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function gn({className:e,...t}){return i.jsx("h4",{"data-slot":"card-title",className:$e("leading-none",e),...t})}function on({className:e,...t}){return i.jsx("div",{"data-slot":"card-content",className:$e("px-6 [&:last-child]:pb-6",e),...t})}const mj="modulepreload",gj=function(e){return"/"+e},eg={},Ua=function(t,r,o){let a=Promise.resolve();if(r&&r.length>0){let u=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=f?.nonce||f?.getAttribute("nonce");a=u(r.map(m=>{if(m=gj(m),m in eg)return;eg[m]=!0;const g=m.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":mj,g||(w.as="script"),w.crossOrigin="",w.href=m,p&&w.setAttribute("nonce",p),document.head.appendChild(w),g)return new Promise((j,b)=>{w.addEventListener("load",j),w.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&c(f.reason);return t().catch(c)})},vj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ua(async()=>{const{default:o}=await Promise.resolve().then(()=>Ho);return{default:o}},void 0).then(({default:o})=>o(...r)):t=fetch,(...r)=>t(...r)};class gf extends Error{constructor(t,r="FunctionsError",o){super(t),this.name=r,this.context=o}}class yj extends gf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class tg extends gf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ng extends gf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var kd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(kd||(kd={}));var xj=function(e,t,r,o){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(g){try{m(o.next(g))}catch(y){u(y)}}function p(g){try{m(o.throw(g))}catch(y){u(y)}}function m(g){g.done?c(g.value):a(g.value).then(f,p)}m((o=o.apply(e,t||[])).next())})};class wj{constructor(t,{headers:r={},customFetch:o,region:a=kd.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=vj(o)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var o;return xj(this,void 0,void 0,function*(){try{const{headers:a,method:c,body:u}=r;let f={},{region:p}=r;p||(p=this.region);const m=new URL(`${this.url}/${t}`);p&&p!=="any"&&(f["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(f["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(f["Content-Type"]="application/json",g=JSON.stringify(u)));const y=yield this.fetch(m.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),a),body:g}).catch(_=>{throw new yj(_)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new tg(y);if(!y.ok)throw new ng(y);let j=((o=y.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),b;return j==="application/json"?b=yield y.json():j==="application/octet-stream"?b=yield y.blob():j==="text/event-stream"?b=y:j==="multipart/form-data"?b=yield y.formData():b=yield y.text(),{data:b,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof ng||a instanceof tg?a.context:void 0}}})}}var It={},yo={},xo={},wo={},_o={},bo={},_j=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$o=_j();const bj=$o.fetch,Ey=$o.fetch.bind($o),Py=$o.Headers,Sj=$o.Request,kj=$o.Response,Ho=Object.freeze(Object.defineProperty({__proto__:null,Headers:Py,Request:Sj,Response:kj,default:Ey,fetch:bj},Symbol.toStringTag,{value:"Module"})),jj=Zw(Ho);var hl={},rg;function Ty(){if(rg)return hl;rg=1,Object.defineProperty(hl,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return hl.default=e,hl}var sg;function Oy(){if(sg)return bo;sg=1;var e=bo&&bo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(bo,"__esModule",{value:!0});const t=e(jj),r=e(Ty());class o{constructor(c){var u,f;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(u=c.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=c.signal,this.isMaybeSingle=(f=c.isMaybeSingle)!==null&&f!==void 0?f:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=new Headers(this.headers),this.headers.set(c,u),this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const f=this.fetch;let p=f(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,y,w,j;let b=null,_=null,k=null,O=m.status,P=m.statusText;if(m.ok){if(this.method!=="HEAD"){const B=await m.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?_=B:_=JSON.parse(B))}const T=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),L=(w=m.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");T&&L&&L.length>1&&(k=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(b={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,k=null,O=406,P="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const T=await m.text();try{b=JSON.parse(T),Array.isArray(b)&&m.status===404&&(_=[],b=null,O=200,P="OK")}catch{m.status===404&&T===""?(O=204,P="No Content"):b={message:T}}if(b&&this.isMaybeSingle&&(!((j=b?.details)===null||j===void 0)&&j.includes("0 rows"))&&(b=null,O=200,P="OK"),b&&this.shouldThrowOnError)throw new r.default(b)}return{error:b,data:_,count:k,status:O,statusText:P}});return this.shouldThrowOnError||(p=p.catch(m=>{var g,y,w;return{error:{message:`${(g=m?.name)!==null&&g!==void 0?g:"FetchError"}: ${m?.message}`,details:`${(y=m?.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(w=m?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,u)}returns(){return this}overrideTypes(){return this}}return bo.default=o,bo}var og;function Dy(){if(og)return _o;og=1;var e=_o&&_o.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(_o,"__esModule",{value:!0});const t=e(Oy());class r extends t.default{select(a){let c=!1;const u=(a??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:c=!0,nullsFirst:u,foreignTable:f,referencedTable:p=f}={}){const m=p?`${p}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${a}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:c,referencedTable:u=c}={}){const f=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${a}`),this}range(a,c,{foreignTable:u,referencedTable:f=u}={}){const p=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(p,`${a}`),this.url.searchParams.set(m,`${c-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:c=!1,settings:u=!1,buffers:f=!1,wal:p=!1,format:m="text"}={}){var g;const y=[a?"analyze":null,c?"verbose":null,u?"settings":null,f?"buffers":null,p?"wal":null].filter(Boolean).join("|"),w=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${w}"; options=${y};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return _o.default=r,_o}var ag;function vf(){if(ag)return wo;ag=1;var e=wo&&wo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(wo,"__esModule",{value:!0});const t=e(Dy());class r extends t.default{eq(a,c){return this.url.searchParams.append(a,`eq.${c}`),this}neq(a,c){return this.url.searchParams.append(a,`neq.${c}`),this}gt(a,c){return this.url.searchParams.append(a,`gt.${c}`),this}gte(a,c){return this.url.searchParams.append(a,`gte.${c}`),this}lt(a,c){return this.url.searchParams.append(a,`lt.${c}`),this}lte(a,c){return this.url.searchParams.append(a,`lte.${c}`),this}like(a,c){return this.url.searchParams.append(a,`like.${c}`),this}likeAllOf(a,c){return this.url.searchParams.append(a,`like(all).{${c.join(",")}}`),this}likeAnyOf(a,c){return this.url.searchParams.append(a,`like(any).{${c.join(",")}}`),this}ilike(a,c){return this.url.searchParams.append(a,`ilike.${c}`),this}ilikeAllOf(a,c){return this.url.searchParams.append(a,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(a,c){return this.url.searchParams.append(a,`ilike(any).{${c.join(",")}}`),this}is(a,c){return this.url.searchParams.append(a,`is.${c}`),this}in(a,c){const u=Array.from(new Set(c)).map(f=>typeof f=="string"&&new RegExp("[,()]").test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cs.{${c.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(c)}`),this}containedBy(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cd.{${c.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(c)}`),this}rangeGt(a,c){return this.url.searchParams.append(a,`sr.${c}`),this}rangeGte(a,c){return this.url.searchParams.append(a,`nxl.${c}`),this}rangeLt(a,c){return this.url.searchParams.append(a,`sl.${c}`),this}rangeLte(a,c){return this.url.searchParams.append(a,`nxr.${c}`),this}rangeAdjacent(a,c){return this.url.searchParams.append(a,`adj.${c}`),this}overlaps(a,c){return typeof c=="string"?this.url.searchParams.append(a,`ov.${c}`):this.url.searchParams.append(a,`ov.{${c.join(",")}}`),this}textSearch(a,c,{config:u,type:f}={}){let p="";f==="plain"?p="pl":f==="phrase"?p="ph":f==="websearch"&&(p="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${p}fts${m}.${c}`),this}match(a){return Object.entries(a).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(a,c,u){return this.url.searchParams.append(a,`not.${c}.${u}`),this}or(a,{foreignTable:c,referencedTable:u=c}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${a})`),this}filter(a,c,u){return this.url.searchParams.append(a,`${c}.${u}`),this}}return wo.default=r,wo}var ig;function Ry(){if(ig)return xo;ig=1;var e=xo&&xo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(xo,"__esModule",{value:!0});const t=e(vf());class r{constructor(a,{headers:c={},schema:u,fetch:f}){this.url=a,this.headers=new Headers(c),this.schema=u,this.fetch=f}select(a,{head:c=!1,count:u}={}){const f=c?"HEAD":"GET";let p=!1;const m=(a??"*").split("").map(g=>/\s/.test(g)&&!p?"":(g==='"'&&(p=!p),g)).join("");return this.url.searchParams.set("select",m),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:c,defaultToNull:u=!0}={}){var f;const p="POST";if(c&&this.headers.append("Prefer",`count=${c}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const m=a.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(m.length>0){const g=[...new Set(m)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(a,{onConflict:c,ignoreDuplicates:u=!1,count:f,defaultToNull:p=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),f&&this.headers.append("Prefer",`count=${f}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const y=a.reduce((w,j)=>w.concat(Object.keys(j)),[]);if(y.length>0){const w=[...new Set(y)].map(j=>`"${j}"`);this.url.searchParams.set("columns",w.join(","))}}return new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(a,{count:c}={}){var u;const f="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new t.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:a}={}){var c;const u="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return xo.default=r,xo}var lg;function Nj(){if(lg)return yo;lg=1;var e=yo&&yo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(yo,"__esModule",{value:!0});const t=e(Ry()),r=e(vf());class o{constructor(c,{headers:u={},schema:f,fetch:p}={}){this.url=c,this.headers=new Headers(u),this.schemaName=f,this.fetch=p}from(c){const u=new URL(`${this.url}/${c}`);return new t.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new o(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,u={},{head:f=!1,get:p=!1,count:m}={}){var g;let y;const w=new URL(`${this.url}/rpc/${c}`);let j;f||p?(y=f?"HEAD":"GET",Object.entries(u).filter(([_,k])=>k!==void 0).map(([_,k])=>[_,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([_,k])=>{w.searchParams.append(_,k)})):(y="POST",j=u);const b=new Headers(this.headers);return m&&b.set("Prefer",`count=${m}`),new r.default({method:y,url:w,headers:b,schema:this.schemaName,body:j,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return yo.default=o,yo}var cg;function Cj(){if(cg)return It;cg=1;var e=It&&It.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(It,"__esModule",{value:!0}),It.PostgrestError=It.PostgrestBuilder=It.PostgrestTransformBuilder=It.PostgrestFilterBuilder=It.PostgrestQueryBuilder=It.PostgrestClient=void 0;const t=e(Nj());It.PostgrestClient=t.default;const r=e(Ry());It.PostgrestQueryBuilder=r.default;const o=e(vf());It.PostgrestFilterBuilder=o.default;const a=e(Dy());It.PostgrestTransformBuilder=a.default;const c=e(Oy());It.PostgrestBuilder=c.default;const u=e(Ty());return It.PostgrestError=u.default,It.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:c.default,PostgrestError:u.default},It}var Ej=Cj();const Pj=Hd(Ej),{PostgrestClient:Tj,PostgrestQueryBuilder:SO,PostgrestFilterBuilder:kO,PostgrestTransformBuilder:jO,PostgrestBuilder:NO,PostgrestError:CO}=Pj;class Oj{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const o=this.getWebSocketConstructor();return new o(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Dj="2.15.4",Rj=`realtime-js/${Dj}`,Mj="1.0.0",jd=1e4,Aj=1e3,Ij=100;var Pa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pa||(Pa={}));var Pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pt||(Pt={}));var Yn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Yn||(Yn={}));var Nd;(function(e){e.websocket="websocket"})(Nd||(Nd={}));var Ms;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ms||(Ms={}));class Lj{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),o=new TextDecoder;return this._decodeBroadcast(t,r,o)}_decodeBroadcast(t,r,o){const a=r.getUint8(1),c=r.getUint8(2);let u=this.HEADER_LENGTH+2;const f=o.decode(t.slice(u,u+a));u=u+a;const p=o.decode(t.slice(u,u+c));u=u+c;const m=JSON.parse(o.decode(t.slice(u,t.byteLength)));return{ref:null,topic:f,event:p,payload:m}}}class My{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var it;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(it||(it={}));const ug=(e,t,r={})=>{var o;const a=(o=r.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(t).reduce((c,u)=>(c[u]=$j(u,e,t,a),c),{})},$j=(e,t,r,o)=>{const a=t.find(f=>f.name===e),c=a?.type,u=r[e];return c&&!o.includes(c)?Ay(c,u):Cd(u)},Ay=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Uj(t,r)}switch(e){case it.bool:return Fj(t);case it.float4:case it.float8:case it.int2:case it.int4:case it.int8:case it.numeric:case it.oid:return zj(t);case it.json:case it.jsonb:return Wj(t);case it.timestamp:return Bj(t);case it.abstime:case it.date:case it.daterange:case it.int4range:case it.int8range:case it.money:case it.reltime:case it.text:case it.time:case it.timestamptz:case it.timetz:case it.tsrange:case it.tstzrange:return Cd(t);default:return Cd(t)}},Cd=e=>e,Fj=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zj=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Wj=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Uj=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,o=e[r];if(e[0]==="{"&&o==="}"){let c;const u=e.slice(1,r);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(f=>Ay(t,f))}return e},Bj=e=>typeof e=="string"?e.replace(" ","T"):e,Iy=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Xu{constructor(t,r,o={},a=jd){this.channel=t,this.event=r,this.payload=o,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var o;return this._hasReceived(t)&&r((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(o=>o.status===t).forEach(o=>o.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var dg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(dg||(dg={}));class Ta{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},a=>{const{onJoin:c,onLeave:u,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ta.syncState(this.state,a,c,u),this.pendingDiffs.forEach(p=>{this.state=Ta.syncDiff(this.state,p,c,u)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},a=>{const{onJoin:c,onLeave:u,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ta.syncDiff(this.state,a,c,u),f())}),this.onJoin((a,c,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:c,newPresences:u})}),this.onLeave((a,c,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,o,a){const c=this.cloneDeep(t),u=this.transformState(r),f={},p={};return this.map(c,(m,g)=>{u[m]||(p[m]=g)}),this.map(u,(m,g)=>{const y=c[m];if(y){const w=g.map(k=>k.presence_ref),j=y.map(k=>k.presence_ref),b=g.filter(k=>j.indexOf(k.presence_ref)<0),_=y.filter(k=>w.indexOf(k.presence_ref)<0);b.length>0&&(f[m]=b),_.length>0&&(p[m]=_)}else f[m]=g}),this.syncDiff(c,{joins:f,leaves:p},o,a)}static syncDiff(t,r,o,a){const{joins:c,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return o||(o=()=>{}),a||(a=()=>{}),this.map(c,(f,p)=>{var m;const g=(m=t[f])!==null&&m!==void 0?m:[];if(t[f]=this.cloneDeep(p),g.length>0){const y=t[f].map(j=>j.presence_ref),w=g.filter(j=>y.indexOf(j.presence_ref)<0);t[f].unshift(...w)}o(f,g,p)}),this.map(u,(f,p)=>{let m=t[f];if(!m)return;const g=p.map(y=>y.presence_ref);m=m.filter(y=>g.indexOf(y.presence_ref)<0),t[f]=m,a(f,m,p),m.length===0&&delete t[f]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(o=>r(o,t[o]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,o)=>{const a=t[o];return"metas"in a?r[o]=a.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[o]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(fg||(fg={}));var Oa;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Oa||(Oa={}));var Rr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Rr||(Rr={}));class yf{constructor(t,r={config:{}},o){this.topic=t,this.params=r,this.socket=o,this.bindings={},this.state=Pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xu(this,Yn.join,this.params,this.timeout),this.rejoinTimer=new My(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yn.reply,{},(a,c)=>{this._trigger(this._replyEventName(c),a)}),this.presence=new Ta(this),this.broadcastEndpointURL=Iy(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var o,a,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Pt.closed){const{config:{broadcast:u,presence:f,private:p}}=this.params,m=(a=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(j=>j.filter))!==null&&a!==void 0?a:[],g=!!this.bindings[Oa.PRESENCE]&&this.bindings[Oa.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,y={},w={broadcast:u,presence:Object.assign(Object.assign({},f),{enabled:g}),postgres_changes:m,private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(j=>t?.(Rr.CHANNEL_ERROR,j)),this._onClose(()=>t?.(Rr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},y)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:j})=>{var b;if(this.socket.setAuth(),j===void 0){t?.(Rr.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,k=(b=_?.length)!==null&&b!==void 0?b:0,O=[];for(let P=0;P<k;P++){const E=_[P],{filter:{event:T,schema:L,table:B,filter:W}}=E,A=j&&j[P];if(A&&A.event===T&&A.schema===L&&A.table===B&&A.filter===W)O.push(Object.assign(Object.assign({},E),{id:A.id}));else{this.unsubscribe(),this.state=Pt.errored,t?.(Rr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,t&&t(Rr.SUBSCRIBED);return}}).receive("error",j=>{this.state=Pt.errored,t?.(Rr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{t?.(Rr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,o){return this.state===Pt.joined&&t===Oa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,o)}async send(t,r={}){var o,a;if(!this._canPush()&&t.type==="broadcast"){const{event:c,payload:u}=t,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);return await((a=m.body)===null||a===void 0?void 0:a.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,f,p;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(f=(u=this.params)===null||u===void 0?void 0:u.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),m.receive("ok",()=>c("ok")),m.receive("error",()=>c("error")),m.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yn.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(a=>{o=new Xu(this,Yn.leave,{},t),o.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pt.closed,this.bindings={}}async _fetchWithTimeout(t,r,o){const a=new AbortController,c=setTimeout(()=>a.abort(),o),u=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(c),u}_push(t,r,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Xu(this,t,r,o);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Ij){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,o){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,o){var a,c;const u=t.toLocaleLowerCase(),{close:f,error:p,leave:m,join:g}=Yn;if(o&&[f,p,m,g].indexOf(u)>=0&&o!==this._joinRef())return;let w=this._onMessage(u,r,o);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(j=>{var b,_,k;return((b=j.filter)===null||b===void 0?void 0:b.event)==="*"||((k=(_=j.filter)===null||_===void 0?void 0:_.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(j=>j.callback(w,o)):(c=this.bindings[u])===null||c===void 0||c.filter(j=>{var b,_,k,O,P,E;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in j){const T=j.id,L=(b=j.filter)===null||b===void 0?void 0:b.event;return T&&((_=r.ids)===null||_===void 0?void 0:_.includes(T))&&(L==="*"||L?.toLocaleLowerCase()===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const T=(P=(O=j?.filter)===null||O===void 0?void 0:O.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return T==="*"||T===((E=r?.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===u}).map(j=>{if(typeof w=="object"&&"ids"in w){const b=w.data,{schema:_,table:k,commit_timestamp:O,type:P,errors:E}=b;w=Object.assign(Object.assign({},{schema:_,table:k,commit_timestamp:O,eventType:P,new:{},old:{},errors:E}),this._getPayloadRecords(b))}j.callback(w,o)})}_isClosed(){return this.state===Pt.closed}_isJoined(){return this.state===Pt.joined}_isJoining(){return this.state===Pt.joining}_isLeaving(){return this.state===Pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,o){const a=t.toLocaleLowerCase(),c={type:a,filter:r,callback:o};return this.bindings[a]?this.bindings[a].push(c):this.bindings[a]=[c],this}_off(t,r){const o=t.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(a=>{var c;return!(((c=a.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===o&&yf.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const o in t)if(t[o]!==r[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yn.close,{},t)}_onError(t){this._on(Yn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ug(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ug(t.columns,t.old_record)),r}}const Ju=()=>{},pl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Hj=[1e3,2e3,5e3,1e4],Vj=1e4,qj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Yj{constructor(t,r){var o;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jd,this.transport=null,this.heartbeatIntervalMs=pl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ju,this.ref=0,this.reconnectTimer=null,this.logger=Ju,this.conn=null,this.sendBuffer=[],this.serializer=new Lj,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let c;return a?c=a:typeof fetch>"u"?c=(...u)=>Ua(async()=>{const{default:f}=await Promise.resolve().then(()=>Ho);return{default:f}},void 0).then(({default:f})=>f(...u)).catch(f=>{throw new Error(`Failed to load @supabase/node-fetch: ${f.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...u)=>c(...u)},!(!((o=r?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Nd.websocket}`,this.httpEndpoint=Iy(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Oj.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Mj}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,o){this.logger(t,r,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Pa.connecting:return Ms.Connecting;case Pa.open:return Ms.Open;case Pa.closing:return Ms.Closing;default:return Ms.Closed}}isConnected(){return this.connectionState()===Ms.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const o=`realtime:${t}`,a=this.getChannels().find(c=>c.topic===o);if(a)return a;{const c=new yf(`realtime:${t}`,r,this);return this.channels.push(c),c}}push(t){const{topic:r,event:o,payload:a,ref:c}=t,u=()=>{this.encode(t,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${r} ${o} (${c})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Aj,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},pl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(o=>o.topic===t&&(o._isJoined()||o._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:a,payload:c,ref:u}=r,f=u?`(${u})`:"",p=c.status||"";this.log("receive",`${p} ${o} ${a} ${f}`.trim(),c),this.channels.filter(m=>m._isMember(o)).forEach(m=>m._trigger(a,c,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const o=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${o}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const o=new Blob([qj],{type:"application/javascript"});r=URL.createObjectURL(o)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const a={access_token:r,version:Rj};r&&o.updateJoinPayload(a),o.joinedOnce&&o._isJoined()&&o._push(Yn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(o=>{try{o(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(o){this.log("error",`error triggering ${t} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new My(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},pl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,o,a,c,u,f,p,m,g;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(o=t?.timeout)!==null&&o!==void 0?o:jd,this.heartbeatIntervalMs=(a=t?.heartbeatIntervalMs)!==null&&a!==void 0?a:pl.HEARTBEAT_INTERVAL,this.worker=(c=t?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:Ju,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(y=>Hj[y-1]||Vj),this.encode=(m=t?.encode)!==null&&m!==void 0?m:((y,w)=>w(JSON.stringify(y))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class xf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Tt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Kj extends xf{constructor(t,r,o){super(t),this.name="StorageApiError",this.status=r,this.statusCode=o}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ed extends xf{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Gj=function(e,t,r,o){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(g){try{m(o.next(g))}catch(y){u(y)}}function p(g){try{m(o.throw(g))}catch(y){u(y)}}function m(g){g.done?c(g.value):a(g.value).then(f,p)}m((o=o.apply(e,t||[])).next())})};const Ly=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ua(async()=>{const{default:o}=await Promise.resolve().then(()=>Ho);return{default:o}},void 0).then(({default:o})=>o(...r)):t=fetch,(...r)=>t(...r)},Qj=()=>Gj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ua(()=>Promise.resolve().then(()=>Ho),void 0)).Response:Response}),Pd=e=>{if(Array.isArray(e))return e.map(r=>Pd(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,o])=>{const a=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[a]=Pd(o)}),t},Xj=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Hs=function(e,t,r,o){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(g){try{m(o.next(g))}catch(y){u(y)}}function p(g){try{m(o.throw(g))}catch(y){u(y)}}function m(g){g.done?c(g.value):a(g.value).then(f,p)}m((o=o.apply(e,t||[])).next())})};const Zu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Jj=(e,t,r)=>Hs(void 0,void 0,void 0,function*(){const o=yield Qj();e instanceof o&&!r?.noResolveJson?e.json().then(a=>{const c=e.status||500,u=a?.statusCode||c+"";t(new Kj(Zu(a),c,u))}).catch(a=>{t(new Ed(Zu(a),a))}):t(new Ed(Zu(e),e))}),Zj=(e,t,r,o)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"||!o?a:(Xj(o)?(a.headers=Object.assign({"Content-Type":"application/json"},t?.headers),a.body=JSON.stringify(o)):a.body=o,t?.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Ba(e,t,r,o,a,c){return Hs(this,void 0,void 0,function*(){return new Promise((u,f)=>{e(r,Zj(t,o,a,c)).then(p=>{if(!p.ok)throw p;return o?.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>Jj(p,f,o))})})}function El(e,t,r,o){return Hs(this,void 0,void 0,function*(){return Ba(e,"GET",t,r,o)})}function cr(e,t,r,o,a){return Hs(this,void 0,void 0,function*(){return Ba(e,"POST",t,o,a,r)})}function Td(e,t,r,o,a){return Hs(this,void 0,void 0,function*(){return Ba(e,"PUT",t,o,a,r)})}function eN(e,t,r,o){return Hs(this,void 0,void 0,function*(){return Ba(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),o)})}function $y(e,t,r,o,a){return Hs(this,void 0,void 0,function*(){return Ba(e,"DELETE",t,o,a,r)})}var nn=function(e,t,r,o){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(g){try{m(o.next(g))}catch(y){u(y)}}function p(g){try{m(o.throw(g))}catch(y){u(y)}}function m(g){g.done?c(g.value):a(g.value).then(f,p)}m((o=o.apply(e,t||[])).next())})};const tN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nN{constructor(t,r={},o,a){this.url=t,this.headers=r,this.bucketId=o,this.fetch=Ly(a)}uploadOrUpdate(t,r,o,a){return nn(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},hg),a);let f=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&o instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",o)):typeof FormData<"u"&&o instanceof FormData?(c=o,c.append("cacheControl",u.cacheControl),p&&c.append("metadata",this.encodeMetadata(p))):(c=o,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType,p&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),a?.headers&&(f=Object.assign(Object.assign({},f),a.headers));const m=this._removeEmptyFolders(r),g=this._getFinalPath(m),y=yield(t=="PUT"?Td:cr)(this.fetch,`${this.url}/object/${g}`,c,Object.assign({headers:f},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:y.Id,fullPath:y.Key},error:null}}catch(c){if(Tt(c))return{data:null,error:c};throw c}})}upload(t,r,o){return nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,o)})}uploadToSignedUrl(t,r,o,a){return nn(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(t),u=this._getFinalPath(c),f=new URL(this.url+`/object/upload/sign/${u}`);f.searchParams.set("token",r);try{let p;const m=Object.assign({upsert:hg.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&o instanceof Blob?(p=new FormData,p.append("cacheControl",m.cacheControl),p.append("",o)):typeof FormData<"u"&&o instanceof FormData?(p=o,p.append("cacheControl",m.cacheControl)):(p=o,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const y=yield Td(this.fetch,f.toString(),p,{headers:g});return{data:{path:c,fullPath:y.Key},error:null}}catch(p){if(Tt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(t,r){return nn(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t);const a=Object.assign({},this.headers);r?.upsert&&(a["x-upsert"]="true");const c=yield cr(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:a}),u=new URL(this.url+c.url),f=u.searchParams.get("token");if(!f)throw new xf("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:f},error:null}}catch(o){if(Tt(o))return{data:null,error:o};throw o}})}update(t,r,o){return nn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,o)})}move(t,r,o){return nn(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:o?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}copy(t,r,o){return nn(this,void 0,void 0,function*(){try{return{data:{path:(yield cr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:o?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,o){return nn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),c=yield cr(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},o?.transform?{transform:o.transform}:{}),{headers:this.headers});const u=o?.download?`&download=${o.download===!0?"":o.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,o){return nn(this,void 0,void 0,function*(){try{const a=yield cr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),c=o?.download?`&download=${o.download===!0?"":o.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}download(t,r){return nn(this,void 0,void 0,function*(){const a=typeof r?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(r?.transform||{}),u=c?`?${c}`:"";try{const f=this._getFinalPath(t);return{data:yield(yield El(this.fetch,`${this.url}/${a}/${f}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(f){if(Tt(f))return{data:null,error:f};throw f}})}info(t){return nn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const o=yield El(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Pd(o),error:null}}catch(o){if(Tt(o))return{data:null,error:o};throw o}})}exists(t){return nn(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield eN(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(Tt(o)&&o instanceof Ed){const a=o.originalError;if([400,404].includes(a?.status))return{data:!1,error:o}}throw o}})}getPublicUrl(t,r){const o=this._getFinalPath(t),a=[],c=r?.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&a.push(c);const f=typeof r?.transform<"u"?"render/image":"object",p=this.transformOptsToQueryString(r?.transform||{});p!==""&&a.push(p);let m=a.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${o}${m}`)}}}remove(t){return nn(this,void 0,void 0,function*(){try{return{data:yield $y(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}list(t,r,o){return nn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},tN),r),{prefix:t||""});return{data:yield cr(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},o),error:null}}catch(a){if(Tt(a))return{data:null,error:a};throw a}})}listV2(t,r){return nn(this,void 0,void 0,function*(){try{const o=Object.assign({},t);return{data:yield cr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(Tt(o))return{data:null,error:o};throw o}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const rN="2.11.0",sN={"X-Client-Info":`storage-js/${rN}`};var So=function(e,t,r,o){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(g){try{m(o.next(g))}catch(y){u(y)}}function p(g){try{m(o.throw(g))}catch(y){u(y)}}function m(g){g.done?c(g.value):a(g.value).then(f,p)}m((o=o.apply(e,t||[])).next())})};class oN{constructor(t,r={},o,a){const c=new URL(t);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},sN),r),this.fetch=Ly(o)}listBuckets(){return So(this,void 0,void 0,function*(){try{return{data:yield El(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Tt(t))return{data:null,error:t};throw t}})}getBucket(t){return So(this,void 0,void 0,function*(){try{return{data:yield El(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return So(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Tt(o))return{data:null,error:o};throw o}})}updateBucket(t,r){return So(this,void 0,void 0,function*(){try{return{data:yield Td(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Tt(o))return{data:null,error:o};throw o}})}emptyBucket(t){return So(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return So(this,void 0,void 0,function*(){try{return{data:yield $y(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Tt(r))return{data:null,error:r};throw r}})}}class aN extends oN{constructor(t,r={},o,a){super(t,r,o,a)}from(t){return new nN(this.url,this.headers,t,this.fetch)}}const iN="2.56.1";let Ca="";typeof Deno<"u"?Ca="deno":typeof document<"u"?Ca="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ca="react-native":Ca="node";const lN={"X-Client-Info":`supabase-js-${Ca}/${iN}`},cN={headers:lN},uN={schema:"public"},dN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fN={};var hN=function(e,t,r,o){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(g){try{m(o.next(g))}catch(y){u(y)}}function p(g){try{m(o.throw(g))}catch(y){u(y)}}function m(g){g.done?c(g.value):a(g.value).then(f,p)}m((o=o.apply(e,t||[])).next())})};const pN=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ey:t=fetch,(...r)=>t(...r)},mN=()=>typeof Headers>"u"?Py:Headers,gN=(e,t,r)=>{const o=pN(r),a=mN();return(c,u)=>hN(void 0,void 0,void 0,function*(){var f;const p=(f=yield t())!==null&&f!==void 0?f:e;let m=new a(u?.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${p}`),o(c,Object.assign(Object.assign({},u),{headers:m}))})};var vN=function(e,t,r,o){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(g){try{m(o.next(g))}catch(y){u(y)}}function p(g){try{m(o.throw(g))}catch(y){u(y)}}function m(g){g.done?c(g.value):a(g.value).then(f,p)}m((o=o.apply(e,t||[])).next())})};function yN(e){return e.endsWith("/")?e:e+"/"}function xN(e,t){var r,o;const{db:a,auth:c,realtime:u,global:f}=e,{db:p,auth:m,realtime:g,global:y}=t,w={db:Object.assign(Object.assign({},p),a),auth:Object.assign(Object.assign({},m),c),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},y),f),{headers:Object.assign(Object.assign({},(r=y?.headers)!==null&&r!==void 0?r:{}),(o=f?.headers)!==null&&o!==void 0?o:{})}),accessToken:()=>vN(this,void 0,void 0,function*(){return""})};return e.accessToken?w.accessToken=e.accessToken:delete w.accessToken,w}const Fy="2.71.1",Po=30*1e3,Od=3,ed=Od*Po,wN="http://localhost:9999",_N="supabase.auth.token",bN={"X-Client-Info":`gotrue-js/${Fy}`},Dd="X-Supabase-Api-Version",zy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},SN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kN=600*1e3;class wf extends Error{constructor(t,r,o){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=o}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class jN extends wf{constructor(t,r,o){super(t,r,o),this.name="AuthApiError",this.status=r,this.code=o}}function NN(e){return Be(e)&&e.name==="AuthApiError"}class Wy extends wf{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class hs extends wf{constructor(t,r,o,a){super(t,o,a),this.name=r,this.status=o}}class ls extends hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CN(e){return Be(e)&&e.name==="AuthSessionMissingError"}class ml extends hs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gl extends hs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class vl extends hs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function EN(e){return Be(e)&&e.name==="AuthImplicitGrantRedirectError"}class pg extends hs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Rd extends hs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function td(e){return Be(e)&&e.name==="AuthRetryableFetchError"}class mg extends hs{constructor(t,r,o){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=o}}class Md extends hs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),gg=` 	
\r=`.split(""),PN=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<gg.length;t+=1)e[gg[t].charCodeAt(0)]=-2;for(let t=0;t<Pl.length;t+=1)e[Pl[t].charCodeAt(0)]=t;return e})();function vg(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;r(Pl[o]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;r(Pl[o]),t.queuedBits-=6}}function Uy(e,t,r){const o=PN[e];if(o>-1)for(t.queue=t.queue<<6|o,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function yg(e){const t=[],r=u=>{t.push(String.fromCodePoint(u))},o={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},c=u=>{DN(u,o,r)};for(let u=0;u<e.length;u+=1)Uy(e.charCodeAt(u),a,c);return t.join("")}function TN(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ON(e,t){for(let r=0;r<e.length;r+=1){let o=e.charCodeAt(r);if(o>55295&&o<=56319){const a=(o-55296)*1024&65535;o=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}TN(o,t)}}function DN(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let o=1;o<6;o+=1)if((e>>7-o&1)===0){t.utf8seq=o;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function RN(e){const t=[],r={queue:0,queuedBits:0},o=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)Uy(e.charCodeAt(a),r,o);return new Uint8Array(t)}function MN(e){const t=[];return ON(e,r=>t.push(r)),new Uint8Array(t)}function AN(e){const t=[],r={queue:0,queuedBits:0},o=a=>{t.push(a)};return e.forEach(a=>vg(a,r,o)),vg(null,r,o),t.join("")}function IN(e){return Math.round(Date.now()/1e3)+e}function LN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Vn=()=>typeof window<"u"&&typeof document<"u",Ts={tested:!1,writable:!1},By=()=>{if(!Vn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ts.tested)return Ts.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ts.tested=!0,Ts.writable=!0}catch{Ts.tested=!0,Ts.writable=!1}return Ts.writable};function $N(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,c)=>{t[c]=a})}catch{}return r.searchParams.forEach((o,a)=>{t[a]=o}),t}const Hy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ua(async()=>{const{default:o}=await Promise.resolve().then(()=>Ho);return{default:o}},void 0).then(({default:o})=>o(...r)):t=fetch,(...r)=>t(...r)},FN=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",To=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Os=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},os=async(e,t)=>{await e.removeItem(t)};class Vl{constructor(){this.promise=new Vl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Vl.promiseConstructor=Promise;function nd(e){const t=e.split(".");if(t.length!==3)throw new Md("Invalid JWT structure");for(let o=0;o<t.length;o++)if(!SN.test(t[o]))throw new Md("JWT not in base64url format");return{header:JSON.parse(yg(t[0])),payload:JSON.parse(yg(t[1])),signature:RN(t[2]),raw:{header:t[0],payload:t[1]}}}async function zN(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function WN(e,t){return new Promise((o,a)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await e(c);if(!t(c,null,u)){o(u);return}}catch(u){if(!t(c,u)){a(u);return}}})()})}function UN(e){return("0"+e.toString(16)).substr(-2)}function BN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=r.length;let a="";for(let c=0;c<56;c++)a+=r.charAt(Math.floor(Math.random()*o));return a}return crypto.getRandomValues(t),Array.from(t,UN).join("")}async function HN(e){const r=new TextEncoder().encode(e),o=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(o);return Array.from(a).map(c=>String.fromCharCode(c)).join("")}async function VN(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await HN(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ko(e,t,r=!1){const o=BN();let a=o;r&&(a+="/PASSWORD_RECOVERY"),await To(e,`${t}-code-verifier`,a);const c=await VN(o);return[c,o===c?"plain":"s256"]}const qN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YN(e){const t=e.headers.get(Dd);if(!t||!t.match(qN))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function KN(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function GN(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const QN=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function jo(e){if(!QN.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rd(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xg(e){return JSON.parse(JSON.stringify(e))}var XN=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(r[o[a]]=e[o[a]]);return r};const Ds=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),JN=[502,503,504];async function wg(e){var t;if(!FN(e))throw new Rd(Ds(e),0);if(JN.includes(e.status))throw new Rd(Ds(e),e.status);let r;try{r=await e.json()}catch(c){throw new Wy(Ds(c),c)}let o;const a=YN(e);if(a&&a.getTime()>=zy["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?o=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(o=r.error_code),o){if(o==="weak_password")throw new mg(Ds(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(o==="session_not_found")throw new ls}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new mg(Ds(r),e.status,r.weak_password.reasons);throw new jN(Ds(r),e.status||500,o)}const ZN=(e,t,r,o)=>{const a={method:e,headers:t?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),a.body=JSON.stringify(o),Object.assign(Object.assign({},a),r))};async function Ge(e,t,r,o){var a;const c=Object.assign({},o?.headers);c[Dd]||(c[Dd]=zy["2024-01-01"].name),o?.jwt&&(c.Authorization=`Bearer ${o.jwt}`);const u=(a=o?.query)!==null&&a!==void 0?a:{};o?.redirectTo&&(u.redirect_to=o.redirectTo);const f=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await eC(e,t,r+f,{headers:c,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(p):{data:Object.assign({},p),error:null}}async function eC(e,t,r,o,a,c){const u=ZN(t,o,a,c);let f;try{f=await e(r,Object.assign({},u))}catch(p){throw console.error(p),new Rd(Ds(p),0)}if(f.ok||await wg(f),o?.noResolveJson)return f;try{return await f.json()}catch(p){await wg(p)}}function Dr(e){var t;let r=null;sC(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=IN(e.expires_in)));const o=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:o},error:null}}function _g(e){const t=Dr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0)&&(t.data.weak_password=e.weak_password),t}function cs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function tC(e){return{data:e,error:null}}function nC(e){const{action_link:t,email_otp:r,hashed_token:o,redirect_to:a,verification_type:c}=e,u=XN(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:r,hashed_token:o,redirect_to:a,verification_type:c},p=Object.assign({},u);return{data:{properties:f,user:p},error:null}}function rC(e){return e}function sC(e){return e.access_token&&e.refresh_token&&e.expires_in}const sd=["global","local","others"];var oC=function(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(r[o[a]]=e[o[a]]);return r};class aC{constructor({url:t="",headers:r={},fetch:o}){this.url=t,this.headers=r,this.fetch=Hy(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=sd[0]){if(sd.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sd.join(", ")}`);try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}}async inviteUserByEmail(t,r={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:cs})}catch(o){if(Be(o))return{data:{user:null},error:o};throw o}}async generateLink(t){try{const{options:r}=t,o=oC(t,["options"]),a=Object.assign(Object.assign({},o),r);return"newEmail"in o&&(a.new_email=o?.newEmail,delete a.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:nC,redirectTo:r?.redirectTo})}catch(r){if(Be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:cs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,o,a,c,u,f,p;try{const m={nextPage:null,lastPage:0,total:0},g=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&o!==void 0?o:"",per_page:(c=(a=t?.perPage)===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:""},xform:rC});if(g.error)throw g.error;const y=await g.json(),w=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,j=(p=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return j.length>0&&(j.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(b.split(";")[1].split("=")[1]);m[`${k}Page`]=_}),m.total=parseInt(w)),{data:Object.assign(Object.assign({},y),m),error:null}}catch(m){if(Be(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){jo(t);try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:cs})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){jo(t);try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:cs})}catch(o){if(Be(o))return{data:{user:null},error:o};throw o}}async deleteUser(t,r=!1){jo(t);try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:cs})}catch(o){if(Be(o))return{data:{user:null},error:o};throw o}}async _listFactors(t){jo(t.userId);try{const{data:r,error:o}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:o}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){jo(t.userId),jo(t.id);try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}}function bg(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function iC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const No={debug:!!(globalThis&&By()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Vy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class lC extends Vy{}async function cC(e,t,r){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const o=new globalThis.AbortController;return t>0&&setTimeout(()=>{o.abort(),No.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async a=>{if(a){No.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{No.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw No.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new lC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(No.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}iC();const uC={url:wN,storageKey:_N,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Sg(e,t,r){return await r()}const Co={};class Aa{constructor(t){var r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Aa.nextInstanceID,Aa.nextInstanceID+=1,this.instanceID>0&&Vn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},uC),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new aC({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Hy(a.fetch),this.lock=a.lock||Sg,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Vn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=cC:this.lock=Sg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:By()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=bg(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=bg(this.memoryStorage)),Vn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Co[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Co[this.storageKey]=Object.assign(Object.assign({},Co[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Co[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Co[this.storageKey]=Object.assign(Object.assign({},Co[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Fy}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=$N(window.location.href);let o="none";if(this._isImplicitGrantCallback(r)?o="implicit":await this._isPKCECallback(r)&&(o="pkce"),Vn()&&this.detectSessionInUrl&&o!=="none"){const{data:a,error:c}=await this._getSessionFromURL(r,o);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),EN(c)){const p=(t=c.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:f}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",f),await this._saveSession(u),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Be(r)?{error:r}:{error:new Wy("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,o,a;try{const c=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(a=t?.options)===null||a===void 0?void 0:a.captchaToken}},xform:Dr}),{data:u,error:f}=c;if(f||!u)return{data:{user:null,session:null},error:f};const p=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(c){if(Be(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(t){var r,o,a;try{let c;if("email"in t){const{email:g,password:y,options:w}=t;let j=null,b=null;this.flowType==="pkce"&&([j,b]=await ko(this.storage,this.storageKey)),c=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:g,password:y,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:j,code_challenge_method:b},xform:Dr})}else if("phone"in t){const{phone:g,password:y,options:w}=t;c=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(o=w?.data)!==null&&o!==void 0?o:{},channel:(a=w?.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Dr})}else throw new gl("You must provide either an email or phone number and a password");const{data:u,error:f}=c;if(f||!u)return{data:{user:null,session:null},error:f};const p=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(c){if(Be(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(t){try{let r;if("email"in t){const{email:c,password:u,options:f}=t;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:_g})}else if("phone"in t){const{phone:c,password:u,options:f}=t;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:_g})}else throw new gl("You must provide either an email or phone number and a password");const{data:o,error:a}=r;return a?{data:{user:null,session:null},error:a}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new ml}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:a})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,o,a,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,o,a,c,u,f,p,m,g,y,w,j;let b,_;if("message"in t)b=t.message,_=t.signature;else{const{chain:k,wallet:O,statement:P,options:E}=t;let T;if(Vn())if(typeof O=="object")T=O;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))T=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!E?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=O}const L=new URL((r=E?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in T&&T.signIn){const B=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),P?{statement:P}:null));let W;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")W=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)W=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in W&&"signature"in W&&(typeof W.signedMessage=="string"||W.signedMessage instanceof Uint8Array)&&W.signature instanceof Uint8Array)b=typeof W.signedMessage=="string"?W.signedMessage:new TextDecoder().decode(W.signedMessage),_=W.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${L.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(a=(o=E?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((c=E?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((u=E?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((f=E?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((p=E?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((m=E?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((y=(g=E?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||y===void 0)&&y.length?["Resources",...E.signInWithSolana.resources.map(W=>`- ${W}`)]:[]].join(`
`);const B=await T.signMessage(new TextEncoder().encode(b),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=B}}try{const{data:k,error:O}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:AN(_)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(j=t.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Dr});if(O)throw O;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new ml}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:O})}catch(k){if(Be(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const r=await Os(this.storage,`${this.storageKey}-code-verifier`),[o,a]=(r??"").split("/");try{const{data:c,error:u}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:Dr});if(await os(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new ml}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:a??null}),error:u})}catch(c){if(Be(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(t){try{const{options:r,provider:o,token:a,access_token:c,nonce:u}=t,f=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:a,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Dr}),{data:p,error:m}=f;return m?{data:{user:null,session:null},error:m}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new ml}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:m})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,o,a,c,u;try{if("email"in t){const{email:f,options:p}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await ko(this.storage,this.storageKey));const{error:y}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(r=p?.data)!==null&&r!==void 0?r:{},create_user:(o=p?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:p?.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in t){const{phone:f,options:p}=t,{data:m,error:g}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(a=p?.data)!==null&&a!==void 0?a:{},create_user:(c=p?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(u=p?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:g}}throw new gl("You must provide either an email or phone number.")}catch(f){if(Be(f))return{data:{user:null,session:null},error:f};throw f}}async verifyOtp(t){var r,o;try{let a,c;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,c=(o=t.options)===null||o===void 0?void 0:o.captchaToken);const{data:u,error:f}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:a,xform:Dr});if(f)throw f;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,m=u.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:m,session:p},error:null}}catch(a){if(Be(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,o,a;try{let c=null,u=null;return this.flowType==="pkce"&&([c,u]=await ko(this.storage,this.storageKey)),await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&o!==void 0?o:void 0}),!((a=t?.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:tC})}catch(c){if(Be(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:o}=t;if(o)throw o;if(!r)throw new ls;const{error:a}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(Be(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:o,type:a,options:c}=t,{error:u}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{email:o,type:a,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:o,type:a,options:c}=t,{data:u,error:f}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:o,type:a,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new gl("You must provide either an email or phone number and a type")}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await o,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=r();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Os(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const o=t.expires_at?t.expires_at*1e3-Date.now()<ed:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){const u=await Os(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=rd()}if(this.storage.isServer&&t.user){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(p,m,g)=>(!u&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,m,g))})}return{data:{session:t},error:null}}const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{session:null},error:c}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:cs}):await this._useSession(async r=>{var o,a,c;const{data:u,error:f}=r;if(f)throw f;return!(!((o=u.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ls}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&c!==void 0?c:void 0,xform:cs})})}catch(r){if(Be(r))return CN(r)&&(await this._removeSession(),await os(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async o=>{const{data:a,error:c}=o;if(c)throw c;if(!a.session)throw new ls;const u=a.session;let f=null,p=null;this.flowType==="pkce"&&t.email!=null&&([f,p]=await ko(this.storage,this.storageKey));const{data:m,error:g}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:p}),jwt:u.access_token,xform:cs});if(g)throw g;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(o){if(Be(o))return{data:{user:null},error:o};throw o}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ls;const r=Date.now()/1e3;let o=r,a=!0,c=null;const{payload:u}=nd(t.access_token);if(u.exp&&(o=u.exp,a=o<=r),a){const{session:f,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!f)return{data:{user:null,session:null},error:null};c=f}else{const{data:f,error:p}=await this._getUser(t.access_token);if(p)throw p;c={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:o-r,expires_at:o},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(r){if(Be(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var o;if(!t){const{data:u,error:f}=r;if(f)throw f;t=(o=u.session)!==null&&o!==void 0?o:void 0}if(!t?.refresh_token)throw new ls;const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);return c?{data:{user:null,session:null},error:c}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Be(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Vn())throw new vl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new vl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new pg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new pg("No code detected.");const{data:P,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:a,access_token:c,refresh_token:u,expires_in:f,expires_at:p,token_type:m}=t;if(!c||!f||!u||!m)throw new vl("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(f);let w=g+y;p&&(w=parseInt(p));const j=w-g;j*1e3<=Po&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${y}s`);const b=w-y;g-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,w,g):g-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,w,g);const{data:_,error:k}=await this._getUser(c);if(k)throw k;const O={provider_token:o,provider_refresh_token:a,access_token:c,expires_in:y,expires_at:w,refresh_token:u,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:t.type},error:null}}catch(o){if(Be(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Os(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var o;const{data:a,error:c}=r;if(c)return{error:c};const u=(o=a.session)===null||o===void 0?void 0:o.access_token;if(u){const{error:f}=await this.admin.signOut(u,t);if(f&&!(NN(f)&&(f.status===404||f.status===401||f.status===403)))return{error:f}}return t!=="others"&&(await this._removeSession(),await os(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=LN(),o={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:o}}}async _emitInitialSession(t){return await this._useSession(async r=>{var o,a;try{const{data:{session:c},error:u}=r;if(u)throw u;await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,r={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=await ko(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(Be(c))return{data:null,error:c};throw c}}async getUserIdentities(){var t;try{const{data:r,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:o,error:a}=await this._useSession(async c=>{var u,f,p,m,g;const{data:y,error:w}=c;if(w)throw w;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",j,{headers:this.headers,jwt:(g=(m=y.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return Vn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(o?.url),{data:{provider:t.provider,url:o?.url},error:null}}catch(o){if(Be(o))return{data:{provider:t.provider,url:null},error:o};throw o}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var o,a;const{data:c,error:u}=r;if(u)throw u;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const o=Date.now();return await WN(async a=>(a>0&&await zN(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Dr})),(a,c)=>{const u=200*Math.pow(2,a);return c&&td(c)&&Date.now()+u-o<Po})}catch(o){if(this._debug(r,"error",o),Be(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const o=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",o),Vn()&&!r.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}}async _recoverAndRefresh(){var t,r;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const a=await Os(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Os(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await To(this.userStorage,this.storageKey+"-user",u)),a.user=(t=u?.user)!==null&&t!==void 0?t:rd()}else if(a&&!a.user&&!a.user){const u=await Os(this.storage,this.storageKey+"-user");u&&u?.user?(a.user=u.user,await os(this.storage,this.storageKey+"-user"),await To(this.storage,this.storageKey,a)):a.user=rd()}if(this._debug(o,"session from storage",a),!this._isValidSession(a)){this._debug(o,"session is not valid"),a!==null&&await this._removeSession();return}const c=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ed;if(this._debug(o,`session has${c?"":" not"} expired with margin of ${ed}s`),c){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),td(u)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:f}=await this._getUser(a.access_token);!f&&u?.user?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(o,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(o,"error",a),console.error(a);return}finally{this._debug(o,"end")}}async _callRefreshToken(t){var r,o;if(!t)throw new ls;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Vl;const{data:c,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!c.session)throw new ls;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const f={session:c.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(c){if(this._debug(a,"error",c),Be(c)){const u={session:null,error:c};return td(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(c),c}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,o=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:r});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,r)}catch(p){c.push(p)}});if(await Promise.all(u),c.length>0){for(let f=0;f<c.length;f+=1)console.error(c[f]);throw c[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),o=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&r.user&&await To(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const c=xg(a);await To(this.storage,this.storageKey,c)}else{const a=xg(r);await To(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await os(this.storage,this.storageKey),await os(this.storage,this.storageKey+"-code-verifier"),await os(this.storage,this.storageKey+"-user"),this.userStorage&&await os(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Vn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Po);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:o}}=r;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((o.expires_at*1e3-t)/Po);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Po}ms, refresh threshold is ${Od} ticks`),a<=Od&&await this._callRefreshToken(o.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Vy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Vn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,o){const a=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&a.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&a.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[c,u]=await ko(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(f.toString())}if(o?.queryParams){const c=new URLSearchParams(o.queryParams);a.push(c.toString())}return o?.skipBrowserRedirect&&a.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var o;const{data:a,error:c}=r;return c?{data:null,error:c}:await Ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var o,a;const{data:c,error:u}=r;if(u)return{data:null,error:u};const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:p,error:m}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&(!((a=p?.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;const{data:a,error:c}=r;if(c)return{data:null,error:c};const{data:u,error:f}=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:f})})}catch(r){if(Be(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var o;const{data:a,error:c}=r;return c?{data:null,error:c}:await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(o=a?.session)===null||o===void 0?void 0:o.access_token})})}catch(r){if(Be(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:o}=await this._challenge({factorId:t.factorId});return o?{data:null,error:o}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const o=t?.factors||[],a=o.filter(u=>u.factor_type==="totp"&&u.status==="verified"),c=o.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:o,totp:a,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,o;const{data:{session:a},error:c}=t;if(c)return{data:null,error:c};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=nd(a.access_token);let f=null;u.aal&&(f=u.aal);let p=f;((o=(r=a.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(p="aal2");const g=u.amr||[];return{data:{currentLevel:f,nextLevel:p,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,r={keys:[]}){let o=r.keys.find(f=>f.kid===t);if(o)return o;const a=Date.now();if(o=this.jwks.keys.find(f=>f.kid===t),o&&this.jwks_cached_at+kN>a)return o;const{data:c,error:u}=await Ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=a,o=c.keys.find(f=>f.kid===t),!o)?null:o}async getClaims(t,r={}){try{let o=t;if(!o){const{data:j,error:b}=await this.getSession();if(b||!j.session)return{data:null,error:b};o=j.session.access_token}const{header:a,payload:c,signature:u,raw:{header:f,payload:p}}=nd(o);r?.allowExpired||KN(c.exp);const m=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:j}=await this.getUser(o);if(j)throw j;return{data:{claims:c,header:a,signature:u},error:null}}const g=GN(a.alg),y=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,y,u,MN(`${f}.${p}`)))throw new Md("Invalid JWT signature");return{data:{claims:c,header:a,signature:u},error:null}}catch(o){if(Be(o))return{data:null,error:o};throw o}}}Aa.nextInstanceID=0;const dC=Aa;class fC extends dC{constructor(t){super(t)}}var hC=function(e,t,r,o){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function f(g){try{m(o.next(g))}catch(y){u(y)}}function p(g){try{m(o.throw(g))}catch(y){u(y)}}function m(g){g.done?c(g.value):a(g.value).then(f,p)}m((o=o.apply(e,t||[])).next())})};class pC{constructor(t,r,o){var a,c,u;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const f=yN(t),p=new URL(f);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,g={db:uN,realtime:fN,auth:Object.assign(Object.assign({},dN),{storageKey:m}),global:cN},y=xN(o??{},g);this.storageKey=(a=y.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(w,j)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(j)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=gN(r,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new Tj(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new aN(this.storageUrl.href,this.headers,this.fetch,o?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new wj(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},o={}){return this.rest.rpc(t,r,o)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return hC(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(r=(t=o.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:o,storage:a,storageKey:c,flowType:u,lock:f,debug:p},m,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fC({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),m),storageKey:c,autoRefreshToken:t,persistSession:r,detectSessionInUrl:o,storage:a,flowType:u,lock:f,debug:p,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Yj(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,o)=>{this._handleTokenChanged(r,"CLIENT",o?.access_token)})}_handleTokenChanged(t,r,o){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const mC=(e,t,r)=>new pC(e,t,r);function gC(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}gC()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const vC="https://aytsbdefcjmqnpdvjfmc.supabase.co",yC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF5dHNiZGVmY2ptcW5wZHZqZm1jIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY1OTY4NzEsImV4cCI6MjA3MjE3Mjg3MX0.Zs5WIf_q2FJRTNIXQsuu9HS8vcdHzI13g7XQe3_D_mk",se=mC(vC,yC);function $s(e,t=new Date){if(!e)return"";const r=new Date(e),o=t.getFullYear()-r.getFullYear()+1;return o<8?`${o}세`:o<=13?`초${o-7}`:o<=16?`중${o-13}`:o<=19?`고${o-16}`:"성인"}function kg({data:e}){const t=Math.max(1,...e.map(r=>r.value));return i.jsx("div",{className:"space-y-2",children:e.map(r=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-14 shrink-0 text-xs text-muted-foreground text-right",children:r.label}),i.jsx("div",{className:"flex-1 h-3 bg-muted rounded",children:i.jsx("div",{className:"h-3 rounded bg-blue-500",style:{width:`${r.value/t*100}%`}})}),i.jsx("div",{className:"w-8 shrink-0 text-xs text-right font-medium",children:r.value})]},r.label))})}function jg(){const[e,t]=x.useState([]),[r,o]=x.useState([]),[a,c]=x.useState(!0),[u,f]=x.useState("");x.useEffect(()=>{p()},[]);const p=async()=>{try{c(!0);const[{data:_,error:k},{data:O,error:P}]=await Promise.all([se.from("students").select("id, name, gender, birth_date, phone, registration_date, class_type_id, current_level, status, created_at"),se.from("payments").select("payment_date, total_amount")]);if(k)throw k;if(P)throw P;t(_||[]),o(O||[])}catch(_){console.error("대시보드 데이터 로드 실패:",_)}finally{c(!1)}};x.useEffect(()=>{const _=localStorage.getItem("dashboard_todo_text");_&&f(_)},[]),x.useEffect(()=>{localStorage.setItem("dashboard_todo_text",u)},[u]),e.length;const m=e.filter(_=>_.status==="재원").length,g=x.useMemo(()=>{const _=new Date;return e.filter(k=>{const O=new Date(k.registration_date);return O.getFullYear()===_.getFullYear()&&O.getMonth()===_.getMonth()}).length},[e]),y=x.useMemo(()=>{const _=new Map;e.filter(P=>P.status==="재원").forEach(P=>{const E=$s(P.birth_date||null);E&&_.set(E,(_.get(E)||0)+1)});const k=["6세","초1","초2","초3","초4","초5","초6","중1","중2","중3","고1","고2","고3","성인"],O=Array.from(_.entries());return O.sort((P,E)=>k.indexOf(P[0])-k.indexOf(E[0])),O},[e]),w=x.useMemo(()=>{const _=new Map;e.filter(P=>P.status==="재원").forEach(P=>{const E=P.current_level||"NONE";_.set(E,(_.get(E)||0)+1)});const k=["NONE","WHITE","YELLOW","GREEN","BLUE","RED","BLACK","GOLD"],O=Array.from(_.entries());return O.sort((P,E)=>k.indexOf(P[0])-k.indexOf(E[0])),O},[e]),j=x.useMemo(()=>y.map(([_,k])=>({label:_,value:k})),[y]),b=x.useMemo(()=>w.map(([_,k])=>({label:_,value:k})),[w]);return r.filter(_=>{const k=new Date(_.payment_date),O=new Date;return k.getMonth()===O.getMonth()&&k.getFullYear()===O.getFullYear()}).reduce((_,k)=>_+k.total_amount,0),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"메인 대시보드"}),i.jsx("p",{className:"text-muted-foreground",children:"학생 현황, 분포를 확인할 수 있습니다."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs(Gt,{children:[i.jsx(mn,{children:i.jsx(gn,{children:"재원생 현황"})}),i.jsxs(on,{children:[i.jsxs("div",{className:"flex items-baseline gap-4",children:[i.jsx("p",{className:"text-muted-foreground",children:"재원"}),i.jsxs("p",{className:"text-3xl font-bold",children:[a?"로딩 중...":m,"명"]})]}),i.jsxs("div",{className:"flex items-baseline gap-4",children:[i.jsx("p",{className:"text-muted-foreground",children:"신규등록"}),i.jsxs("p",{className:"text-3xl font-bold",children:[a?"로딩 중...":g,"명"]})]})]})]}),i.jsxs(Gt,{children:[i.jsx(mn,{children:i.jsx(gn,{children:"학년별 재원생 분포"})}),i.jsx(on,{children:a?i.jsx("span",{children:"로딩 중..."}):j.length===0?i.jsx("span",{className:"text-muted-foreground",children:"데이터 없음"}):i.jsx(kg,{data:j})})]}),i.jsxs(Gt,{children:[i.jsx(mn,{children:i.jsx(gn,{children:"레벨 분포"})}),i.jsx(on,{children:a?i.jsx("span",{children:"로딩 중..."}):b.length===0?i.jsx("span",{className:"text-muted-foreground",children:"데이터 없음"}):i.jsx(kg,{data:b})})]}),i.jsxs(Gt,{className:"md:col-span-2 lg:col-span-3",children:[i.jsx(mn,{children:i.jsx(gn,{children:"TODO"})}),i.jsx(on,{children:i.jsx("textarea",{className:"w-full min-h-[120px] rounded border p-3 text-sm",placeholder:"메모/할일을 적어두세요",value:u,onChange:_=>f(_.target.value)})})]})]})]})}function qy(e){const t=e+"CollectionProvider",[r,o]=Us(t),[a,c]=r(t,{collectionRef:{current:null},itemMap:new Map}),u=_=>{const{scope:k,children:O}=_,P=Sn.useRef(null),E=Sn.useRef(new Map).current;return i.jsx(a,{scope:k,itemMap:E,collectionRef:P,children:O})};u.displayName=t;const f=e+"CollectionSlot",p=Mo(f),m=Sn.forwardRef((_,k)=>{const{scope:O,children:P}=_,E=c(f,O),T=ft(k,E.collectionRef);return i.jsx(p,{ref:T,children:P})});m.displayName=f;const g=e+"CollectionItemSlot",y="data-radix-collection-item",w=Mo(g),j=Sn.forwardRef((_,k)=>{const{scope:O,children:P,...E}=_,T=Sn.useRef(null),L=ft(k,T),B=c(g,O);return Sn.useEffect(()=>(B.itemMap.set(T,{ref:T,...E}),()=>void B.itemMap.delete(T))),i.jsx(w,{[y]:"",ref:L,children:P})});j.displayName=g;function b(_){const k=c(e+"CollectionConsumer",_);return Sn.useCallback(()=>{const P=k.collectionRef.current;if(!P)return[];const E=Array.from(P.querySelectorAll(`[${y}]`));return Array.from(k.itemMap.values()).sort((B,W)=>E.indexOf(B.ref.current)-E.indexOf(W.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:u,Slot:m,ItemSlot:j},b,o]}var xC=x.createContext(void 0);function _f(e){const t=x.useContext(xC);return e||t||"ltr"}var od="rovingFocusGroup.onEntryFocus",wC={bubbles:!1,cancelable:!0},Ha="RovingFocusGroup",[Ad,Yy,_C]=qy(Ha),[bC,Ky]=Us(Ha,[_C]),[SC,kC]=bC(Ha),Gy=x.forwardRef((e,t)=>i.jsx(Ad.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Ad.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(jC,{...e,ref:t})})}));Gy.displayName=Ha;var jC=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:a=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:p,onEntryFocus:m,preventScrollOnEntryFocus:g=!1,...y}=e,w=x.useRef(null),j=ft(t,w),b=_f(c),[_,k]=Ao({prop:u,defaultProp:f??null,onChange:p,caller:Ha}),[O,P]=x.useState(!1),E=us(m),T=Yy(r),L=x.useRef(!1),[B,W]=x.useState(0);return x.useEffect(()=>{const A=w.current;if(A)return A.addEventListener(od,E),()=>A.removeEventListener(od,E)},[E]),i.jsx(SC,{scope:r,orientation:o,dir:b,loop:a,currentTabStopId:_,onItemFocus:x.useCallback(A=>k(A),[k]),onItemShiftTab:x.useCallback(()=>P(!0),[]),onFocusableItemAdd:x.useCallback(()=>W(A=>A+1),[]),onFocusableItemRemove:x.useCallback(()=>W(A=>A-1),[]),children:i.jsx(Xe.div,{tabIndex:O||B===0?-1:0,"data-orientation":o,...y,ref:j,style:{outline:"none",...e.style},onMouseDown:Ve(e.onMouseDown,()=>{L.current=!0}),onFocus:Ve(e.onFocus,A=>{const q=!L.current;if(A.target===A.currentTarget&&q&&!O){const Y=new CustomEvent(od,wC);if(A.currentTarget.dispatchEvent(Y),!Y.defaultPrevented){const Z=T().filter(de=>de.focusable),ce=Z.find(de=>de.active),we=Z.find(de=>de.id===_),Pe=[ce,we,...Z].filter(Boolean).map(de=>de.ref.current);Jy(Pe,g)}}L.current=!1}),onBlur:Ve(e.onBlur,()=>P(!1))})})}),Qy="RovingFocusGroupItem",Xy=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:a=!1,tabStopId:c,children:u,...f}=e,p=Mr(),m=c||p,g=kC(Qy,r),y=g.currentTabStopId===m,w=Yy(r),{onFocusableItemAdd:j,onFocusableItemRemove:b,currentTabStopId:_}=g;return x.useEffect(()=>{if(o)return j(),()=>b()},[o,j,b]),i.jsx(Ad.ItemSlot,{scope:r,id:m,focusable:o,active:a,children:i.jsx(Xe.span,{tabIndex:y?0:-1,"data-orientation":g.orientation,...f,ref:t,onMouseDown:Ve(e.onMouseDown,k=>{o?g.onItemFocus(m):k.preventDefault()}),onFocus:Ve(e.onFocus,()=>g.onItemFocus(m)),onKeyDown:Ve(e.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){g.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const O=EC(k,g.orientation,g.dir);if(O!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let E=w().filter(T=>T.focusable).map(T=>T.ref.current);if(O==="last")E.reverse();else if(O==="prev"||O==="next"){O==="prev"&&E.reverse();const T=E.indexOf(k.currentTarget);E=g.loop?PC(E,T+1):E.slice(T+1)}setTimeout(()=>Jy(E))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:_!=null}):u})})});Xy.displayName=Qy;var NC={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function CC(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function EC(e,t,r){const o=CC(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return NC[o]}function Jy(e,t=!1){const r=document.activeElement;for(const o of e)if(o===r||(o.focus({preventScroll:t}),document.activeElement!==r))return}function PC(e,t){return e.map((r,o)=>e[(t+o)%e.length])}var TC=Gy,OC=Xy,ql="Tabs",[DC,EO]=Us(ql,[Ky]),Zy=Ky(),[RC,bf]=DC(ql),ex=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:o,onValueChange:a,defaultValue:c,orientation:u="horizontal",dir:f,activationMode:p="automatic",...m}=e,g=_f(f),[y,w]=Ao({prop:o,onChange:a,defaultProp:c??"",caller:ql});return i.jsx(RC,{scope:r,baseId:Mr(),value:y,onValueChange:w,orientation:u,dir:g,activationMode:p,children:i.jsx(Xe.div,{dir:g,"data-orientation":u,...m,ref:t})})});ex.displayName=ql;var tx="TabsList",nx=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:o=!0,...a}=e,c=bf(tx,r),u=Zy(r);return i.jsx(TC,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:o,children:i.jsx(Xe.div,{role:"tablist","aria-orientation":c.orientation,...a,ref:t})})});nx.displayName=tx;var rx="TabsTrigger",sx=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:o,disabled:a=!1,...c}=e,u=bf(rx,r),f=Zy(r),p=ix(u.baseId,o),m=lx(u.baseId,o),g=o===u.value;return i.jsx(OC,{asChild:!0,...f,focusable:!a,active:g,children:i.jsx(Xe.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":m,"data-state":g?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:p,...c,ref:t,onMouseDown:Ve(e.onMouseDown,y=>{!a&&y.button===0&&y.ctrlKey===!1?u.onValueChange(o):y.preventDefault()}),onKeyDown:Ve(e.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&u.onValueChange(o)}),onFocus:Ve(e.onFocus,()=>{const y=u.activationMode!=="manual";!g&&!a&&y&&u.onValueChange(o)})})})});sx.displayName=rx;var ox="TabsContent",ax=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:o,forceMount:a,children:c,...u}=e,f=bf(ox,r),p=ix(f.baseId,o),m=lx(f.baseId,o),g=o===f.value,y=x.useRef(g);return x.useEffect(()=>{const w=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(w)},[]),i.jsx(Bs,{present:a||g,children:({present:w})=>i.jsx(Xe.div,{"data-state":g?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":p,hidden:!w,id:m,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:y.current?"0s":void 0},children:w&&c})})});ax.displayName=ox;function ix(e,t){return`${e}-trigger-${t}`}function lx(e,t){return`${e}-content-${t}`}var MC=ex,AC=nx,IC=sx,LC=ax;function $C({className:e,...t}){return i.jsx(MC,{"data-slot":"tabs",className:$e("flex flex-col gap-2",e),...t})}function FC({className:e,...t}){return i.jsx(AC,{"data-slot":"tabs-list",className:$e("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",e),...t})}function Ng({className:e,...t}){return i.jsx(IC,{"data-slot":"tabs-trigger",className:$e("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Cg({className:e,...t}){return i.jsx(LC,{"data-slot":"tabs-content",className:$e("flex-1 outline-none",e),...t})}const zC=Rl("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"},type:{color:"",studentstatus:"",studenttype:"",grade:"",trialstatus:"",default:""}},defaultVariants:{variant:"default",type:"default"}}),WC=(e,t)=>{const r=e.toLowerCase();switch(t){case"studentstatus":switch(r){case"재원":return"bg-green-100 text-green-800 border-green-200";case"휴원":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"퇴원":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}case"studenttype":switch(r){case"체험":return"bg-blue-100 text-blue-800 border-blue-200";case"일반1":return"bg-emerald-100 text-emerald-800 border-emerald-200";case"일반2":return"bg-cyan-100 text-cyan-800 border-cyan-200";case"스페셜":return"bg-purple-100 text-purple-800 border-purple-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}case"grade":return r.includes("6세")||r.includes("7세")?"bg-pink-100 text-pink-800 border-pink-200":r.includes("초3")?"bg-blue-100 text-blue-800 border-blue-200":r.includes("초4")||r.includes("초5")||r.includes("초6")?"bg-green-100 text-green-800 border-green-200":r.includes("중1")||r.includes("중2")||r.includes("중3")?"bg-purple-100 text-purple-800 border-purple-200":r.includes("고1")||r.includes("고2")||r.includes("고3")||r.includes("성인")?"bg-orange-100 text-orange-800 border-orange-200":r.includes("초")?"bg-cyan-100 text-cyan-800 border-cyan-200":"bg-gray-100 text-gray-800 border-gray-200";case"trialstatus":switch(r){case"예정":return"bg-white text-gray-800 border-gray-200";case"노쇼":return"bg-red-100 text-red-700 border-red-200";case"미등록":return"bg-gray-100 text-gray-800 border-green-200";case"등록":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}case"color":return e;default:return"bg-gray-100 text-gray-800 border-gray-200"}};function Lt({className:e,variant:t,type:r="default",asChild:o=!1,children:a,...c}){const u=o?qd:"span",f=r!=="default"&&typeof a=="string"?WC(a,r):"";return i.jsx(u,{"data-slot":"badge",className:$e(zC({variant:t,type:r}),f,e),...c,children:a})}function Va({className:e,...t}){return i.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:i.jsx("table",{"data-slot":"table",className:$e("w-full caption-bottom text-sm",e),...t})})}function qa({className:e,...t}){return i.jsx("thead",{"data-slot":"table-header",className:$e("[&_tr]:border-b",e),...t})}function Ya({className:e,...t}){return i.jsx("tbody",{"data-slot":"table-body",className:$e("[&_tr:last-child]:border-0",e),...t})}function an({className:e,...t}){return i.jsx("tr",{"data-slot":"table-row",className:$e("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function rt({className:e,...t}){return i.jsx("th",{"data-slot":"table-head",className:$e("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Qe({className:e,...t}){return i.jsx("td",{"data-slot":"table-cell",className:$e("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}const St=Iv,UC=Lv,cx=x.forwardRef(({className:e,...t},r)=>i.jsx(ef,{ref:r,className:$e("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 overflow-y-auto",e),...t}));cx.displayName="DialogOverlay";const _t=x.forwardRef(({className:e,children:t,type:r="s",...o},a)=>{const c=u=>{const f={};return u==="m"?(f.width="80vw",f.height="80vh",f.maxWidth="80vw",f.maxHeight="80vh"):(f.width="auto",f.height="auto"),f};return i.jsxs(UC,{children:[i.jsx(cx,{}),i.jsxs(tf,{ref:a,className:$e("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 gap-4 rounded-lg border p-6 shadow-lg duration-200 overflow-y-auto","translate-x-[-50%] translate-y-[-50%]",r==="s"&&"w-auto max-w-lg",e),style:c(r),...o,children:[t,i.jsxs($v,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[i.jsx(Gg,{}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]})});_t.displayName="DialogContent";const Ot=({className:e,...t})=>i.jsx("div",{className:$e("flex flex-col gap-2 text-center sm:text-left",e),...t});Ot.displayName="DialogHeader";const Dt=x.forwardRef(({className:e,...t},r)=>i.jsx(nf,{ref:r,className:$e("text-lg leading-none font-semibold",e),...t}));Dt.displayName="DialogTitle";const BC=x.forwardRef(({className:e,...t},r)=>i.jsx(rf,{ref:r,className:$e("text-muted-foreground text-sm",e),...t}));BC.displayName="DialogDescription";function tt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Nn(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function sn(e,t){const r=tt(e);return isNaN(t)?Nn(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Qn(e,t){const r=tt(e);if(isNaN(t))return Nn(e,NaN);if(!t)return r;const o=r.getDate(),a=Nn(e,r.getTime());a.setMonth(r.getMonth()+t+1,0);const c=a.getDate();return o>=c?a:(r.setFullYear(a.getFullYear(),a.getMonth(),o),r)}const Sf=6048e5,HC=864e5;let VC={};function Ka(){return VC}function vn(e,t){const r=Ka(),o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=tt(e),c=a.getDay(),u=(c<o?7:0)+c-o;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function Fs(e){return vn(e,{weekStartsOn:1})}function ux(e){const t=tt(e),r=t.getFullYear(),o=Nn(e,0);o.setFullYear(r+1,0,4),o.setHours(0,0,0,0);const a=Fs(o),c=Nn(e,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const u=Fs(c);return t.getTime()>=a.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function Fo(e){const t=tt(e);return t.setHours(0,0,0,0),t}function Tl(e){const t=tt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function pr(e,t){const r=Fo(e),o=Fo(t),a=+r-Tl(r),c=+o-Tl(o);return Math.round((a-c)/HC)}function qC(e){const t=ux(e),r=Nn(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Fs(r)}function Id(e,t){const r=t*7;return sn(e,r)}function YC(e,t){return Qn(e,t*12)}function KC(e){let t;return e.forEach(function(r){const o=tt(r);(t===void 0||t<o||isNaN(Number(o)))&&(t=o)}),t||new Date(NaN)}function GC(e){let t;return e.forEach(r=>{const o=tt(r);(!t||t>o||isNaN(+o))&&(t=o)}),t||new Date(NaN)}function yn(e,t){const r=Fo(e),o=Fo(t);return+r==+o}function kf(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function QC(e){if(!kf(e)&&typeof e!="number")return!1;const t=tt(e);return!isNaN(Number(t))}function Ia(e,t){const r=tt(e),o=tt(t),a=r.getFullYear()-o.getFullYear(),c=r.getMonth()-o.getMonth();return a*12+c}function XC(e,t,r){const o=vn(e,r),a=vn(t,r),c=+o-Tl(o),u=+a-Tl(a);return Math.round((c-u)/Sf)}function jf(e){const t=tt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Qt(e){const t=tt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function dx(e){const t=tt(e),r=Nn(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Yl(e,t){const r=Ka(),o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=tt(e),c=a.getDay(),u=(c<o?-7:0)+6-(c-o);return a.setDate(a.getDate()+u),a.setHours(23,59,59,999),a}function fx(e){return Yl(e,{weekStartsOn:1})}const JC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ZC=(e,t,r)=>{let o;const a=JC[e];return typeof a=="string"?o=a:t===1?o=a.one:o=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};function Ro(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const eE={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tE={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nE={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rE={date:Ro({formats:eE,defaultWidth:"full"}),time:Ro({formats:tE,defaultWidth:"full"}),dateTime:Ro({formats:nE,defaultWidth:"full"})},sE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oE=(e,t,r,o)=>sE[e];function dr(e){return(t,r)=>{const o=r?.context?String(r.context):"standalone";let a;if(o==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,f=r?.width?String(r.width):u;a=e.formattingValues[f]||e.formattingValues[u]}else{const u=e.defaultWidth,f=r?.width?String(r.width):e.defaultWidth;a=e.values[f]||e.values[u]}const c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}const aE={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iE={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lE={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cE={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dE={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fE=(e,t)=>{const r=Number(e),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},hE={ordinalNumber:fE,era:dr({values:aE,defaultWidth:"wide"}),quarter:dr({values:iE,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dr({values:lE,defaultWidth:"wide"}),day:dr({values:cE,defaultWidth:"wide"}),dayPeriod:dr({values:uE,defaultWidth:"wide",formattingValues:dE,defaultFormattingWidth:"wide"})};function fr(e){return(t,r={})=>{const o=r.width,a=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],c=t.match(a);if(!c)return null;const u=c[0],f=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],p=Array.isArray(f)?mE(f,y=>y.test(u)):pE(f,y=>y.test(u));let m;m=e.valueCallback?e.valueCallback(p):p,m=r.valueCallback?r.valueCallback(m):m;const g=t.slice(u.length);return{value:m,rest:g}}}function pE(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function mE(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function hx(e){return(t,r={})=>{const o=t.match(e.matchPattern);if(!o)return null;const a=o[0],c=t.match(e.parsePattern);if(!c)return null;let u=e.valueCallback?e.valueCallback(c[0]):c[0];u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(a.length);return{value:u,rest:f}}}const gE=/^(\d+)(th|st|nd|rd)?/i,vE=/\d+/i,yE={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xE={any:[/^b/i,/^(a|c)/i]},wE={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_E={any:[/1/i,/2/i,/3/i,/4/i]},bE={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},SE={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kE={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jE={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},NE={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CE={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},EE={ordinalNumber:hx({matchPattern:gE,parsePattern:vE,valueCallback:e=>parseInt(e,10)}),era:fr({matchPatterns:yE,defaultMatchWidth:"wide",parsePatterns:xE,defaultParseWidth:"any"}),quarter:fr({matchPatterns:wE,defaultMatchWidth:"wide",parsePatterns:_E,defaultParseWidth:"any",valueCallback:e=>e+1}),month:fr({matchPatterns:bE,defaultMatchWidth:"wide",parsePatterns:SE,defaultParseWidth:"any"}),day:fr({matchPatterns:kE,defaultMatchWidth:"wide",parsePatterns:jE,defaultParseWidth:"any"}),dayPeriod:fr({matchPatterns:NE,defaultMatchWidth:"any",parsePatterns:CE,defaultParseWidth:"any"})},px={code:"en-US",formatDistance:ZC,formatLong:rE,formatRelative:oE,localize:hE,match:EE,options:{weekStartsOn:0,firstWeekContainsDate:1}};function PE(e){const t=tt(e);return pr(t,dx(t))+1}function mx(e){const t=tt(e),r=+Fs(t)-+qC(t);return Math.round(r/Sf)+1}function gx(e,t){const r=tt(e),o=r.getFullYear(),a=Ka(),c=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,u=Nn(e,0);u.setFullYear(o+1,0,c),u.setHours(0,0,0,0);const f=vn(u,t),p=Nn(e,0);p.setFullYear(o,0,c),p.setHours(0,0,0,0);const m=vn(p,t);return r.getTime()>=f.getTime()?o+1:r.getTime()>=m.getTime()?o:o-1}function TE(e,t){const r=Ka(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=gx(e,t),c=Nn(e,0);return c.setFullYear(a,0,o),c.setHours(0,0,0,0),vn(c,t)}function vx(e,t){const r=tt(e),o=+vn(r,t)-+TE(r,t);return Math.round(o/Sf)+1}function ot(e,t){const r=e<0?"-":"",o=Math.abs(e).toString().padStart(t,"0");return r+o}const as={y(e,t){const r=e.getFullYear(),o=r>0?r:1-r;return ot(t==="yy"?o%100:o,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ot(r+1,2)},d(e,t){return ot(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ot(e.getHours()%12||12,t.length)},H(e,t){return ot(e.getHours(),t.length)},m(e,t){return ot(e.getMinutes(),t.length)},s(e,t){return ot(e.getSeconds(),t.length)},S(e,t){const r=t.length,o=e.getMilliseconds(),a=Math.trunc(o*Math.pow(10,r-3));return ot(a,t.length)}},Eo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Eg={G:function(e,t,r){const o=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const o=e.getFullYear(),a=o>0?o:1-o;return r.ordinalNumber(a,{unit:"year"})}return as.y(e,t)},Y:function(e,t,r,o){const a=gx(e,o),c=a>0?a:1-a;if(t==="YY"){const u=c%100;return ot(u,2)}return t==="Yo"?r.ordinalNumber(c,{unit:"year"}):ot(c,t.length)},R:function(e,t){const r=ux(e);return ot(r,t.length)},u:function(e,t){const r=e.getFullYear();return ot(r,t.length)},Q:function(e,t,r){const o=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(o);case"QQ":return ot(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(e,t,r){const o=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(o);case"qq":return ot(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(e,t,r){const o=e.getMonth();switch(t){case"M":case"MM":return as.M(e,t);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(e,t,r){const o=e.getMonth();switch(t){case"L":return String(o+1);case"LL":return ot(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(e,t,r,o){const a=vx(e,o);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):ot(a,t.length)},I:function(e,t,r){const o=mx(e);return t==="Io"?r.ordinalNumber(o,{unit:"week"}):ot(o,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):as.d(e,t)},D:function(e,t,r){const o=PE(e);return t==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):ot(o,t.length)},E:function(e,t,r){const o=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(e,t,r,o){const a=e.getDay(),c=(a-o.weekStartsOn+8)%7||7;switch(t){case"e":return String(c);case"ee":return ot(c,2);case"eo":return r.ordinalNumber(c,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,o){const a=e.getDay(),c=(a-o.weekStartsOn+8)%7||7;switch(t){case"c":return String(c);case"cc":return ot(c,t.length);case"co":return r.ordinalNumber(c,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const o=e.getDay(),a=o===0?7:o;switch(t){case"i":return String(a);case"ii":return ot(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const o=e.getHours();let a;switch(o===12?a=Eo.noon:o===0?a=Eo.midnight:a=o/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const o=e.getHours();let a;switch(o>=17?a=Eo.evening:o>=12?a=Eo.afternoon:o>=4?a=Eo.morning:a=Eo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let o=e.getHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return as.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):as.H(e,t)},K:function(e,t,r){const o=e.getHours()%12;return t==="Ko"?r.ordinalNumber(o,{unit:"hour"}):ot(o,t.length)},k:function(e,t,r){let o=e.getHours();return o===0&&(o=24),t==="ko"?r.ordinalNumber(o,{unit:"hour"}):ot(o,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):as.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):as.s(e,t)},S:function(e,t){return as.S(e,t)},X:function(e,t,r){const o=e.getTimezoneOffset();if(o===0)return"Z";switch(t){case"X":return Tg(o);case"XXXX":case"XX":return Rs(o);case"XXXXX":case"XXX":default:return Rs(o,":")}},x:function(e,t,r){const o=e.getTimezoneOffset();switch(t){case"x":return Tg(o);case"xxxx":case"xx":return Rs(o);case"xxxxx":case"xxx":default:return Rs(o,":")}},O:function(e,t,r){const o=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Pg(o,":");case"OOOO":default:return"GMT"+Rs(o,":")}},z:function(e,t,r){const o=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Pg(o,":");case"zzzz":default:return"GMT"+Rs(o,":")}},t:function(e,t,r){const o=Math.trunc(e.getTime()/1e3);return ot(o,t.length)},T:function(e,t,r){const o=e.getTime();return ot(o,t.length)}};function Pg(e,t=""){const r=e>0?"-":"+",o=Math.abs(e),a=Math.trunc(o/60),c=o%60;return c===0?r+String(a):r+String(a)+t+ot(c,2)}function Tg(e,t){return e%60===0?(e>0?"-":"+")+ot(Math.abs(e)/60,2):Rs(e,t)}function Rs(e,t=""){const r=e>0?"-":"+",o=Math.abs(e),a=ot(Math.trunc(o/60),2),c=ot(o%60,2);return r+a+t+c}const Og=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},yx=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},OE=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],o=r[1],a=r[2];if(!a)return Og(e,t);let c;switch(o){case"P":c=t.dateTime({width:"short"});break;case"PP":c=t.dateTime({width:"medium"});break;case"PPP":c=t.dateTime({width:"long"});break;case"PPPP":default:c=t.dateTime({width:"full"});break}return c.replace("{{date}}",Og(o,t)).replace("{{time}}",yx(a,t))},DE={p:yx,P:OE},RE=/^D+$/,ME=/^Y+$/,AE=["D","DD","YY","YYYY"];function IE(e){return RE.test(e)}function LE(e){return ME.test(e)}function $E(e,t,r){const o=FE(e,t,r);if(console.warn(o),AE.includes(e))throw new RangeError(o)}function FE(e,t,r){const o=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${o} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const zE=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,WE=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,UE=/^'([^]*?)'?$/,BE=/''/g,HE=/[a-zA-Z]/;function gt(e,t,r){const o=Ka(),a=r?.locale??o.locale??px,c=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,u=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0,f=tt(e);if(!QC(f))throw new RangeError("Invalid time value");let p=t.match(WE).map(g=>{const y=g[0];if(y==="p"||y==="P"){const w=DE[y];return w(g,a.formatLong)}return g}).join("").match(zE).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:VE(g)};if(Eg[y])return{isToken:!0,value:g};if(y.match(HE))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});a.localize.preprocessor&&(p=a.localize.preprocessor(f,p));const m={firstWeekContainsDate:c,weekStartsOn:u,locale:a};return p.map(g=>{if(!g.isToken)return g.value;const y=g.value;(!r?.useAdditionalWeekYearTokens&&LE(y)||!r?.useAdditionalDayOfYearTokens&&IE(y))&&$E(y,t,String(e));const w=Eg[y[0]];return w(f,y,a.localize,m)}).join("")}function VE(e){const t=e.match(UE);return t?t[1].replace(BE,"'"):e}function qE(e){const t=tt(e),r=t.getFullYear(),o=t.getMonth(),a=Nn(e,0);return a.setFullYear(r,o+1,0),a.setHours(0,0,0,0),a.getDate()}function YE(e){return Math.trunc(+tt(e)/1e3)}function KE(e){const t=tt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function GE(e,t){return XC(KE(e),Qt(e),t)+1}function Ld(e,t){const r=tt(e),o=tt(t);return r.getTime()>o.getTime()}function xx(e,t){const r=tt(e),o=tt(t);return+r<+o}function Nf(e,t){const r=tt(e),o=tt(t);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()}function QE(e,t){const r=tt(e),o=tt(t);return r.getFullYear()===o.getFullYear()}function ad(e,t){return sn(e,-t)}function id(e,t){const r=tt(e),o=r.getFullYear(),a=r.getDate(),c=Nn(e,0);c.setFullYear(o,t,15),c.setHours(0,0,0,0);const u=qE(c);return r.setMonth(t,Math.min(a,u)),r}function Dg(e,t){const r=tt(e);return isNaN(+r)?Nn(e,NaN):(r.setFullYear(t),r)}const XE={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}},JE=(e,t,r)=>{let o;const a=XE[e];return typeof a=="string"?o=a:t===1?o=a.one:o=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?o+" 후":o+" 전":o},ZE={full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},eP={full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},tP={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},nP={date:Ro({formats:ZE,defaultWidth:"full"}),time:Ro({formats:eP,defaultWidth:"full"}),dateTime:Ro({formats:tP,defaultWidth:"full"})},rP={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"},sP=(e,t,r,o)=>rP[e],oP={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},aP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},iP={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},lP={narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},cP={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},uP={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},dP=(e,t)=>{const r=Number(e);switch(String(t?.unit)){case"minute":case"second":return String(r);case"date":return r+"일";default:return r+"번째"}},fP={ordinalNumber:dP,era:dr({values:oP,defaultWidth:"wide"}),quarter:dr({values:aP,defaultWidth:"wide",argumentCallback:e=>e-1}),month:dr({values:iP,defaultWidth:"wide"}),day:dr({values:lP,defaultWidth:"wide"}),dayPeriod:dr({values:cP,defaultWidth:"wide",formattingValues:uP,defaultFormattingWidth:"wide"})},hP=/^(\d+)(일|번째)?/i,pP=/\d+/i,mP={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},gP={any:[/^(bc|기원전)/i,/^(ad|서기)/i]},vP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},yP={any:[/1/i,/2/i,/3/i,/4/i]},xP={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},wP={any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},_P={narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},bP={any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},SP={any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},kP={any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},jP={ordinalNumber:hx({matchPattern:hP,parsePattern:pP,valueCallback:e=>parseInt(e,10)}),era:fr({matchPatterns:mP,defaultMatchWidth:"wide",parsePatterns:gP,defaultParseWidth:"any"}),quarter:fr({matchPatterns:vP,defaultMatchWidth:"wide",parsePatterns:yP,defaultParseWidth:"any",valueCallback:e=>e+1}),month:fr({matchPatterns:xP,defaultMatchWidth:"wide",parsePatterns:wP,defaultParseWidth:"any"}),day:fr({matchPatterns:_P,defaultMatchWidth:"wide",parsePatterns:bP,defaultParseWidth:"any"}),dayPeriod:fr({matchPatterns:SP,defaultMatchWidth:"any",parsePatterns:kP,defaultParseWidth:"any"})},rn={code:"ko",formatDistance:JE,formatLong:nP,formatRelative:sP,localize:fP,match:jP,options:{weekStartsOn:0,firstWeekContainsDate:1}};var We=function(){return We=Object.assign||function(t){for(var r,o=1,a=arguments.length;o<a;o++){r=arguments[o];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(t[c]=r[c])}return t},We.apply(this,arguments)};function NP(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(r[o[a]]=e[o[a]]);return r}function wx(e,t,r){for(var o=0,a=t.length,c;o<a;o++)(c||!(o in t))&&(c||(c=Array.prototype.slice.call(t,0,o)),c[o]=t[o]);return e.concat(c||Array.prototype.slice.call(t))}function Ga(e){return e.mode==="multiple"}function Qa(e){return e.mode==="range"}function Kl(e){return e.mode==="single"}var CP={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function EP(e,t){return gt(e,"LLLL y",t)}function PP(e,t){return gt(e,"d",t)}function TP(e,t){return gt(e,"LLLL",t)}function OP(e){return"".concat(e)}function DP(e,t){return gt(e,"cccccc",t)}function RP(e,t){return gt(e,"yyyy",t)}var MP=Object.freeze({__proto__:null,formatCaption:EP,formatDay:PP,formatMonthCaption:TP,formatWeekNumber:OP,formatWeekdayName:DP,formatYearCaption:RP}),AP=function(e,t,r){return gt(e,"do MMMM (EEEE)",r)},IP=function(){return"Month: "},LP=function(){return"Go to next month"},$P=function(){return"Go to previous month"},FP=function(e,t){return gt(e,"cccc",t)},zP=function(e){return"Week n. ".concat(e)},WP=function(){return"Year: "},UP=Object.freeze({__proto__:null,labelDay:AP,labelMonthDropdown:IP,labelNext:LP,labelPrevious:$P,labelWeekNumber:zP,labelWeekday:FP,labelYearDropdown:WP});function BP(){var e="buttons",t=CP,r=px,o={},a={},c=1,u={},f=new Date;return{captionLayout:e,classNames:t,formatters:MP,labels:UP,locale:r,modifiersClassNames:o,modifiers:a,numberOfMonths:c,styles:u,today:f,mode:"default"}}function HP(e){var t=e.fromYear,r=e.toYear,o=e.fromMonth,a=e.toMonth,c=e.fromDate,u=e.toDate;return o?c=Qt(o):t&&(c=new Date(t,0,1)),a?u=jf(a):r&&(u=new Date(r,11,31)),{fromDate:c?Fo(c):void 0,toDate:u?Fo(u):void 0}}var _x=x.createContext(void 0);function VP(e){var t,r=e.initialProps,o=BP(),a=HP(r),c=a.fromDate,u=a.toDate,f=(t=r.captionLayout)!==null&&t!==void 0?t:o.captionLayout;f!=="buttons"&&(!c||!u)&&(f="buttons");var p;(Kl(r)||Ga(r)||Qa(r))&&(p=r.onSelect);var m=We(We(We({},o),r),{captionLayout:f,classNames:We(We({},o.classNames),r.classNames),components:We({},r.components),formatters:We(We({},o.formatters),r.formatters),fromDate:c,labels:We(We({},o.labels),r.labels),mode:r.mode||o.mode,modifiers:We(We({},o.modifiers),r.modifiers),modifiersClassNames:We(We({},o.modifiersClassNames),r.modifiersClassNames),onSelect:p,styles:We(We({},o.styles),r.styles),toDate:u});return i.jsx(_x.Provider,{value:m,children:e.children})}function lt(){var e=x.useContext(_x);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function bx(e){var t=lt(),r=t.locale,o=t.classNames,a=t.styles,c=t.formatters.formatCaption;return i.jsx("div",{className:o.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:c(e.displayMonth,{locale:r})})}function qP(e){return i.jsx("svg",We({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:i.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Sx(e){var t,r,o=e.onChange,a=e.value,c=e.children,u=e.caption,f=e.className,p=e.style,m=lt(),g=(r=(t=m.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:qP;return i.jsxs("div",{className:f,style:p,children:[i.jsx("span",{className:m.classNames.vhidden,children:e["aria-label"]}),i.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:m.classNames.dropdown,style:m.styles.dropdown,value:a,onChange:o,children:c}),i.jsxs("div",{className:m.classNames.caption_label,style:m.styles.caption_label,"aria-hidden":"true",children:[u,i.jsx(g,{className:m.classNames.dropdown_icon,style:m.styles.dropdown_icon})]})]})}function YP(e){var t,r=lt(),o=r.fromDate,a=r.toDate,c=r.styles,u=r.locale,f=r.formatters.formatMonthCaption,p=r.classNames,m=r.components,g=r.labels.labelMonthDropdown;if(!o)return i.jsx(i.Fragment,{});if(!a)return i.jsx(i.Fragment,{});var y=[];if(QE(o,a))for(var w=Qt(o),j=o.getMonth();j<=a.getMonth();j++)y.push(id(w,j));else for(var w=Qt(new Date),j=0;j<=11;j++)y.push(id(w,j));var b=function(k){var O=Number(k.target.value),P=id(Qt(e.displayMonth),O);e.onChange(P)},_=(t=m?.Dropdown)!==null&&t!==void 0?t:Sx;return i.jsx(_,{name:"months","aria-label":g(),className:p.dropdown_month,style:c.dropdown_month,onChange:b,value:e.displayMonth.getMonth(),caption:f(e.displayMonth,{locale:u}),children:y.map(function(k){return i.jsx("option",{value:k.getMonth(),children:f(k,{locale:u})},k.getMonth())})})}function KP(e){var t,r=e.displayMonth,o=lt(),a=o.fromDate,c=o.toDate,u=o.locale,f=o.styles,p=o.classNames,m=o.components,g=o.formatters.formatYearCaption,y=o.labels.labelYearDropdown,w=[];if(!a)return i.jsx(i.Fragment,{});if(!c)return i.jsx(i.Fragment,{});for(var j=a.getFullYear(),b=c.getFullYear(),_=j;_<=b;_++)w.push(Dg(dx(new Date),_));var k=function(P){var E=Dg(Qt(r),Number(P.target.value));e.onChange(E)},O=(t=m?.Dropdown)!==null&&t!==void 0?t:Sx;return i.jsx(O,{name:"years","aria-label":y(),className:p.dropdown_year,style:f.dropdown_year,onChange:k,value:r.getFullYear(),caption:g(r,{locale:u}),children:w.map(function(P){return i.jsx("option",{value:P.getFullYear(),children:g(P,{locale:u})},P.getFullYear())})})}function GP(e,t){var r=x.useState(e),o=r[0],a=r[1],c=t===void 0?o:t;return[c,a]}function QP(e){var t=e.month,r=e.defaultMonth,o=e.today,a=t||r||o||new Date,c=e.toDate,u=e.fromDate,f=e.numberOfMonths,p=f===void 0?1:f;if(c&&Ia(c,a)<0){var m=-1*(p-1);a=Qn(c,m)}return u&&Ia(a,u)<0&&(a=u),Qt(a)}function XP(){var e=lt(),t=QP(e),r=GP(t,e.month),o=r[0],a=r[1],c=function(u){var f;if(!e.disableNavigation){var p=Qt(u);a(p),(f=e.onMonthChange)===null||f===void 0||f.call(e,p)}};return[o,c]}function JP(e,t){for(var r=t.reverseMonths,o=t.numberOfMonths,a=Qt(e),c=Qt(Qn(a,o)),u=Ia(c,a),f=[],p=0;p<u;p++){var m=Qn(a,p);f.push(m)}return r&&(f=f.reverse()),f}function ZP(e,t){if(!t.disableNavigation){var r=t.toDate,o=t.pagedNavigation,a=t.numberOfMonths,c=a===void 0?1:a,u=o?c:1,f=Qt(e);if(!r)return Qn(f,u);var p=Ia(r,e);if(!(p<c))return Qn(f,u)}}function eT(e,t){if(!t.disableNavigation){var r=t.fromDate,o=t.pagedNavigation,a=t.numberOfMonths,c=a===void 0?1:a,u=o?c:1,f=Qt(e);if(!r)return Qn(f,-u);var p=Ia(f,r);if(!(p<=0))return Qn(f,-u)}}var kx=x.createContext(void 0);function tT(e){var t=lt(),r=XP(),o=r[0],a=r[1],c=JP(o,t),u=ZP(o,t),f=eT(o,t),p=function(y){return c.some(function(w){return Nf(y,w)})},m=function(y,w){p(y)||(w&&xx(y,w)?a(Qn(y,1+t.numberOfMonths*-1)):a(y))},g={currentMonth:o,displayMonths:c,goToMonth:a,goToDate:m,previousMonth:f,nextMonth:u,isDateDisplayed:p};return i.jsx(kx.Provider,{value:g,children:e.children})}function Xa(){var e=x.useContext(kx);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Rg(e){var t,r=lt(),o=r.classNames,a=r.styles,c=r.components,u=Xa().goToMonth,f=function(g){u(Qn(g,e.displayIndex?-e.displayIndex:0))},p=(t=c?.CaptionLabel)!==null&&t!==void 0?t:bx,m=i.jsx(p,{id:e.id,displayMonth:e.displayMonth});return i.jsxs("div",{className:o.caption_dropdowns,style:a.caption_dropdowns,children:[i.jsx("div",{className:o.vhidden,children:m}),i.jsx(YP,{onChange:f,displayMonth:e.displayMonth}),i.jsx(KP,{onChange:f,displayMonth:e.displayMonth})]})}function nT(e){return i.jsx("svg",We({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function rT(e){return i.jsx("svg",We({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:i.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ol=x.forwardRef(function(e,t){var r=lt(),o=r.classNames,a=r.styles,c=[o.button_reset,o.button];e.className&&c.push(e.className);var u=c.join(" "),f=We(We({},a.button_reset),a.button);return e.style&&Object.assign(f,e.style),i.jsx("button",We({},e,{ref:t,type:"button",className:u,style:f}))});function sT(e){var t,r,o=lt(),a=o.dir,c=o.locale,u=o.classNames,f=o.styles,p=o.labels,m=p.labelPrevious,g=p.labelNext,y=o.components;if(!e.nextMonth&&!e.previousMonth)return i.jsx(i.Fragment,{});var w=m(e.previousMonth,{locale:c}),j=[u.nav_button,u.nav_button_previous].join(" "),b=g(e.nextMonth,{locale:c}),_=[u.nav_button,u.nav_button_next].join(" "),k=(t=y?.IconRight)!==null&&t!==void 0?t:rT,O=(r=y?.IconLeft)!==null&&r!==void 0?r:nT;return i.jsxs("div",{className:u.nav,style:f.nav,children:[!e.hidePrevious&&i.jsx(Ol,{name:"previous-month","aria-label":w,className:j,style:f.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?i.jsx(k,{className:u.nav_icon,style:f.nav_icon}):i.jsx(O,{className:u.nav_icon,style:f.nav_icon})}),!e.hideNext&&i.jsx(Ol,{name:"next-month","aria-label":b,className:_,style:f.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?i.jsx(O,{className:u.nav_icon,style:f.nav_icon}):i.jsx(k,{className:u.nav_icon,style:f.nav_icon})})]})}function Mg(e){var t=lt().numberOfMonths,r=Xa(),o=r.previousMonth,a=r.nextMonth,c=r.goToMonth,u=r.displayMonths,f=u.findIndex(function(b){return Nf(e.displayMonth,b)}),p=f===0,m=f===u.length-1,g=t>1&&(p||!m),y=t>1&&(m||!p),w=function(){o&&c(o)},j=function(){a&&c(a)};return i.jsx(sT,{displayMonth:e.displayMonth,hideNext:g,hidePrevious:y,nextMonth:a,previousMonth:o,onPreviousClick:w,onNextClick:j})}function oT(e){var t,r=lt(),o=r.classNames,a=r.disableNavigation,c=r.styles,u=r.captionLayout,f=r.components,p=(t=f?.CaptionLabel)!==null&&t!==void 0?t:bx,m;return a?m=i.jsx(p,{id:e.id,displayMonth:e.displayMonth}):u==="dropdown"?m=i.jsx(Rg,{displayMonth:e.displayMonth,id:e.id}):u==="dropdown-buttons"?m=i.jsxs(i.Fragment,{children:[i.jsx(Rg,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),i.jsx(Mg,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):m=i.jsxs(i.Fragment,{children:[i.jsx(p,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(Mg,{displayMonth:e.displayMonth,id:e.id})]}),i.jsx("div",{className:o.caption,style:c.caption,children:m})}function aT(e){var t=lt(),r=t.footer,o=t.styles,a=t.classNames.tfoot;return r?i.jsx("tfoot",{className:a,style:o.tfoot,children:i.jsx("tr",{children:i.jsx("td",{colSpan:8,children:r})})}):i.jsx(i.Fragment,{})}function iT(e,t,r){for(var o=r?Fs(new Date):vn(new Date,{locale:e,weekStartsOn:t}),a=[],c=0;c<7;c++){var u=sn(o,c);a.push(u)}return a}function lT(){var e=lt(),t=e.classNames,r=e.styles,o=e.showWeekNumber,a=e.locale,c=e.weekStartsOn,u=e.ISOWeek,f=e.formatters.formatWeekdayName,p=e.labels.labelWeekday,m=iT(a,c,u);return i.jsxs("tr",{style:r.head_row,className:t.head_row,children:[o&&i.jsx("td",{style:r.head_cell,className:t.head_cell}),m.map(function(g,y){return i.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":p(g,{locale:a}),children:f(g,{locale:a})},y)})]})}function cT(){var e,t=lt(),r=t.classNames,o=t.styles,a=t.components,c=(e=a?.HeadRow)!==null&&e!==void 0?e:lT;return i.jsx("thead",{style:o.head,className:r.head,children:i.jsx(c,{})})}function uT(e){var t=lt(),r=t.locale,o=t.formatters.formatDay;return i.jsx(i.Fragment,{children:o(e.date,{locale:r})})}var Cf=x.createContext(void 0);function dT(e){if(!Ga(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return i.jsx(Cf.Provider,{value:t,children:e.children})}return i.jsx(fT,{initialProps:e.initialProps,children:e.children})}function fT(e){var t=e.initialProps,r=e.children,o=t.selected,a=t.min,c=t.max,u=function(m,g,y){var w,j;(w=t.onDayClick)===null||w===void 0||w.call(t,m,g,y);var b=!!(g.selected&&a&&o?.length===a);if(!b){var _=!!(!g.selected&&c&&o?.length===c);if(!_){var k=o?wx([],o):[];if(g.selected){var O=k.findIndex(function(P){return yn(m,P)});k.splice(O,1)}else k.push(m);(j=t.onSelect)===null||j===void 0||j.call(t,k,m,g,y)}}},f={disabled:[]};o&&f.disabled.push(function(m){var g=c&&o.length>c-1,y=o.some(function(w){return yn(w,m)});return!!(g&&!y)});var p={selected:o,onDayClick:u,modifiers:f};return i.jsx(Cf.Provider,{value:p,children:r})}function Ef(){var e=x.useContext(Cf);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function hT(e,t){var r=t||{},o=r.from,a=r.to;return o&&a?yn(a,e)&&yn(o,e)?void 0:yn(a,e)?{from:a,to:void 0}:yn(o,e)?void 0:Ld(o,e)?{from:e,to:a}:{from:o,to:e}:a?Ld(e,a)?{from:a,to:e}:{from:e,to:a}:o?xx(e,o)?{from:e,to:o}:{from:o,to:e}:{from:e,to:void 0}}var Pf=x.createContext(void 0);function pT(e){if(!Qa(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return i.jsx(Pf.Provider,{value:t,children:e.children})}return i.jsx(mT,{initialProps:e.initialProps,children:e.children})}function mT(e){var t=e.initialProps,r=e.children,o=t.selected,a=o||{},c=a.from,u=a.to,f=t.min,p=t.max,m=function(j,b,_){var k,O;(k=t.onDayClick)===null||k===void 0||k.call(t,j,b,_);var P=hT(j,o);(O=t.onSelect)===null||O===void 0||O.call(t,P,j,b,_)},g={range_start:[],range_end:[],range_middle:[],disabled:[]};if(c?(g.range_start=[c],u?(g.range_end=[u],yn(c,u)||(g.range_middle=[{after:c,before:u}])):g.range_end=[c]):u&&(g.range_start=[u],g.range_end=[u]),f&&(c&&!u&&g.disabled.push({after:ad(c,f-1),before:sn(c,f-1)}),c&&u&&g.disabled.push({after:c,before:sn(c,f-1)}),!c&&u&&g.disabled.push({after:ad(u,f-1),before:sn(u,f-1)})),p){if(c&&!u&&(g.disabled.push({before:sn(c,-p+1)}),g.disabled.push({after:sn(c,p-1)})),c&&u){var y=pr(u,c)+1,w=p-y;g.disabled.push({before:ad(c,w)}),g.disabled.push({after:sn(u,w)})}!c&&u&&(g.disabled.push({before:sn(u,-p+1)}),g.disabled.push({after:sn(u,p-1)}))}return i.jsx(Pf.Provider,{value:{selected:o,onDayClick:m,modifiers:g},children:r})}function Tf(){var e=x.useContext(Pf);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function _l(e){return Array.isArray(e)?wx([],e):e!==void 0?[e]:[]}function gT(e){var t={};return Object.entries(e).forEach(function(r){var o=r[0],a=r[1];t[o]=_l(a)}),t}var Xn;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Xn||(Xn={}));var vT=Xn.Selected,Or=Xn.Disabled,yT=Xn.Hidden,xT=Xn.Today,ld=Xn.RangeEnd,cd=Xn.RangeMiddle,ud=Xn.RangeStart,wT=Xn.Outside;function _T(e,t,r){var o,a=(o={},o[vT]=_l(e.selected),o[Or]=_l(e.disabled),o[yT]=_l(e.hidden),o[xT]=[e.today],o[ld]=[],o[cd]=[],o[ud]=[],o[wT]=[],o);return e.fromDate&&a[Or].push({before:e.fromDate}),e.toDate&&a[Or].push({after:e.toDate}),Ga(e)?a[Or]=a[Or].concat(t.modifiers[Or]):Qa(e)&&(a[Or]=a[Or].concat(r.modifiers[Or]),a[ud]=r.modifiers[ud],a[cd]=r.modifiers[cd],a[ld]=r.modifiers[ld]),a}var jx=x.createContext(void 0);function bT(e){var t=lt(),r=Ef(),o=Tf(),a=_T(t,r,o),c=gT(t.modifiers),u=We(We({},a),c);return i.jsx(jx.Provider,{value:u,children:e.children})}function Nx(){var e=x.useContext(jx);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function ST(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function kT(e){return!!(e&&typeof e=="object"&&"from"in e)}function jT(e){return!!(e&&typeof e=="object"&&"after"in e)}function NT(e){return!!(e&&typeof e=="object"&&"before"in e)}function CT(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function ET(e,t){var r,o=t.from,a=t.to;if(o&&a){var c=pr(a,o)<0;c&&(r=[a,o],o=r[0],a=r[1]);var u=pr(e,o)>=0&&pr(a,e)>=0;return u}return a?yn(a,e):o?yn(o,e):!1}function PT(e){return kf(e)}function TT(e){return Array.isArray(e)&&e.every(kf)}function OT(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(PT(r))return yn(e,r);if(TT(r))return r.includes(e);if(kT(r))return ET(e,r);if(CT(r))return r.dayOfWeek.includes(e.getDay());if(ST(r)){var o=pr(r.before,e),a=pr(r.after,e),c=o>0,u=a<0,f=Ld(r.before,r.after);return f?u&&c:c||u}return jT(r)?pr(e,r.after)>0:NT(r)?pr(r.before,e)>0:typeof r=="function"?r(e):!1})}function Of(e,t,r){var o=Object.keys(t).reduce(function(c,u){var f=t[u];return OT(e,f)&&c.push(u),c},[]),a={};return o.forEach(function(c){return a[c]=!0}),r&&!Nf(e,r)&&(a.outside=!0),a}function DT(e,t){for(var r=Qt(e[0]),o=jf(e[e.length-1]),a,c,u=r;u<=o;){var f=Of(u,t),p=!f.disabled&&!f.hidden;if(!p){u=sn(u,1);continue}if(f.selected)return u;f.today&&!c&&(c=u),a||(a=u),u=sn(u,1)}return c||a}var RT=365;function Cx(e,t){var r=t.moveBy,o=t.direction,a=t.context,c=t.modifiers,u=t.retry,f=u===void 0?{count:0,lastFocused:e}:u,p=a.weekStartsOn,m=a.fromDate,g=a.toDate,y=a.locale,w={day:sn,week:Id,month:Qn,year:YC,startOfWeek:function(k){return a.ISOWeek?Fs(k):vn(k,{locale:y,weekStartsOn:p})},endOfWeek:function(k){return a.ISOWeek?fx(k):Yl(k,{locale:y,weekStartsOn:p})}},j=w[r](e,o==="after"?1:-1);o==="before"&&m?j=KC([m,j]):o==="after"&&g&&(j=GC([g,j]));var b=!0;if(c){var _=Of(j,c);b=!_.disabled&&!_.hidden}return b?j:f.count>RT?f.lastFocused:Cx(j,{moveBy:r,direction:o,context:a,modifiers:c,retry:We(We({},f),{count:f.count+1})})}var Ex=x.createContext(void 0);function MT(e){var t=Xa(),r=Nx(),o=x.useState(),a=o[0],c=o[1],u=x.useState(),f=u[0],p=u[1],m=DT(t.displayMonths,r),g=a??(f&&t.isDateDisplayed(f))?f:m,y=function(){p(a),c(void 0)},w=function(k){c(k)},j=lt(),b=function(k,O){if(a){var P=Cx(a,{moveBy:k,direction:O,context:j,modifiers:r});yn(a,P)||(t.goToDate(P,a),w(P))}},_={focusedDay:a,focusTarget:g,blur:y,focus:w,focusDayAfter:function(){return b("day","after")},focusDayBefore:function(){return b("day","before")},focusWeekAfter:function(){return b("week","after")},focusWeekBefore:function(){return b("week","before")},focusMonthBefore:function(){return b("month","before")},focusMonthAfter:function(){return b("month","after")},focusYearBefore:function(){return b("year","before")},focusYearAfter:function(){return b("year","after")},focusStartOfWeek:function(){return b("startOfWeek","before")},focusEndOfWeek:function(){return b("endOfWeek","after")}};return i.jsx(Ex.Provider,{value:_,children:e.children})}function Df(){var e=x.useContext(Ex);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function AT(e,t){var r=Nx(),o=Of(e,r,t);return o}var Rf=x.createContext(void 0);function IT(e){if(!Kl(e.initialProps)){var t={selected:void 0};return i.jsx(Rf.Provider,{value:t,children:e.children})}return i.jsx(LT,{initialProps:e.initialProps,children:e.children})}function LT(e){var t=e.initialProps,r=e.children,o=function(c,u,f){var p,m,g;if((p=t.onDayClick)===null||p===void 0||p.call(t,c,u,f),u.selected&&!t.required){(m=t.onSelect)===null||m===void 0||m.call(t,void 0,c,u,f);return}(g=t.onSelect)===null||g===void 0||g.call(t,c,c,u,f)},a={selected:t.selected,onDayClick:o};return i.jsx(Rf.Provider,{value:a,children:r})}function Px(){var e=x.useContext(Rf);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function $T(e,t){var r=lt(),o=Px(),a=Ef(),c=Tf(),u=Df(),f=u.focusDayAfter,p=u.focusDayBefore,m=u.focusWeekAfter,g=u.focusWeekBefore,y=u.blur,w=u.focus,j=u.focusMonthBefore,b=u.focusMonthAfter,_=u.focusYearBefore,k=u.focusYearAfter,O=u.focusStartOfWeek,P=u.focusEndOfWeek,E=function(Q){var R,ie,te,F;Kl(r)?(R=o.onDayClick)===null||R===void 0||R.call(o,e,t,Q):Ga(r)?(ie=a.onDayClick)===null||ie===void 0||ie.call(a,e,t,Q):Qa(r)?(te=c.onDayClick)===null||te===void 0||te.call(c,e,t,Q):(F=r.onDayClick)===null||F===void 0||F.call(r,e,t,Q)},T=function(Q){var R;w(e),(R=r.onDayFocus)===null||R===void 0||R.call(r,e,t,Q)},L=function(Q){var R;y(),(R=r.onDayBlur)===null||R===void 0||R.call(r,e,t,Q)},B=function(Q){var R;(R=r.onDayMouseEnter)===null||R===void 0||R.call(r,e,t,Q)},W=function(Q){var R;(R=r.onDayMouseLeave)===null||R===void 0||R.call(r,e,t,Q)},A=function(Q){var R;(R=r.onDayPointerEnter)===null||R===void 0||R.call(r,e,t,Q)},q=function(Q){var R;(R=r.onDayPointerLeave)===null||R===void 0||R.call(r,e,t,Q)},Y=function(Q){var R;(R=r.onDayTouchCancel)===null||R===void 0||R.call(r,e,t,Q)},Z=function(Q){var R;(R=r.onDayTouchEnd)===null||R===void 0||R.call(r,e,t,Q)},ce=function(Q){var R;(R=r.onDayTouchMove)===null||R===void 0||R.call(r,e,t,Q)},we=function(Q){var R;(R=r.onDayTouchStart)===null||R===void 0||R.call(r,e,t,Q)},ge=function(Q){var R;(R=r.onDayKeyUp)===null||R===void 0||R.call(r,e,t,Q)},Pe=function(Q){var R;switch(Q.key){case"ArrowLeft":Q.preventDefault(),Q.stopPropagation(),r.dir==="rtl"?f():p();break;case"ArrowRight":Q.preventDefault(),Q.stopPropagation(),r.dir==="rtl"?p():f();break;case"ArrowDown":Q.preventDefault(),Q.stopPropagation(),m();break;case"ArrowUp":Q.preventDefault(),Q.stopPropagation(),g();break;case"PageUp":Q.preventDefault(),Q.stopPropagation(),Q.shiftKey?_():j();break;case"PageDown":Q.preventDefault(),Q.stopPropagation(),Q.shiftKey?k():b();break;case"Home":Q.preventDefault(),Q.stopPropagation(),O();break;case"End":Q.preventDefault(),Q.stopPropagation(),P();break}(R=r.onDayKeyDown)===null||R===void 0||R.call(r,e,t,Q)},de={onClick:E,onFocus:T,onBlur:L,onKeyDown:Pe,onKeyUp:ge,onMouseEnter:B,onMouseLeave:W,onPointerEnter:A,onPointerLeave:q,onTouchCancel:Y,onTouchEnd:Z,onTouchMove:ce,onTouchStart:we};return de}function FT(){var e=lt(),t=Px(),r=Ef(),o=Tf(),a=Kl(e)?t.selected:Ga(e)?r.selected:Qa(e)?o.selected:void 0;return a}function zT(e){return Object.values(Xn).includes(e)}function WT(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(o){var a=e.modifiersClassNames[o];if(a)r.push(a);else if(zT(o)){var c=e.classNames["day_".concat(o)];c&&r.push(c)}}),r}function UT(e,t){var r=We({},e.styles.day);return Object.keys(t).forEach(function(o){var a;r=We(We({},r),(a=e.modifiersStyles)===null||a===void 0?void 0:a[o])}),r}function BT(e,t,r){var o,a,c,u=lt(),f=Df(),p=AT(e,t),m=$T(e,p),g=FT(),y=!!(u.onDayClick||u.mode!=="default");x.useEffect(function(){var B;p.outside||f.focusedDay&&y&&yn(f.focusedDay,e)&&((B=r.current)===null||B===void 0||B.focus())},[f.focusedDay,e,r,y,p.outside]);var w=WT(u,p).join(" "),j=UT(u,p),b=!!(p.outside&&!u.showOutsideDays||p.hidden),_=(c=(a=u.components)===null||a===void 0?void 0:a.DayContent)!==null&&c!==void 0?c:uT,k=i.jsx(_,{date:e,displayMonth:t,activeModifiers:p}),O={style:j,className:w,children:k,role:"gridcell"},P=f.focusTarget&&yn(f.focusTarget,e)&&!p.outside,E=f.focusedDay&&yn(f.focusedDay,e),T=We(We(We({},O),(o={disabled:p.disabled,role:"gridcell"},o["aria-selected"]=p.selected,o.tabIndex=E||P?0:-1,o)),m),L={isButton:y,isHidden:b,activeModifiers:p,selectedDays:g,buttonProps:T,divProps:O};return L}function HT(e){var t=x.useRef(null),r=BT(e.date,e.displayMonth,t);return r.isHidden?i.jsx("div",{role:"gridcell"}):r.isButton?i.jsx(Ol,We({name:"day",ref:t},r.buttonProps)):i.jsx("div",We({},r.divProps))}function VT(e){var t=e.number,r=e.dates,o=lt(),a=o.onWeekNumberClick,c=o.styles,u=o.classNames,f=o.locale,p=o.labels.labelWeekNumber,m=o.formatters.formatWeekNumber,g=m(Number(t),{locale:f});if(!a)return i.jsx("span",{className:u.weeknumber,style:c.weeknumber,children:g});var y=p(Number(t),{locale:f}),w=function(j){a(t,r,j)};return i.jsx(Ol,{name:"week-number","aria-label":y,className:u.weeknumber,style:c.weeknumber,onClick:w,children:g})}function qT(e){var t,r,o=lt(),a=o.styles,c=o.classNames,u=o.showWeekNumber,f=o.components,p=(t=f?.Day)!==null&&t!==void 0?t:HT,m=(r=f?.WeekNumber)!==null&&r!==void 0?r:VT,g;return u&&(g=i.jsx("td",{className:c.cell,style:a.cell,children:i.jsx(m,{number:e.weekNumber,dates:e.dates})})),i.jsxs("tr",{className:c.row,style:a.row,children:[g,e.dates.map(function(y){return i.jsx("td",{className:c.cell,style:a.cell,role:"presentation",children:i.jsx(p,{displayMonth:e.displayMonth,date:y})},YE(y))})]})}function Ag(e,t,r){for(var o=r?.ISOWeek?fx(t):Yl(t,r),a=r?.ISOWeek?Fs(e):vn(e,r),c=pr(o,a),u=[],f=0;f<=c;f++)u.push(sn(a,f));var p=u.reduce(function(m,g){var y=r?.ISOWeek?mx(g):vx(g,r),w=m.find(function(j){return j.weekNumber===y});return w?(w.dates.push(g),m):(m.push({weekNumber:y,dates:[g]}),m)},[]);return p}function YT(e,t){var r=Ag(Qt(e),jf(e),t);if(t?.useFixedWeeks){var o=GE(e,t);if(o<6){var a=r[r.length-1],c=a.dates[a.dates.length-1],u=Id(c,6-o),f=Ag(Id(c,1),u,t);r.push.apply(r,f)}}return r}function KT(e){var t,r,o,a=lt(),c=a.locale,u=a.classNames,f=a.styles,p=a.hideHead,m=a.fixedWeeks,g=a.components,y=a.weekStartsOn,w=a.firstWeekContainsDate,j=a.ISOWeek,b=YT(e.displayMonth,{useFixedWeeks:!!m,ISOWeek:j,locale:c,weekStartsOn:y,firstWeekContainsDate:w}),_=(t=g?.Head)!==null&&t!==void 0?t:cT,k=(r=g?.Row)!==null&&r!==void 0?r:qT,O=(o=g?.Footer)!==null&&o!==void 0?o:aT;return i.jsxs("table",{id:e.id,className:u.table,style:f.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!p&&i.jsx(_,{}),i.jsx("tbody",{className:u.tbody,style:f.tbody,children:b.map(function(P){return i.jsx(k,{displayMonth:e.displayMonth,dates:P.dates,weekNumber:P.weekNumber},P.weekNumber)})}),i.jsx(O,{displayMonth:e.displayMonth})]})}function GT(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var QT=GT()?x.useLayoutEffect:x.useEffect,dd=!1,XT=0;function Ig(){return"react-day-picker-".concat(++XT)}function JT(e){var t,r=e??(dd?Ig():null),o=x.useState(r),a=o[0],c=o[1];return QT(function(){a===null&&c(Ig())},[]),x.useEffect(function(){dd===!1&&(dd=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function ZT(e){var t,r,o=lt(),a=o.dir,c=o.classNames,u=o.styles,f=o.components,p=Xa().displayMonths,m=JT(o.id?"".concat(o.id,"-").concat(e.displayIndex):void 0),g=o.id?"".concat(o.id,"-grid-").concat(e.displayIndex):void 0,y=[c.month],w=u.month,j=e.displayIndex===0,b=e.displayIndex===p.length-1,_=!j&&!b;a==="rtl"&&(t=[j,b],b=t[0],j=t[1]),j&&(y.push(c.caption_start),w=We(We({},w),u.caption_start)),b&&(y.push(c.caption_end),w=We(We({},w),u.caption_end)),_&&(y.push(c.caption_between),w=We(We({},w),u.caption_between));var k=(r=f?.Caption)!==null&&r!==void 0?r:oT;return i.jsxs("div",{className:y.join(" "),style:w,children:[i.jsx(k,{id:m,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),i.jsx(KT,{id:g,"aria-labelledby":m,displayMonth:e.displayMonth})]},e.displayIndex)}function e2(e){var t=lt(),r=t.classNames,o=t.styles;return i.jsx("div",{className:r.months,style:o.months,children:e.children})}function t2(e){var t,r,o=e.initialProps,a=lt(),c=Df(),u=Xa(),f=x.useState(!1),p=f[0],m=f[1];x.useEffect(function(){a.initialFocus&&c.focusTarget&&(p||(c.focus(c.focusTarget),m(!0)))},[a.initialFocus,p,c.focus,c.focusTarget,c]);var g=[a.classNames.root,a.className];a.numberOfMonths>1&&g.push(a.classNames.multiple_months),a.showWeekNumber&&g.push(a.classNames.with_weeknumber);var y=We(We({},a.styles.root),a.style),w=Object.keys(o).filter(function(b){return b.startsWith("data-")}).reduce(function(b,_){var k;return We(We({},b),(k={},k[_]=o[_],k))},{}),j=(r=(t=o.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:e2;return i.jsx("div",We({className:g.join(" "),style:y,dir:a.dir,id:a.id,nonce:o.nonce,title:o.title,lang:o.lang},w,{children:i.jsx(j,{children:u.displayMonths.map(function(b,_){return i.jsx(ZT,{displayIndex:_,displayMonth:b},_)})})}))}function n2(e){var t=e.children,r=NP(e,["children"]);return i.jsx(VP,{initialProps:r,children:i.jsx(tT,{children:i.jsx(IT,{initialProps:r,children:i.jsx(dT,{initialProps:r,children:i.jsx(pT,{initialProps:r,children:i.jsx(bT,{children:i.jsx(MT,{children:t})})})})})})})}function r2(e){return i.jsx(n2,We({},e,{children:i.jsx(t2,{initialProps:e})}))}function $d({className:e,classNames:t,showOutsideDays:r=!0,...o}){return i.jsx(r2,{showOutsideDays:r,className:$e("p-3",e),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:$e(gd({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:$e("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",o.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:$e(gd({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:a,...c})=>i.jsx(k_,{className:$e("size-4",a),...c}),IconRight:({className:a,...c})=>i.jsx(N_,{className:$e("size-4",a),...c})},...o})}function Tx(e){switch(e){case"WHITE":return"#ffffff";case"YELLOW":return"#fde047";case"GREEN":return"#86efac";case"BLUE":return"#93c5fd";case"RED":return"#fca5a5";case"BLACK":return"#374151";case"GOLD":return"#fbbf24";case"NONE":default:return"#e5e7eb"}}function As({level:e,size:t=12,radius:r=2,className:o,showBorderForWhite:a=!0}){const c=Tx(e),u=e==="WHITE"&&a?"1px solid #d1d5db":"none";return i.jsx("span",{className:o,style:{backgroundColor:c,border:u,width:`${t}px`,height:`${t}px`,borderRadius:`${r}px`,display:"inline-block"}})}function La({hasNote:e,note:t,onSave:r,studentId:o,classId:a,studentOnlyId:c,label:u,meta:f,className:p,hideBubble:m}){const[g,y]=x.useState(!1),[w,j]=x.useState(t||""),[b,_]=x.useState(null),[k,O]=x.useState(t??null),P=typeof e=="boolean"?e:!!(k||t),E=!!c,[T,L]=x.useState(!1),B=()=>{y(!1)},W=async()=>{if(c){if(k!==null)return;const{data:ce,error:we}=await se.from("students").select("memo, memo_isopen").eq("id",c).maybeSingle();if(!we&&ce){const ge=ce.memo??null;O(ge),t||j(ge||""),L(!!ce.memo_isopen)}return}if(b&&k!==null||!o||!a)return;const{data:Y,error:Z}=await se.from("attendance").select("id, note, note_isopen").eq("student_id",o).eq("class_id",a).maybeSingle();if(!Z&&Y){_(Y.id);const ce=Y.note??null;O(ce),t||j(ce||""),L(!!Y.note_isopen)}},A=async()=>{await W(),j((k??t)||""),y(!0)};x.useEffect(()=>{c&&W()},[c]);const q=x.useMemo(()=>{const Y=k||"";return Y.length<=10?Y:Y.slice(0,10)+"…"},[k]);return i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"relative inline-flex items-center"+(p?` ${p}`:""),children:[i.jsx("button",{className:"text-xs px-1.5 py-0.5 rounded cursor-pointer transition-colors hover:bg-gray-200",style:{color:E?P?"#6d28d9":"#9ca3af":P?"#ff0000":"#9ca3af"},title:E?"학생 메모":"출석 메모",onMouseEnter:W,onClick:Y=>{Y.stopPropagation(),A()},"aria-label":E?"학생 메모 편집":"출석 메모 편집",children:"✎"}),!m&&T&&!!k&&i.jsxs("div",{className:"pointer-events-none absolute -top-3 left-1/2 -translate-x-1/2 -translate-y-full z-40 max-w-[260px] rounded-md border bg-white/95 backdrop-blur-sm px-2 py-1 text-xs shadow-lg whitespace-nowrap overflow-hidden",children:[i.jsx("span",{className:"mr-1 font-medium text-gray-700",children:E?"학생":"출석"}),i.jsx("span",{className:"text-gray-700",children:q})]})]}),i.jsx(St,{open:g,onOpenChange:Y=>{Y||B()},children:i.jsxs(_t,{type:"s",children:[i.jsx(Ot,{children:(u||f)&&i.jsxs(Dt,{children:[f||"",f&&u?" - ":"",u||""]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("textarea",{className:"w-full border rounded p-2 text-sm min-h-[120px]",value:w,onChange:Y=>j(Y.target.value),onKeyDown:async Y=>{if(Y.key==="Enter"&&!Y.shiftKey){Y.preventDefault();const Z=w.trim()===""?null:w;c?(await se.from("students").update({memo:Z}).eq("id",c),O(Z)):o&&a?(b||await W(),b&&(await se.from("attendance").update({note:Z}).eq("id",b),O(Z))):r&&await r(Z),B()}},placeholder:"메모를 입력하세요"}),i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-600",children:[i.jsx("input",{type:"checkbox",checked:T,onChange:async Y=>{const Z=Y.target.checked;L(Z),c?await se.from("students").update({memo_isopen:Z}).eq("id",c):(b||await W(),b&&await se.from("attendance").update({note_isopen:Z}).eq("id",b))}}),"메모 항상 띄우기(말풍선)"]})}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(me,{variant:"outline",onClick:B,children:"취소"}),i.jsx(me,{onClick:async()=>{const Y=w.trim()===""?null:w;c?(await se.from("students").update({memo:Y}).eq("id",c),O(Y)):o&&a?(b||await W(),b&&(await se.from("attendance").update({note:Y}).eq("id",b),O(Y))):r&&await r(Y),B()},children:"저장"})]})]})]})})]})}function s2({student:e,classTypes:t,onReload:r}){const o=e.class_type_id?t.find(u=>u.id===e.class_type_id):void 0,a=e.schedules.slice().sort((u,f)=>u.weekday-f.weekday||u.time.localeCompare(f.time)).map(u=>`${["월","화","수","목","금","토","일"][u.weekday]}${u.time.slice(0,5)}(${u.group_type})`).join(", "),c=e.memo;return i.jsx(Gt,{className:"shrink-0",children:i.jsxs("div",{className:"flex items-center justify-between p-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xl font-bold text-gray-900",children:e.name}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[e.birth_date," (",$s(e.birth_date),") · ",e.gender]}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[o?`${o.category} 주 ${o.sessions_per_week}회`:"-"," (",a||"-",")"]}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[i.jsx("span",{className:"font-medium",children:"신발 사이즈:"})," ",e.shoe_size||"-"]}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[i.jsx("span",{className:"font-medium",children:"전화번호:"})," ",e.phone]}),i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[i.jsx("span",{className:"font-medium",children:"등록일:"})," ",e.registration_date]}),i.jsxs("div",{className:"flex items-center justify-between mt-1",children:[i.jsxs("div",{className:"text-xs text-gray-600",children:["메모: ",c||"-"]}),i.jsx(La,{studentOnlyId:e.id,label:`${e.name} 학생 메모`,hideBubble:!0})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[e.current_level&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"현재 레벨:"}),i.jsx(As,{level:e.current_level,size:18,radius:3})]}),i.jsx(Lt,{type:"studentstatus",className:"text-sm px-3 py-1",children:e.status})]})]})})}function o2({levelHistories:e,student:t,onReload:r}){const o=["WHITE","YELLOW","GREEN","BLUE","RED","BLACK","GOLD"];return i.jsxs(Gt,{className:"shrink-0",children:[i.jsx(mn,{className:"p",children:i.jsx(gn,{className:"text-sm",children:"레벨 이력"})}),i.jsx(on,{className:"pt-0",children:i.jsx("div",{className:"flex justify-center gap-4",children:o.map(a=>{const c=e.find(u=>u.level===a);return i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(As,{level:a,size:16,radius:3}),i.jsx("span",{className:"text-xs text-gray-600 mt-1 font-medium",children:a}),i.jsx("span",{className:"text-xs text-gray-500 mt-1 text-center",children:c?gt(new Date(c.acquired_date),"yyyy-MM-dd"):"미취득"})]},a)})})})]})}function Lg(e,[t,r]){return Math.min(r,Math.max(t,e))}function a2(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var i2=[" ","Enter","ArrowUp","ArrowDown"],l2=[" ","Enter"],zs="Select",[Gl,Ql,c2]=qy(zs),[Vo,PO]=Us(zs,[c2,Ul]),Xl=Ul(),[u2,ps]=Vo(zs),[d2,f2]=Vo(zs),Ox=e=>{const{__scopeSelect:t,children:r,open:o,defaultOpen:a,onOpenChange:c,value:u,defaultValue:f,onValueChange:p,dir:m,name:g,autoComplete:y,disabled:w,required:j,form:b}=e,_=Xl(t),[k,O]=x.useState(null),[P,E]=x.useState(null),[T,L]=x.useState(!1),B=_f(m),[W,A]=Ao({prop:o,defaultProp:a??!1,onChange:c,caller:zs}),[q,Y]=Ao({prop:u,defaultProp:f,onChange:p,caller:zs}),Z=x.useRef(null),ce=k?b||!!k.closest("form"):!0,[we,ge]=x.useState(new Set),Pe=Array.from(we).map(de=>de.props.value).join(";");return i.jsx(dy,{..._,children:i.jsxs(u2,{required:j,scope:t,trigger:k,onTriggerChange:O,valueNode:P,onValueNodeChange:E,valueNodeHasChildren:T,onValueNodeHasChildrenChange:L,contentId:Mr(),value:q,onValueChange:Y,open:W,onOpenChange:A,dir:B,triggerPointerDownPosRef:Z,disabled:w,children:[i.jsx(Gl.Provider,{scope:t,children:i.jsx(d2,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(de=>{ge(Q=>new Set(Q).add(de))},[]),onNativeOptionRemove:x.useCallback(de=>{ge(Q=>{const R=new Set(Q);return R.delete(de),R})},[]),children:r})}),ce?i.jsxs(Zx,{"aria-hidden":!0,required:j,tabIndex:-1,name:g,autoComplete:y,value:q,onChange:de=>Y(de.target.value),disabled:w,form:b,children:[q===void 0?i.jsx("option",{value:""}):null,Array.from(we)]},Pe):null]})})};Ox.displayName=zs;var Dx="SelectTrigger",Rx=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:o=!1,...a}=e,c=Xl(r),u=ps(Dx,r),f=u.disabled||o,p=ft(t,u.onTriggerChange),m=Ql(r),g=x.useRef("touch"),[y,w,j]=t0(_=>{const k=m().filter(E=>!E.disabled),O=k.find(E=>E.value===u.value),P=n0(k,_,O);P!==void 0&&u.onValueChange(P.value)}),b=_=>{f||(u.onOpenChange(!0),j()),_&&(u.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return i.jsx(fy,{asChild:!0,...c,children:i.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:f,"data-disabled":f?"":void 0,"data-placeholder":e0(u.value)?"":void 0,...a,ref:p,onClick:Ve(a.onClick,_=>{_.currentTarget.focus(),g.current!=="mouse"&&b(_)}),onPointerDown:Ve(a.onPointerDown,_=>{g.current=_.pointerType;const k=_.target;k.hasPointerCapture(_.pointerId)&&k.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(b(_),_.preventDefault())}),onKeyDown:Ve(a.onKeyDown,_=>{const k=y.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&w(_.key),!(k&&_.key===" ")&&i2.includes(_.key)&&(b(),_.preventDefault())})})})});Rx.displayName=Dx;var Mx="SelectValue",Ax=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:o,style:a,children:c,placeholder:u="",...f}=e,p=ps(Mx,r),{onValueNodeHasChildrenChange:m}=p,g=c!==void 0,y=ft(t,p.onValueNodeChange);return Xt(()=>{m(g)},[m,g]),i.jsx(Xe.span,{...f,ref:y,style:{pointerEvents:"none"},children:e0(p.value)?i.jsx(i.Fragment,{children:u}):c})});Ax.displayName=Mx;var h2="SelectIcon",Ix=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:o,...a}=e;return i.jsx(Xe.span,{"aria-hidden":!0,...a,ref:t,children:o||"▼"})});Ix.displayName=h2;var p2="SelectPortal",Lx=e=>i.jsx(Al,{asChild:!0,...e});Lx.displayName=p2;var Ws="SelectContent",$x=x.forwardRef((e,t)=>{const r=ps(Ws,e.__scopeSelect),[o,a]=x.useState();if(Xt(()=>{a(new DocumentFragment)},[]),!r.open){const c=o;return c?Fa.createPortal(i.jsx(Fx,{scope:e.__scopeSelect,children:i.jsx(Gl.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),c):null}return i.jsx(zx,{...e,ref:t})});$x.displayName=Ws;var qn=10,[Fx,ms]=Vo(Ws),m2="SelectContentImpl",g2=Mo("SelectContent.RemoveScroll"),zx=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:c,onPointerDownOutside:u,side:f,sideOffset:p,align:m,alignOffset:g,arrowPadding:y,collisionBoundary:w,collisionPadding:j,sticky:b,hideWhenDetached:_,avoidCollisions:k,...O}=e,P=ps(Ws,r),[E,T]=x.useState(null),[L,B]=x.useState(null),W=ft(t,ne=>T(ne)),[A,q]=x.useState(null),[Y,Z]=x.useState(null),ce=Ql(r),[we,ge]=x.useState(!1),Pe=x.useRef(!1);x.useEffect(()=>{if(E)return wv(E)},[E]),dv();const de=x.useCallback(ne=>{const[Ce,...Fe]=ce().map(Ze=>Ze.ref.current),[De]=Fe.slice(-1),qe=document.activeElement;for(const Ze of ne)if(Ze===qe||(Ze?.scrollIntoView({block:"nearest"}),Ze===Ce&&L&&(L.scrollTop=0),Ze===De&&L&&(L.scrollTop=L.scrollHeight),Ze?.focus(),document.activeElement!==qe))return},[ce,L]),Q=x.useCallback(()=>de([A,E]),[de,A,E]);x.useEffect(()=>{we&&Q()},[we,Q]);const{onOpenChange:R,triggerPointerDownPosRef:ie}=P;x.useEffect(()=>{if(E){let ne={x:0,y:0};const Ce=De=>{ne={x:Math.abs(Math.round(De.pageX)-(ie.current?.x??0)),y:Math.abs(Math.round(De.pageY)-(ie.current?.y??0))}},Fe=De=>{ne.x<=10&&ne.y<=10?De.preventDefault():E.contains(De.target)||R(!1),document.removeEventListener("pointermove",Ce),ie.current=null};return ie.current!==null&&(document.addEventListener("pointermove",Ce),document.addEventListener("pointerup",Fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ce),document.removeEventListener("pointerup",Fe,{capture:!0})}}},[E,R,ie]),x.useEffect(()=>{const ne=()=>R(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[R]);const[te,F]=t0(ne=>{const Ce=ce().filter(qe=>!qe.disabled),Fe=Ce.find(qe=>qe.ref.current===document.activeElement),De=n0(Ce,ne,Fe);De&&setTimeout(()=>De.ref.current.focus())}),X=x.useCallback((ne,Ce,Fe)=>{const De=!Pe.current&&!Fe;(P.value!==void 0&&P.value===Ce||De)&&(q(ne),De&&(Pe.current=!0))},[P.value]),ve=x.useCallback(()=>E?.focus(),[E]),ae=x.useCallback((ne,Ce,Fe)=>{const De=!Pe.current&&!Fe;(P.value!==void 0&&P.value===Ce||De)&&Z(ne)},[P.value]),Te=o==="popper"?Fd:Wx,ze=Te===Fd?{side:f,sideOffset:p,align:m,alignOffset:g,arrowPadding:y,collisionBoundary:w,collisionPadding:j,sticky:b,hideWhenDetached:_,avoidCollisions:k}:{};return i.jsx(Fx,{scope:r,content:E,viewport:L,onViewportChange:B,itemRefCallback:X,selectedItem:A,onItemLeave:ve,itemTextRefCallback:ae,focusSelectedItem:Q,selectedItemText:Y,position:o,isPositioned:we,searchRef:te,children:i.jsx(Qd,{as:g2,allowPinchZoom:!0,children:i.jsx(Gd,{asChild:!0,trapped:P.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:Ve(a,ne=>{P.trigger?.focus({preventScroll:!0}),ne.preventDefault()}),children:i.jsx(Ml,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:i.jsx(Te,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:ne=>ne.preventDefault(),...O,...ze,onPlaced:()=>ge(!0),ref:W,style:{display:"flex",flexDirection:"column",outline:"none",...O.style},onKeyDown:Ve(O.onKeyDown,ne=>{const Ce=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!Ce&&ne.key.length===1&&F(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let De=ce().filter(qe=>!qe.disabled).map(qe=>qe.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(De=De.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const qe=ne.target,Ze=De.indexOf(qe);De=De.slice(Ze+1)}setTimeout(()=>de(De)),ne.preventDefault()}})})})})})})});zx.displayName=m2;var v2="SelectItemAlignedPosition",Wx=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:o,...a}=e,c=ps(Ws,r),u=ms(Ws,r),[f,p]=x.useState(null),[m,g]=x.useState(null),y=ft(t,W=>g(W)),w=Ql(r),j=x.useRef(!1),b=x.useRef(!0),{viewport:_,selectedItem:k,selectedItemText:O,focusSelectedItem:P}=u,E=x.useCallback(()=>{if(c.trigger&&c.valueNode&&f&&m&&_&&k&&O){const W=c.trigger.getBoundingClientRect(),A=m.getBoundingClientRect(),q=c.valueNode.getBoundingClientRect(),Y=O.getBoundingClientRect();if(c.dir!=="rtl"){const qe=Y.left-A.left,Ze=q.left-qe,yt=W.left-Ze,Jt=W.width+yt,Ut=Math.max(Jt,A.width),Me=window.innerWidth-qn,ht=Lg(Ze,[qn,Math.max(qn,Me-Ut)]);f.style.minWidth=Jt+"px",f.style.left=ht+"px"}else{const qe=A.right-Y.right,Ze=window.innerWidth-q.right-qe,yt=window.innerWidth-W.right-Ze,Jt=W.width+yt,Ut=Math.max(Jt,A.width),Me=window.innerWidth-qn,ht=Lg(Ze,[qn,Math.max(qn,Me-Ut)]);f.style.minWidth=Jt+"px",f.style.right=ht+"px"}const Z=w(),ce=window.innerHeight-qn*2,we=_.scrollHeight,ge=window.getComputedStyle(m),Pe=parseInt(ge.borderTopWidth,10),de=parseInt(ge.paddingTop,10),Q=parseInt(ge.borderBottomWidth,10),R=parseInt(ge.paddingBottom,10),ie=Pe+de+we+R+Q,te=Math.min(k.offsetHeight*5,ie),F=window.getComputedStyle(_),X=parseInt(F.paddingTop,10),ve=parseInt(F.paddingBottom,10),ae=W.top+W.height/2-qn,Te=ce-ae,ze=k.offsetHeight/2,ne=k.offsetTop+ze,Ce=Pe+de+ne,Fe=ie-Ce;if(Ce<=ae){const qe=Z.length>0&&k===Z[Z.length-1].ref.current;f.style.bottom="0px";const Ze=m.clientHeight-_.offsetTop-_.offsetHeight,yt=Math.max(Te,ze+(qe?ve:0)+Ze+Q),Jt=Ce+yt;f.style.height=Jt+"px"}else{const qe=Z.length>0&&k===Z[0].ref.current;f.style.top="0px";const yt=Math.max(ae,Pe+_.offsetTop+(qe?X:0)+ze)+Fe;f.style.height=yt+"px",_.scrollTop=Ce-ae+_.offsetTop}f.style.margin=`${qn}px 0`,f.style.minHeight=te+"px",f.style.maxHeight=ce+"px",o?.(),requestAnimationFrame(()=>j.current=!0)}},[w,c.trigger,c.valueNode,f,m,_,k,O,c.dir,o]);Xt(()=>E(),[E]);const[T,L]=x.useState();Xt(()=>{m&&L(window.getComputedStyle(m).zIndex)},[m]);const B=x.useCallback(W=>{W&&b.current===!0&&(E(),P?.(),b.current=!1)},[E,P]);return i.jsx(x2,{scope:r,contentWrapper:f,shouldExpandOnScrollRef:j,onScrollButtonChange:B,children:i.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:i.jsx(Xe.div,{...a,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});Wx.displayName=v2;var y2="SelectPopperPosition",Fd=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:o="start",collisionPadding:a=qn,...c}=e,u=Xl(r);return i.jsx(hy,{...u,...c,ref:t,align:o,collisionPadding:a,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Fd.displayName=y2;var[x2,Mf]=Vo(Ws,{}),zd="SelectViewport",Ux=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:o,...a}=e,c=ms(zd,r),u=Mf(zd,r),f=ft(t,c.onViewportChange),p=x.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),i.jsx(Gl.Slot,{scope:r,children:i.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:f,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ve(a.onScroll,m=>{const g=m.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:w}=u;if(w?.current&&y){const j=Math.abs(p.current-g.scrollTop);if(j>0){const b=window.innerHeight-qn*2,_=parseFloat(y.style.minHeight),k=parseFloat(y.style.height),O=Math.max(_,k);if(O<b){const P=O+j,E=Math.min(b,P),T=P-E;y.style.height=E+"px",y.style.bottom==="0px"&&(g.scrollTop=T>0?T:0,y.style.justifyContent="flex-end")}}}p.current=g.scrollTop})})})]})});Ux.displayName=zd;var Bx="SelectGroup",[w2,_2]=Vo(Bx),b2=x.forwardRef((e,t)=>{const{__scopeSelect:r,...o}=e,a=Mr();return i.jsx(w2,{scope:r,id:a,children:i.jsx(Xe.div,{role:"group","aria-labelledby":a,...o,ref:t})})});b2.displayName=Bx;var Hx="SelectLabel",S2=x.forwardRef((e,t)=>{const{__scopeSelect:r,...o}=e,a=_2(Hx,r);return i.jsx(Xe.div,{id:a.id,...o,ref:t})});S2.displayName=Hx;var Dl="SelectItem",[k2,Vx]=Vo(Dl),qx=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:o,disabled:a=!1,textValue:c,...u}=e,f=ps(Dl,r),p=ms(Dl,r),m=f.value===o,[g,y]=x.useState(c??""),[w,j]=x.useState(!1),b=ft(t,P=>p.itemRefCallback?.(P,o,a)),_=Mr(),k=x.useRef("touch"),O=()=>{a||(f.onValueChange(o),f.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(k2,{scope:r,value:o,disabled:a,textId:_,isSelected:m,onItemTextChange:x.useCallback(P=>{y(E=>E||(P?.textContent??"").trim())},[]),children:i.jsx(Gl.ItemSlot,{scope:r,value:o,disabled:a,textValue:g,children:i.jsx(Xe.div,{role:"option","aria-labelledby":_,"data-highlighted":w?"":void 0,"aria-selected":m&&w,"data-state":m?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...u,ref:b,onFocus:Ve(u.onFocus,()=>j(!0)),onBlur:Ve(u.onBlur,()=>j(!1)),onClick:Ve(u.onClick,()=>{k.current!=="mouse"&&O()}),onPointerUp:Ve(u.onPointerUp,()=>{k.current==="mouse"&&O()}),onPointerDown:Ve(u.onPointerDown,P=>{k.current=P.pointerType}),onPointerMove:Ve(u.onPointerMove,P=>{k.current=P.pointerType,a?p.onItemLeave?.():k.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ve(u.onPointerLeave,P=>{P.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:Ve(u.onKeyDown,P=>{p.searchRef?.current!==""&&P.key===" "||(l2.includes(P.key)&&O(),P.key===" "&&P.preventDefault())})})})})});qx.displayName=Dl;var Ea="SelectItemText",Yx=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:o,style:a,...c}=e,u=ps(Ea,r),f=ms(Ea,r),p=Vx(Ea,r),m=f2(Ea,r),[g,y]=x.useState(null),w=ft(t,O=>y(O),p.onItemTextChange,O=>f.itemTextRefCallback?.(O,p.value,p.disabled)),j=g?.textContent,b=x.useMemo(()=>i.jsx("option",{value:p.value,disabled:p.disabled,children:j},p.value),[p.disabled,p.value,j]),{onNativeOptionAdd:_,onNativeOptionRemove:k}=m;return Xt(()=>(_(b),()=>k(b)),[_,k,b]),i.jsxs(i.Fragment,{children:[i.jsx(Xe.span,{id:p.textId,...c,ref:w}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Fa.createPortal(c.children,u.valueNode):null]})});Yx.displayName=Ea;var Kx="SelectItemIndicator",Gx=x.forwardRef((e,t)=>{const{__scopeSelect:r,...o}=e;return Vx(Kx,r).isSelected?i.jsx(Xe.span,{"aria-hidden":!0,...o,ref:t}):null});Gx.displayName=Kx;var Wd="SelectScrollUpButton",Qx=x.forwardRef((e,t)=>{const r=ms(Wd,e.__scopeSelect),o=Mf(Wd,e.__scopeSelect),[a,c]=x.useState(!1),u=ft(t,o.onScrollButtonChange);return Xt(()=>{if(r.viewport&&r.isPositioned){let f=function(){const m=p.scrollTop>0;c(m)};const p=r.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),a?i.jsx(Jx,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=r;f&&p&&(f.scrollTop=f.scrollTop-p.offsetHeight)}}):null});Qx.displayName=Wd;var Ud="SelectScrollDownButton",Xx=x.forwardRef((e,t)=>{const r=ms(Ud,e.__scopeSelect),o=Mf(Ud,e.__scopeSelect),[a,c]=x.useState(!1),u=ft(t,o.onScrollButtonChange);return Xt(()=>{if(r.viewport&&r.isPositioned){let f=function(){const m=p.scrollHeight-p.clientHeight,g=Math.ceil(p.scrollTop)<m;c(g)};const p=r.viewport;return f(),p.addEventListener("scroll",f),()=>p.removeEventListener("scroll",f)}},[r.viewport,r.isPositioned]),a?i.jsx(Jx,{...e,ref:u,onAutoScroll:()=>{const{viewport:f,selectedItem:p}=r;f&&p&&(f.scrollTop=f.scrollTop+p.offsetHeight)}}):null});Xx.displayName=Ud;var Jx=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:o,...a}=e,c=ms("SelectScrollButton",r),u=x.useRef(null),f=Ql(r),p=x.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return x.useEffect(()=>()=>p(),[p]),Xt(()=>{f().find(g=>g.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[f]),i.jsx(Xe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:Ve(a.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(o,50))}),onPointerMove:Ve(a.onPointerMove,()=>{c.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(o,50))}),onPointerLeave:Ve(a.onPointerLeave,()=>{p()})})}),j2="SelectSeparator",N2=x.forwardRef((e,t)=>{const{__scopeSelect:r,...o}=e;return i.jsx(Xe.div,{"aria-hidden":!0,...o,ref:t})});N2.displayName=j2;var Bd="SelectArrow",C2=x.forwardRef((e,t)=>{const{__scopeSelect:r,...o}=e,a=Xl(r),c=ps(Bd,r),u=ms(Bd,r);return c.open&&u.position==="popper"?i.jsx(py,{...a,...o,ref:t}):null});C2.displayName=Bd;var E2="SelectBubbleInput",Zx=x.forwardRef(({__scopeSelect:e,value:t,...r},o)=>{const a=x.useRef(null),c=ft(o,a),u=a2(t);return x.useEffect(()=>{const f=a.current;if(!f)return;const p=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==t&&g){const y=new Event("change",{bubbles:!0});g.call(f,t),f.dispatchEvent(y)}},[u,t]),i.jsx(Xe.select,{...r,style:{...my,...r.style},ref:c,defaultValue:t})});Zx.displayName=E2;function e0(e){return e===""||e===void 0}function t0(e){const t=us(e),r=x.useRef(""),o=x.useRef(0),a=x.useCallback(u=>{const f=r.current+u;t(f),(function p(m){r.current=m,window.clearTimeout(o.current),m!==""&&(o.current=window.setTimeout(()=>p(""),1e3))})(f)},[t]),c=x.useCallback(()=>{r.current="",window.clearTimeout(o.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(o.current),[]),[r,a,c]}function n0(e,t,r){const a=t.length>1&&Array.from(t).every(m=>m===t[0])?t[0]:t,c=r?e.indexOf(r):-1;let u=P2(e,Math.max(c,0));a.length===1&&(u=u.filter(m=>m!==r));const p=u.find(m=>m.textValue.toLowerCase().startsWith(a.toLowerCase()));return p!==r?p:void 0}function P2(e,t){return e.map((r,o)=>e[(t+o)%e.length])}var T2=Ox,O2=Rx,D2=Ax,R2=Ix,M2=Lx,A2=$x,I2=Ux,L2=qx,$2=Yx,F2=Gx,z2=Qx,W2=Xx;function U2({...e}){return i.jsx(T2,{"data-slot":"select",...e})}function B2({...e}){return i.jsx(D2,{"data-slot":"select-value",...e})}function H2({className:e,size:t="default",children:r,...o}){return i.jsxs(O2,{"data-slot":"select-trigger","data-size":t,className:$e("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...o,children:[r,i.jsx(R2,{asChild:!0,children:i.jsx(Kg,{className:"size-4 opacity-50"})})]})}function V2({className:e,children:t,position:r="popper",...o}){return i.jsx(M2,{children:i.jsxs(A2,{"data-slot":"select-content",className:$e("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...o,children:[i.jsx(Y2,{}),i.jsx(I2,{className:$e("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),i.jsx(K2,{})]})})}function q2({className:e,children:t,...r}){return i.jsxs(L2,{"data-slot":"select-item",className:$e("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[i.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:i.jsx(F2,{children:i.jsx(__,{className:"size-4"})})}),i.jsx($2,{children:t})]})}function Y2({className:e,...t}){return i.jsx(z2,{"data-slot":"select-scroll-up-button",className:$e("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(E_,{className:"size-4"})})}function K2({className:e,...t}){return i.jsx(W2,{"data-slot":"select-scroll-down-button",className:$e("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Kg,{className:"size-4"})})}function G2({attendance:e,attnYearMonth:t,setAttnYearMonth:r,student:o,onReload:a}){const c=u=>u?e.find(f=>f.id===u):null;return i.jsxs(Gt,{className:"shrink-0",children:[i.jsx(mn,{className:"pb-2",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(gn,{className:"text-sm",children:"출석 현황"}),e.length>0&&i.jsx("div",{className:"w-40",children:i.jsxs(U2,{value:t,onValueChange:r,children:[i.jsx(H2,{className:"h-8",children:i.jsx(B2,{placeholder:"연-월 선택"})}),i.jsx(V2,{children:[...new Set(e.filter(u=>u.classes?.date).map(u=>u.classes.date.slice(0,7)))].sort().reverse().map(u=>i.jsx(q2,{value:u,children:u},u))})]})})]})}),i.jsx(on,{className:"pt-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Va,{className:"w-full text-xs",children:[i.jsx(qa,{children:i.jsxs(an,{children:[i.jsx(rt,{className:"text-left p-2",children:"날짜"}),i.jsx(rt,{className:"text-left p-2",children:"시간"}),i.jsx(rt,{className:"text-left p-2",children:"구분"}),i.jsx(rt,{className:"text-left p-2",children:"상태"}),i.jsx(rt,{className:"text-left p-2",children:"메모"})]})}),i.jsxs(Ya,{children:[e.filter(u=>u.classes?.date&&u.classes.date.startsWith(t)).sort((u,f)=>(u.classes.date+(u.classes.time||"")).localeCompare(f.classes.date+(f.classes.time||""))).map(u=>i.jsxs(an,{className:"border-t",children:[i.jsx(Qe,{className:"p-2 whitespace-nowrap",children:u.classes?.date?gt(new Date(u.classes.date),"MM/dd (E)",{locale:rn}):"-"}),i.jsx(Qe,{className:"p-2 whitespace-nowrap",children:u.classes?.time?u.classes.time.slice(0,5):"-"}),i.jsx(Qe,{className:"p-2",children:i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx(Lt,{variant:"outline",className:u.kind==="보강"?"bg-orange-50 text-orange-700 border-orange-200":"bg-blue-50 text-blue-700 border-blue-200",children:u.kind||(u.makeup_of_attendance_id?"보강":"정규")}),u.kind==="보강"&&u.makeup_of_attendance_id&&(()=>{const f=c(u.makeup_of_attendance_id);return f&&f.classes?.date?i.jsxs("div",{className:"text-xs text-muted-foreground",children:[gt(new Date(f.classes.date),"MM/dd",{locale:rn})," 수업"]}):null})()]})}),i.jsx(Qe,{className:"p-2",children:i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("div",{className:"flex gap-1",children:["예정","출석","결석"].map(f=>i.jsx("button",{className:`text-xs px-2 py-1 rounded border transition-colors ${u.status===f?"bg-primary text-primary-foreground border-primary":"bg-background hover:bg-accent border-input"}`,onClick:async()=>{if(u.status!==f)try{await se.from("attendance").update({status:f}).eq("id",u.id),a()}catch(p){console.error("출석 상태 변경 실패:",p)}},children:f},f))})})}),i.jsx(Qe,{className:"p-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"text-ellipsis overflow-hidden whitespace-nowrap max-w-[180px]",title:u.note||"",children:u.note}),i.jsx(La,{hasNote:!!u.note,note:u.note||"",label:`${o?.name||""} 메모`,meta:`${u.classes?.date?gt(new Date(u.classes.date),"yyyy-MM-dd (E)",{locale:rn}):""}${u.classes?.time?" "+u.classes.time.slice(0,5):""}`,onSave:async f=>{try{await se.from("attendance").update({note:f}).eq("id",u.id),a()}catch(p){console.error("메모 업데이트 실패:",p)}}})]})})]},u.id)),e.filter(u=>u.classes?.date&&u.classes.date.startsWith(t)).length===0&&i.jsx(an,{children:i.jsx(Qe,{colSpan:6,className:"p-4 text-center text-muted-foreground",children:"기록 없음"})})]})]})})})]})}function Q2({payments:e,student:t,onReload:r}){const[o,a]=x.useState(!1),[c,u]=x.useState(!1),[f,p]=x.useState(null),[m,g]=x.useState({payment_date:"",payment_month:"",total_amount:"",payment_method:"account",shoe_discount:"0",sibling_discount:"0",additional_discount:"0"}),y=b=>{p(b),g({payment_date:b.payment_date,payment_month:b.payment_month||"",total_amount:b.total_amount.toString(),payment_method:b.payment_method||"account",shoe_discount:(b.shoe_discount||0).toString(),sibling_discount:(b.sibling_discount||0).toString(),additional_discount:(b.additional_discount||0).toString()}),a(!0)},w=async()=>{if(f)try{const{error:b}=await se.from("payments").update({payment_date:m.payment_date,payment_month:m.payment_month||null,total_amount:parseInt(m.total_amount),payment_method:m.payment_method,shoe_discount:parseInt(m.shoe_discount),sibling_discount:parseInt(m.sibling_discount),additional_discount:parseInt(m.additional_discount)}).eq("id",f.id);if(b)throw b;a(!1),p(null),r()}catch(b){console.error("결제 정보 수정 실패:",b),alert("결제 정보 수정에 실패했습니다.")}},j=async()=>{if(f)try{const{error:b}=await se.from("payments").delete().eq("id",f.id);if(b)throw b;u(!1),p(null),r()}catch(b){console.error("결제 정보 삭제 실패:",b),alert("결제 정보 삭제에 실패했습니다.")}};return i.jsxs(i.Fragment,{children:[i.jsxs(Gt,{className:"shrink-0",children:[i.jsx(mn,{className:"pb-1",children:i.jsx(gn,{className:"text-sm",children:"결제 내역"})}),i.jsx(on,{className:"pt-0",children:e.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Va,{children:[i.jsx(qa,{children:i.jsxs(an,{children:[i.jsx(rt,{className:"text-xs p-1",children:"결제일"}),i.jsx(rt,{className:"text-xs p-1",children:"해당월"}),i.jsx(rt,{className:"text-xs p-1",children:"금액"}),i.jsx(rt,{className:"text-xs p-1",children:"결제수단"}),i.jsx(rt,{className:"text-xs p-1",children:"할인"}),i.jsx(rt,{className:"text-xs p-1 w-16",children:"액션"})]})}),i.jsx(Ya,{children:e.map(b=>{let _="";if(b.payment_month){const[B,W]=b.payment_month.split("-");_=`${B}년 ${parseInt(W)}월`}else{const B=new Date(b.payment_date);_=`${B.getFullYear()}년 ${B.getMonth()+1}월`}const k=b.payment_method==="account"?"계좌이체":b.payment_method==="card"?"카드결제":b.payment_method==="voucher"?"스포츠바우처":"미지정",O=b.shoe_discount||0,P=b.sibling_discount||0,E=b.additional_discount||0,T=O+P+E;b.total_amount+T;const L=[];return O>0&&L.push("신발"),P>0&&L.push("형제자매"),E>0&&L.push("추가"),i.jsxs(an,{className:"text-xs",children:[i.jsx(Qe,{className:"py-1 px-1",children:b.payment_date}),i.jsx(Qe,{className:"py-1 px-1 font-medium text-blue-600",children:_}),i.jsxs(Qe,{className:"py-1 px-1 font-medium",children:[b.total_amount.toLocaleString(),"원"]}),i.jsx(Qe,{className:"py-1 px-1",children:k}),i.jsx(Qe,{className:"py-1 px-1",children:L.length===0?i.jsx("div",{className:"text-gray-400",children:"-"}):i.jsx("div",{className:"space-y-0.5",children:i.jsxs("div",{className:"text-[11px] text-gray-600",children:[O>0&&i.jsxs("span",{children:["신발 -",O.toLocaleString()," "]}),P>0&&i.jsxs("span",{children:["형제자매 -",P.toLocaleString()," "]}),E>0&&i.jsxs("span",{children:["추가 -",E.toLocaleString()]})]})})}),i.jsx(Qe,{className:"py-1 px-1",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(me,{size:"sm",variant:"outline",className:"h-6 w-6 p-0",onClick:()=>y(b),children:i.jsx(B_,{className:"h-3 w-3"})}),i.jsx(me,{size:"sm",variant:"outline",className:"h-6 w-6 p-0 text-red-600 hover:text-red-700",onClick:()=>{p(b),u(!0)},children:i.jsx(bl,{className:"h-3 w-3"})})]})})]},b.id)})})]})}):i.jsxs("div",{className:"text-center text-muted-foreground py-4",children:[i.jsx("div",{className:"text-2xl mb-1",children:"📄"}),i.jsx("div",{className:"text-xs",children:"결제 내역이 없습니다."})]})})]}),i.jsx(St,{open:o,onOpenChange:a,children:i.jsxs(_t,{type:"m",children:[i.jsx(Ot,{children:i.jsx(Dt,{children:"결제 정보 수정"})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"text-xs text-muted-foreground",children:["결제일 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(He,{type:"date",value:m.payment_date,onChange:b=>g({...m,payment_date:b.target.value}),className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"해당월"}),i.jsx(He,{type:"month",value:m.payment_month,onChange:b=>g({...m,payment_month:b.target.value}),className:"mt-1",placeholder:"YYYY-MM"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-xs text-muted-foreground",children:["결제금액 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(He,{type:"number",value:m.total_amount,onChange:b=>g({...m,total_amount:b.target.value}),className:"mt-1",min:"0"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"결제수단"}),i.jsxs("select",{value:m.payment_method,onChange:b=>g({...m,payment_method:b.target.value}),className:"w-full p-2 border rounded mt-1",children:[i.jsx("option",{value:"account",children:"계좌이체"}),i.jsx("option",{value:"card",children:"카드결제"}),i.jsx("option",{value:"voucher",children:"스포츠바우처"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"신발할인"}),i.jsx(He,{type:"number",value:m.shoe_discount,onChange:b=>g({...m,shoe_discount:b.target.value}),className:"mt-1",min:"0"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"형제자매할인"}),i.jsx(He,{type:"number",value:m.sibling_discount,onChange:b=>g({...m,sibling_discount:b.target.value}),className:"mt-1",min:"0"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"추가할인"}),i.jsx(He,{type:"number",value:m.additional_discount,onChange:b=>g({...m,additional_discount:b.target.value}),className:"mt-1",min:"0"})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 p-4 pt-0 border-t",children:[i.jsx(me,{variant:"outline",onClick:()=>a(!1),children:"취소"}),i.jsx(me,{onClick:w,children:"저장"})]})]})}),i.jsx(St,{open:c,onOpenChange:u,children:i.jsxs(_t,{type:"s",children:[i.jsx(Ot,{children:i.jsx(Dt,{children:"결제 정보 삭제"})}),i.jsxs("div",{className:"p-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"정말로 이 결제 정보를 삭제하시겠습니까?"}),f&&i.jsxs("div",{className:"bg-muted/50 p-3 rounded text-sm",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"결제일:"})," ",f.payment_date]}),i.jsxs("div",{children:[i.jsx("strong",{children:"금액:"})," ",f.total_amount.toLocaleString(),"원"]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 p-4 pt-0 border-t",children:[i.jsx(me,{variant:"outline",onClick:()=>u(!1),children:"취소"}),i.jsx(me,{variant:"destructive",onClick:j,children:"삭제"})]})]})})]})}function X2(e,t){const[r,o]=x.useState(null),[a,c]=x.useState([]),[u,f]=x.useState([]),[p,m]=x.useState([]),[g,y]=x.useState([]),[w,j]=x.useState(new Date().toISOString().slice(0,7)),[b,_]=x.useState(!1),k=x.useCallback(async O=>{try{_(!0);const{data:P,error:E}=await se.from("students").select("*, memo, memo_isopen, student_schedules ( weekday, time, group_type ), student_levels ( level, created_at )").eq("id",O).single();if(E)throw E;const T=(P?.student_schedules||[]).map(q=>({weekday:q.weekday,time:q.time,group_type:q.group_type}));o({id:P.id,name:P.name,gender:P.gender,birth_date:P.birth_date,shoe_size:P.shoe_size,phone:P.phone,registration_date:P.registration_date,class_type_id:P.class_type_id,current_level:P.current_level,status:P.status,schedules:T,...P.memo!==void 0?{memo:P.memo}:{},...P.memo_isopen!==void 0?{memo_isopen:P.memo_isopen}:{}}),f((P?.student_levels||[]).map(q=>({level:q.level,acquired_date:q.created_at})));const{data:L}=await se.from("class_types").select("*");c(L||[]);const{data:B}=await se.from("payments").select("*").eq("student_id",O).order("payment_date",{ascending:!1});y(B||[]);const{data:W}=await se.from("attendance").select("id, status, kind, note, note_isopen, makeup_of_attendance_id, classes:classes(date, time)").eq("student_id",O).order("created_at",{ascending:!1});m(W||[]);const A=W||[];if(A.length>0){const q=A.find(Y=>Y.classes?.date)?.classes?.date;q&&j(q.slice(0,7))}}finally{_(!1)}},[]);return x.useEffect(()=>{t&&e?k(e):(o(null),f([]),m([]),y([]))},[t,e,k]),{student:r,classTypes:a,levelHistories:u,attendance:p,payments:g,attnYearMonth:w,setAttnYearMonth:j,loading:b,reload:()=>e&&k(e)}}function J2({open:e,onOpenChange:t,confirmName:r,setConfirmName:o,studentName:a,onConfirm:c}){return i.jsx(St,{open:e,onOpenChange:t,children:i.jsxs(_t,{type:"s",children:[i.jsx(Ot,{children:i.jsx(Dt,{children:"학생 삭제 확인"})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:["정말로 ",i.jsx("strong",{children:a})," 학생을 삭제하시겠습니까? 이 작업은 되돌릴 수 없습니다."]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"확인을 위해 학생 이름을 입력하세요."}),i.jsx(He,{value:r,onChange:u=>o(u.target.value),placeholder:"학생 이름"}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(me,{variant:"outline",onClick:()=>{t(!1),o("")},children:"취소"}),i.jsx(me,{variant:"destructive",disabled:r!==a,onClick:c,children:"삭제"})]})]})]})})}function Z2({isOpen:e,onClose:t,student:r,classTypes:o,onSaved:a,onDeleted:c}){const[u,f]=x.useState(null),[p,m]=x.useState([]),[g,y]=x.useState({}),w=["월","화","수","목","금","토","일"],[j,b]=x.useState(!1),[_,k]=x.useState(""),O=Sn.useMemo(()=>{if(!u)return null;const A=u.class_type_id?parseInt(u.class_type_id):NaN;return Number.isNaN(A)?null:o.find(q=>q.id===A)||null},[u,o]),P=Sn.useMemo(()=>{const A=new Set;let q=!1;for(const ce of p){const we=`${ce.weekday}-${ce.time}-${ce.group_type}`;if(A.has(we)){q=!0;break}A.add(we)}const Y=O?.sessions_per_week,Z=!!Y&&p.length!==Y;return{hasDuplicate:q,countMismatch:Z,required:Y??null}},[p,O]);x.useEffect(()=>{if(!r){f(null),m([]);return}f({name:r.name,birth_date:r.birth_date,phone:r.phone,class_type_id:r.class_type_id?String(r.class_type_id):"",gender:r.gender||"남",status:r.status,shoe_size:r.shoe_size?String(r.shoe_size):""}),m((r.schedules||[]).map(A=>({weekday:A.weekday,time:A.time,group_type:A.group_type}))),(async()=>{if(!r)return;const{data:A,error:q}=await se.from("student_levels").select("level, acquired_date").eq("student_id",r.id);if(!q&&A){const Y={};A.forEach(Z=>{Y[Z.level]=Z.acquired_date?.slice(0,10)||""}),y(Y)}else y({})})()},[r]);const E=()=>m(A=>[...A,{weekday:0,time:"00:00",group_type:"일반1"}]),T=A=>m(q=>q.filter((Y,Z)=>Z!==A)),L=(A,q,Y)=>m(Z=>{const ce=[...Z];return ce[A][q]=Y,ce}),B=async()=>{if(!(!r||!u)&&!(P.hasDuplicate||P.countMismatch))try{const A={name:u.name,birth_date:u.birth_date,phone:u.phone,class_type_id:u.class_type_id?parseInt(u.class_type_id):null,gender:u.gender,status:u.status,shoe_size:u.shoe_size||null};{const{error:q}=await se.from("students").update(A).eq("id",r.id);if(q)throw q}{const{error:q}=await se.from("student_schedules").delete().eq("student_id",r.id);if(q)throw q;const Y=p.map(Z=>({student_id:r.id,weekday:Z.weekday,time:Z.time,group_type:Z.group_type}));if(console.log("삽입할 스케줄 데이터:",Y),Y.length){const{error:Z}=await se.from("student_schedules").insert(Y);if(Z)throw console.error("스케줄 삽입 에러:",Z),Z}}{const{error:q}=await se.from("student_levels").delete().eq("student_id",r.id);if(q)throw q;const Z=["WHITE","YELLOW","GREEN","BLUE","RED","BLACK","GOLD"].filter(ce=>g[ce]).map(ce=>({student_id:r.id,level:ce,acquired_date:g[ce]}));if(Z.length){const{error:ce}=await se.from("student_levels").insert(Z);if(ce)throw ce}}a(),t()}catch(A){console.error("학생 저장 실패:",A),console.error("에러 상세:",JSON.stringify(A,null,2))}},W=async()=>{if(r)try{const A=["attendance","payments","student_schedules","student_levels"];for(const q of A){const{error:Y}=await se.from(q).delete().eq("student_id",r.id);if(Y)throw Y}{const{error:q}=await se.from("students").delete().eq("id",r.id);if(q)throw q}c(),t()}catch(A){console.error("학생 삭제 실패:",A)}};return i.jsxs(St,{open:e,onOpenChange:t,children:[i.jsxs(_t,{type:"m",children:[i.jsx(Ot,{children:i.jsx(Dt,{children:"학생 정보 수정"})}),u?i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 p-4 pt-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"이름"}),i.jsx(He,{value:u.name,onChange:A=>f(q=>q&&{...q,name:A.target.value}),placeholder:"학생 이름"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"생년월일"}),i.jsx(He,{type:"date",inputMode:"numeric",value:u.birth_date,max:new Date().toISOString().slice(0,10),min:"2000-01-01",onChange:A=>{const q=(A.target.value||"").slice(0,10);f(Y=>Y&&{...Y,birth_date:q})}})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"성별"}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx(me,{type:"button",variant:u.gender==="남"?"default":"outline",size:"sm",onClick:()=>f(A=>A&&{...A,gender:"남"}),children:"남"}),i.jsx(me,{type:"button",variant:u.gender==="여"?"default":"outline",size:"sm",onClick:()=>f(A=>A&&{...A,gender:"여"}),children:"여"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"전화번호"}),i.jsx(He,{value:u.phone,onChange:A=>f(q=>q&&{...q,phone:A.target.value}),placeholder:"010-1234-5678"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"재원 상태"}),i.jsxs("select",{className:"w-full p-2 border rounded",value:u.status,onChange:A=>f(q=>q&&{...q,status:A.target.value}),children:[i.jsx("option",{value:"재원",children:"재원"}),i.jsx("option",{value:"휴원",children:"휴원"}),i.jsx("option",{value:"퇴원",children:"퇴원"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"신발 사이즈"}),i.jsx(He,{placeholder:"mm",value:u.shoe_size,onChange:A=>f(q=>q&&{...q,shoe_size:A.target.value})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"등록반"}),i.jsxs("select",{className:"w-full p-2 border rounded",value:u.class_type_id,onChange:A=>f(q=>q&&{...q,class_type_id:A.target.value}),children:[i.jsx("option",{value:"",children:"선택"}),o.map(A=>i.jsxs("option",{value:A.id,children:[A.category," 주 ",A.sessions_per_week,"회"]},A.id))]})]})]}),i.jsxs("div",{className:"px-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"text-sm font-medium",children:"수업 시간"}),i.jsx(me,{type:"button",variant:"outline",size:"sm",onClick:E,children:"시간 추가"})]}),P.hasDuplicate&&i.jsx("div",{className:"text-xs text-red-600 mb-2",children:"수업 시간이 중복되었습니다. 요일/시간/그룹이 동일한 항목이 있습니다."}),P.countMismatch&&i.jsxs("div",{className:"text-xs text-red-600 mb-2",children:["현재 선택한 반은 주 ",P.required,"회 수업입니다. 시간 수가 일치하지 않습니다."]}),i.jsxs("div",{className:"space-y-2",children:[p.map((A,q)=>i.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[i.jsx("select",{value:A.weekday,onChange:Y=>L(q,"weekday",parseInt(Y.target.value)),className:"p-1 text-sm border rounded",children:w.map((Y,Z)=>i.jsx("option",{value:Z,children:Y},Z))}),i.jsx("select",{value:A.time,onChange:Y=>L(q,"time",Y.target.value),className:"p-1 text-sm border rounded",children:Array.from({length:24},(Y,Z)=>{const ce=Z.toString().padStart(2,"0");return i.jsxs("option",{value:`${ce}:00`,children:[ce,":00"]},Z)})}),i.jsx("select",{value:A.group_type,onChange:Y=>L(q,"group_type",Y.target.value),className:"p-1 text-sm border rounded",children:["일반1","일반2","스페셜","체험"].map(Y=>i.jsx("option",{value:Y,children:Y},Y))}),i.jsx(me,{type:"button",variant:"outline",size:"sm",className:"text-red-600",onClick:()=>T(q),children:"삭제"})]},q)),p.length===0&&i.jsx("div",{className:"text-sm text-muted-foreground",children:"수업 시간을 추가해주세요"})]}),i.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:"수업 시간 변경은 다음 출석부 생성부터 반영됩니다."})]}),i.jsxs("div",{className:"px-4",children:[i.jsx("div",{className:"text-sm font-medium mb-2",children:"레벨 이력"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["WHITE","YELLOW","GREEN","BLUE","RED","BLACK","GOLD"].map(A=>i.jsxs("div",{className:"p-2 border rounded",children:[i.jsx("div",{className:"flex items-center gap-2 mb-2",children:i.jsx("div",{className:"text-xs font-medium",children:A})}),i.jsx(He,{type:"date",value:g[A]||"",onChange:q=>y(Y=>({...Y,[A]:q.target.value}))})]},A))}),i.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"빈 값이면 해당 레벨 이력은 삭제됩니다."})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 pt-2",children:[i.jsx(me,{variant:"outline",className:"text-red-600",onClick:()=>{k(""),b(!0)},children:"학생 삭제"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(me,{variant:"outline",onClick:t,children:"취소"}),i.jsx(me,{onClick:B,disabled:P.hasDuplicate||P.countMismatch,title:P.hasDuplicate||P.countMismatch?"수업 시간 검증 오류로 저장할 수 없습니다.":"",children:"저장"})]})]})]}):i.jsx("div",{className:"p-6 text-center text-muted-foreground",children:"불러오는 중..."})]}),i.jsx(J2,{open:j,onOpenChange:b,confirmName:_,setConfirmName:k,studentName:r?.name||"",onConfirm:async()=>{await W(),b(!1),k("")}})]})}function eO({open:e,onOpenChange:t,newPayment:r,setNewPayment:o,onSubmit:a}){return i.jsx(St,{open:e,onOpenChange:t,children:i.jsxs(_t,{type:"s",children:[i.jsx(Ot,{children:i.jsx(Dt,{children:"결제 추가"})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"결제일"}),i.jsx(He,{type:"date",value:r.payment_date,onChange:c=>o(u=>({...u,payment_date:c.target.value}))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"해당월"}),i.jsx(He,{type:"month",value:r.payment_month,onChange:c=>o(u=>({...u,payment_month:c.target.value}))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"정가"}),i.jsx(He,{type:"number",value:r.total_amount,onChange:c=>o(u=>({...u,total_amount:c.target.value}))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"결제수단"}),i.jsxs("select",{className:"w-full p-2 border rounded",value:r.payment_method,onChange:c=>o(u=>({...u,payment_method:c.target.value})),children:[i.jsx("option",{value:"account",children:"계좌이체"}),i.jsx("option",{value:"card",children:"카드결제"}),i.jsx("option",{value:"voucher",children:"스포츠바우처"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"신발 할인"}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx(me,{type:"button",variant:r.shoe_discount==="0"?"default":"outline",size:"sm",onClick:()=>o(c=>({...c,shoe_discount:"0"})),children:"0"}),i.jsx(me,{type:"button",variant:r.shoe_discount==="10000"?"default":"outline",size:"sm",onClick:()=>o(c=>({...c,shoe_discount:"10000"})),children:"10,000"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"형제자매 할인"}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx(me,{type:"button",variant:r.sibling_discount==="0"?"default":"outline",size:"sm",onClick:()=>o(c=>({...c,sibling_discount:"0"})),children:"0"}),i.jsx(me,{type:"button",variant:r.sibling_discount==="10000"?"default":"outline",size:"sm",onClick:()=>o(c=>({...c,sibling_discount:"10000"})),children:"10,000"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"추가 할인"}),i.jsx(He,{type:"number",value:r.additional_discount,onChange:c=>o(u=>({...u,additional_discount:c.target.value}))})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(me,{variant:"outline",onClick:()=>t(!1),children:"취소"}),i.jsx(me,{onClick:a,children:"추가"})]})]})})}function r0({isOpen:e,onClose:t,studentId:r}){const{student:o,classTypes:a,levelHistories:c,attendance:u,payments:f,attnYearMonth:p,setAttnYearMonth:m,loading:g,reload:y}=X2(r,e),[w,j]=x.useState(!1),[b,_]=x.useState(!1),[k,O]=x.useState({payment_date:new Date().toISOString().slice(0,10),payment_month:new Date().toISOString().slice(0,7),total_amount:"",payment_method:"account",shoe_discount:"0",sibling_discount:"0",additional_discount:"0"});return i.jsxs(i.Fragment,{children:[i.jsx(St,{open:e,onOpenChange:t,children:i.jsx(_t,{type:"m",children:g?i.jsx("div",{className:"p-6 text-center text-muted-foreground"}):o?i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("div",{className:"space-y-2",children:i.jsx(s2,{student:o,classTypes:a,onReload:y})}),i.jsx(o2,{levelHistories:c,student:o,onReload:y}),i.jsx(G2,{attendance:u,attnYearMonth:p,setAttnYearMonth:m,student:o,onReload:y}),i.jsx(Q2,{payments:f,student:o,onReload:y}),i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx(me,{variant:"outline",onClick:()=>j(!0),children:"정보 수정"}),i.jsx(me,{onClick:()=>_(!0),children:"결제 추가"})]})]}):i.jsx("div",{className:"p-6 text-center text-muted-foreground",children:"학생 정보를 찾을 수 없습니다."})})}),i.jsx(Z2,{isOpen:w,onClose:()=>j(!1),student:o||null,classTypes:a,onSaved:y,onDeleted:y}),i.jsx(eO,{open:b,onOpenChange:_,newPayment:k,setNewPayment:O,onSubmit:async()=>{if(!o)return;const P=parseInt(k.total_amount||"0")||0,E=parseInt(k.shoe_discount||"0")||0,T=parseInt(k.sibling_discount||"0")||0,L=parseInt(k.additional_discount||"0")||0,B=Math.max(0,P-E-T-L);await se.from("payments").insert({student_id:o.id,payment_date:k.payment_date,payment_month:k.payment_month,total_amount:B,shoe_discount:E,sibling_discount:T,additional_discount:L,payment_method:k.payment_method}),_(!1),y()}})]})}const tO={예정:"#ffffff",출석:"#22c55e",결석:"#ef4444",보강:"#38bdf8"},nO={예정:"#ffffff",출석:"#dcfce7",결석:"#fee2e2",보강:"#e0f2fe"},rO={예정:"#e5e7eb",출석:"#22c55e",결석:"#ef4444",보강:"#38bdf8"};function $g(e,t,r){return!(e==="보강"&&t==="예정")}function sO(e,t,r){return e==="보강"&&t==="예정"||e==="정규"&&r?"보강":t}function oO(e,t,r){const o=sO(e,t,r);return{display:o,bg:nO[o],color:tO[o],border:rO[o]}}function Af({isOpen:e,onClose:t,reservationId:r}){const[o,a]=x.useState(null),[c,u]=x.useState(!1),[f,p]=x.useState(!1),[m,g]=x.useState({name:"",phone:"",gender:"",grade:"",status:"예정",note:"",trial_date:"",trial_time:""}),[y,w]=x.useState(""),[j,b]=x.useState(!1);x.useEffect(()=>{e&&r&&_(r)},[e,r]);const _=async E=>{try{u(!0);const{data:T,error:L}=await se.from("trial_reservations").select("*, classes:classes(id, date, time, group_type)").eq("id",E).single();if(L)throw L;a(T),g({name:T.name||"",phone:T.phone||"",gender:T.gender||"",grade:T.grade||"",status:T.status||"예정",note:T.note||"",trial_date:T.classes?.date||"",trial_time:T.classes?.time||""})}catch(T){console.error("체험 예약 정보 로드 실패:",T)}finally{u(!1)}},k=async()=>{if(o)try{u(!0);let E=o.class_id;if(m.trial_date&&m.trial_time&&(m.trial_date!==o.classes?.date||m.trial_time!==o.classes?.time)){const{data:W}=await se.from("classes").select("id").eq("date",m.trial_date).eq("time",m.trial_time).eq("group_type","체험").maybeSingle();if(W?.id)E=W.id;else{const{data:A,error:q}=await se.from("classes").insert({date:m.trial_date,time:m.trial_time,group_type:"체험"}).select("id").single();if(q||!A?.id)throw new Error("클래스 생성에 실패했습니다.");E=A.id}}const T={name:m.name,phone:m.phone,gender:m.gender,grade:m.grade,status:m.status,note:m.note,class_id:E};console.log("업데이트할 데이터:",T),console.log("업데이트 대상 ID:",o.id);const{error:L}=await se.from("trial_reservations").update(T).eq("id",o.id);if(console.log("업데이트 결과 에러:",L),L)throw console.error("Supabase 에러 상세:",{message:L.message,details:L.details,hint:L.hint,code:L.code}),L;await _(o.id),p(!1)}catch(E){console.error("체험자 정보 수정 실패:",E),console.error("Error details:",JSON.stringify(E,null,2)),alert(`정보 수정에 실패했습니다: ${E instanceof Error?E.message:JSON.stringify(E)}`)}finally{u(!1)}},O=async()=>{if(o&&y.trim()===o.name)try{b(!0);const{error:E}=await se.from("trial_reservations").delete().eq("id",o.id);if(E)throw E;alert("체험자 예약이 삭제되었습니다."),t()}catch(E){console.error("체험자 삭제 실패:",E),alert("삭제에 실패했습니다.")}finally{b(!1)}},P=()=>{o&&(g({name:o.name||"",phone:o.phone||"",gender:o.gender||"",grade:o.grade||"",status:o.status||"예정",note:o.note||"",trial_date:o.classes?.date||"",trial_time:o.classes?.time||""}),p(!1))};return i.jsx(St,{open:e,onOpenChange:t,children:i.jsxs(_t,{type:"m",children:[i.jsx(Ot,{children:i.jsx(Dt,{children:"체험자 정보"})}),c?i.jsx("div",{className:"p-6 text-center text-muted-foreground",children:"로딩 중..."}):o?i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Gt,{children:[i.jsx(mn,{className:"pb-3",children:i.jsxs(gn,{className:"text-lg flex items-center justify-between",children:[f?i.jsx("input",{type:"text",value:m.name,onChange:E=>g(T=>({...T,name:E.target.value})),className:"text-lg font-semibold border-b border-gray-300 bg-transparent focus:outline-none focus:border-blue-500"}):o.name,f?i.jsxs("select",{value:m.status,onChange:E=>g(T=>({...T,status:E.target.value})),className:"px-2 py-1 text-sm border rounded",children:[i.jsx("option",{value:"예정",children:"예정"}),i.jsx("option",{value:"노쇼",children:"노쇼"}),i.jsx("option",{value:"미등록",children:"미등록"}),i.jsx("option",{value:"등록",children:"등록"})]}):i.jsx(Lt,{variant:"outline",className:o.status==="예정"?"bg-blue-50 text-blue-700 border-blue-200":o.status==="노쇼"?"bg-red-50 text-red-700 border-red-200":o.status==="미등록"?"bg-yellow-50 text-yellow-700 border-yellow-200":o.status==="등록"?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-700 border-gray-200",children:o.status})]})}),i.jsxs(on,{className:"space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"성별:"}),f?i.jsxs("div",{className:"ml-2 flex gap-2",children:[i.jsx(me,{type:"button",variant:m.gender==="남"?"default":"outline",size:"sm",onClick:()=>g(E=>({...E,gender:"남"})),children:"남"}),i.jsx(me,{type:"button",variant:m.gender==="여"?"default":"outline",size:"sm",onClick:()=>g(E=>({...E,gender:"여"})),children:"여"})]}):i.jsx("span",{className:"ml-2",children:o.gender||"-"})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-muted-foreground",children:"학년:"}),f?i.jsxs("select",{value:m.grade,onChange:E=>g(T=>({...T,grade:E.target.value})),className:"ml-2 px-2 py-1 border rounded text-sm",children:[i.jsx("option",{value:"",children:"선택"}),i.jsx("option",{value:"6세",children:"6세"}),i.jsx("option",{value:"7세",children:"7세"}),i.jsx("option",{value:"초1",children:"초1"}),i.jsx("option",{value:"초2",children:"초2"}),i.jsx("option",{value:"초3",children:"초3"}),i.jsx("option",{value:"초4",children:"초4"}),i.jsx("option",{value:"초5",children:"초5"}),i.jsx("option",{value:"초6",children:"초6"}),i.jsx("option",{value:"중1",children:"중1"}),i.jsx("option",{value:"중2",children:"중2"}),i.jsx("option",{value:"중3",children:"중3"}),i.jsx("option",{value:"고1",children:"고1"}),i.jsx("option",{value:"고2",children:"고2"}),i.jsx("option",{value:"고3",children:"고3"})]}):i.jsx("span",{className:"ml-2",children:o.grade||"-"})]})]}),i.jsxs("div",{className:"mt-2 p-3 rounded border bg-red-50/50",children:[i.jsxs("div",{className:"flex items-center gap-2 text-red-700 font-medium mb-2",children:[i.jsx(bl,{className:"w-4 h-4"})," 체험자 삭제"]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"안전 확인을 위해 체험자 이름을 입력하세요."}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(He,{placeholder:o.name,value:y,onChange:E=>w(E.target.value),className:"h-8"}),i.jsx(me,{variant:"outline",className:"text-red-600 hover:bg-red-100",disabled:y.trim()!==o.name||j,onClick:O,children:"삭제"})]})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"전화번호:"}),f?i.jsx("input",{type:"text",value:m.phone,onChange:E=>g(T=>({...T,phone:E.target.value})),className:"ml-2 px-2 py-1 border rounded text-sm",placeholder:"010-1234-5678"}):i.jsx("span",{className:"ml-2",children:o.phone})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"체험 날짜:"}),f?i.jsx("input",{type:"date",value:m.trial_date,onChange:E=>g(T=>({...T,trial_date:E.target.value})),className:"ml-2 px-2 py-1 border rounded text-sm"}):i.jsx("span",{className:"ml-2",children:o.classes?.date||"-"})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"체험 시간:"}),f?i.jsxs("select",{value:m.trial_time,onChange:E=>g(T=>({...T,trial_time:E.target.value})),className:"ml-2 px-2 py-1 border rounded text-sm",children:[i.jsx("option",{value:"",children:"시간 선택"}),Array.from({length:14},(E,T)=>{const L=(T+9).toString().padStart(2,"0");return i.jsxs("option",{value:`${L}:00`,children:[L,":00"]},T)})]}):i.jsx("span",{className:"ml-2",children:o.classes?.time||"-"})]}),i.jsxs("div",{className:"text-sm flex items-center",children:[i.jsx("span",{className:"text-muted-foreground",children:"메모: "}),i.jsxs("div",{className:"ml-2 flex items-center gap-2",children:[i.jsx("span",{className:"flex-1",children:o.note||"-"}),i.jsx(La,{hasNote:!!o.note,note:o.note||"",label:`${o.name} 체험자 메모`,meta:`체험일: ${o.classes?.date||""} ${o.classes?.time||""}`,onSave:async E=>{try{await se.from("trial_reservations").update({note:E}).eq("id",o.id),await _(o.id)}catch(T){console.error("메모 업데이트 실패:",T)}}})]})]}),o.student_id&&i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"연결된 학생 ID:"}),i.jsx("span",{className:"ml-2",children:o.student_id})]})]})]}),i.jsx("div",{className:"flex justify-end gap-2",children:f?i.jsxs(i.Fragment,{children:[i.jsx(me,{variant:"outline",onClick:P,children:"취소"}),i.jsx(me,{onClick:k,disabled:c,children:"저장"})]}):i.jsx(i.Fragment,{children:i.jsx(me,{variant:"outline",onClick:()=>p(!0),children:"정보 수정"})})})]}):i.jsx("div",{className:"p-6 text-center text-muted-foreground",children:"체험자 정보를 찾을 수 없습니다."})]})})}function s0({isOpen:e,onClose:t,onAdded:r}){const[o,a]=x.useState({name:"",phone:"",gender:"남",grade:"6세"}),[c,u]=x.useState(void 0),[f,p]=x.useState("09:00"),m=async()=>{if(!(!o.name||!o.phone||!c))try{const w=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}-${String(c.getDate()).padStart(2,"0")}`,j=f+":00";console.log("클래스 검색 조건:",{date:w,time:j,group_type:"체험"});const{data:b}=await se.from("classes").select("id").eq("date",w).eq("time",j).eq("group_type","체험").maybeSingle();let _=b?.id;if(!_){const{data:O,error:P}=await se.from("classes").insert([{date:w,time:j,group_type:"체험"}]).select("id").single();if(P)throw P;_=O?.id}if(!_)throw new Error("클래스 ID를 가져올 수 없습니다");const{error:k}=await se.from("trial_reservations").insert([{name:o.name,phone:o.phone,gender:o.gender,grade:o.grade,class_id:_,status:"예정"}]);if(k)throw k;alert("체험자가 등록되었습니다!"),a({name:"",phone:"",gender:"남",grade:"6세"}),u(void 0),p("09:00"),r(),t()}catch(w){console.error("체험자 등록 실패:",w),alert("체험자 등록에 실패했습니다.")}},g=["6세","7세","초1","초2","초3","초4","초5","초6","중1","중2","중3","고1","고2","고3"],y=Array.from({length:14},(w,j)=>`${(9+j).toString().padStart(2,"0")}:00`);return i.jsx(St,{open:e,onOpenChange:t,children:i.jsxs(_t,{type:"m",children:[i.jsx(Ot,{children:i.jsx(Dt,{children:"체험자 등록"})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 p-4 pt-2",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"text-xs text-muted-foreground",children:["이름 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(He,{value:o.name,onChange:w=>a(j=>({...j,name:w.target.value})),placeholder:"체험자 이름"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-xs text-muted-foreground",children:["전화번호 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(He,{value:o.phone,onChange:w=>a(j=>({...j,phone:w.target.value})),placeholder:"010-1234-5678"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"성별"}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx(me,{type:"button",variant:o.gender==="남"?"default":"outline",size:"sm",onClick:()=>a(w=>({...w,gender:"남"})),children:"남"}),i.jsx(me,{type:"button",variant:o.gender==="여"?"default":"outline",size:"sm",onClick:()=>a(w=>({...w,gender:"여"})),children:"여"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"학년"}),i.jsx("select",{value:o.grade,onChange:w=>a(j=>({...j,grade:w.target.value})),className:"w-full p-2 border rounded",children:g.map(w=>i.jsx("option",{value:w,children:w},w))})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"text-xs text-muted-foreground",children:["체험 날짜 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("div",{className:"mt-1",children:i.jsx($d,{mode:"single",selected:c,onSelect:u,className:"rounded-md border"})})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-xs text-muted-foreground",children:["수업 시간 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("select",{value:f,onChange:w=>p(w.target.value),className:"w-full p-2 border rounded mt-1",children:y.map(w=>i.jsx("option",{value:w,children:w},w))})]})]})]}),i.jsxs("div",{className:"flex items-center justify-end gap-2 p-4 pt-0",children:[i.jsx(me,{variant:"outline",onClick:t,children:"취소"}),i.jsx(me,{onClick:m,disabled:!o.name||!o.phone||!c,children:"등록"})]})]})})}const o0=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],aO=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"],iO=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"];function lO(e){const t=e.charCodeAt(0);if(t<44032||t>55203)return null;const r=t-44032,o=Math.floor(r/588),a=Math.floor(r%588/28),c=r%28;return{chosung:o0[o],jungsung:aO[a],jongsung:iO[c]}}function Fg(e){return e.split("").map(t=>{const r=lO(t);return r?r.chosung:t}).join("")}function $a(e,t){if(!t.trim())return!0;const r=e.toLowerCase(),o=t.toLowerCase();if(r.includes(o))return!0;const a=Fg(e),c=Fg(t);return t.split("").every(f=>o0.includes(f))?a.includes(c):a.toLowerCase().includes(c.toLowerCase())}function cO(e,t,r){return t.trim()?e.filter(o=>{const a=r(o);return $a(a,t)}):e}function zg({classItem:e,selectedDate:t,getStatusOnDate:r,getAttendanceDatesForCellByStatus:o,toggleAttendanceForSelectedDate:a,openStudentDetail:c,toDateObjectsFromMonthDay:u,onClassUpdated:f,borderless:p,getDisplayStatus:m,getDisplayStatusForCell:g,getAttendanceRecord:y,updateAttendanceNote:w}){const j=C=>C&&C.length>=5?C.slice(0,5):C||"",[b,_]=x.useState(null),[k,O]=x.useState(""),[P,E]=x.useState([]),[T,L]=x.useState(!1),[B,W]=x.useState(!1),[A,q]=x.useState(!1),[Y,Z]=x.useState(!1),[ce,we]=x.useState(null),[ge,Pe]=x.useState(!1),[de,Q]=x.useState(null),[R,ie]=x.useState([]),[te,F]=x.useState(null),[X,ve]=x.useState(new Date().toISOString().slice(0,7)),[ae,Te]=x.useState([]),[ze,ne]=x.useState(""),[Ce,Fe]=x.useState(""),[De,qe]=x.useState(!1),[Ze,yt]=x.useState(null),[Jt,Ut]=x.useState(""),[Me,ht]=x.useState({}),[$t,An]=x.useState([]),[Cn,ln]=x.useState(!1),[Bt,En]=x.useState(null),[Lr,yr]=x.useState(!1),[In,xr]=x.useState({}),[Zn,er]=x.useState({});x.useEffect(()=>{Ht()},[e.class_id]);const Ht=async()=>{try{const{data:C,error:N}=await se.from("trial_reservations").select("id, name, grade, class_id, classes:classes(id, date, time, group_type)").not("class_id","is",null).eq("class_id",e.class_id).order("name");if(N)throw N;console.log("[ClassDetailCard] trial reservations",{classId:e.class_id,count:(C||[]).length,data:C}),An(C||[])}catch(C){console.error("체험자 목록 로드 실패:",C),An([])}};x.useEffect(()=>{e.students.some(M=>!M.grade||!M.level)?(async()=>{const M=e.students.map(he=>he.id);if(M.length===0){_([]);return}const{data:z,error:K}=await se.from("students").select("id, name, birth_date, current_level, is_test").in("id",M);if(K){console.error(K);return}const re=he=>$s(he),G=new Map;(z||[]).forEach(he=>{G.set(he.id,{id:he.id,name:he.name,grade:he.birth_date?re(he.birth_date):"",level:he.current_level||"NONE"})});const fe=e.students.map(he=>G.get(he.id)||he);_(fe)})():_(e.students)},[e.class_id,e.students]);const jt=b||e.students;x.useEffect(()=>{(async()=>{try{const N=[];for(const G of jt){const fe=y?y(G.id):void 0;if(fe?.kind==="보강"&&fe.makeup_of_attendance_id){const he=fe.makeup_of_attendance_id;In[he]||N.push(he)}}if(N.length===0)return;const M=Array.from(new Set(N)),{data:z,error:K}=await se.from("attendance").select("id, classes:classes(date, time)").in("id",M);if(K)throw K;const re={...In};(z||[]).forEach(G=>{G?.id&&G?.classes?.date&&G?.classes?.time&&(re[G.id]={date:G.classes.date,time:G.classes.time})}),xr(re)}catch(N){console.error("원본 정규 수업 로드 실패:",N)}})()},[jt.map(C=>C.id).join(","),e.class_id,t.getTime()]),x.useEffect(()=>{(async()=>{try{const N=[];for(const G of jt){const fe=y?y(G.id):void 0;fe?.kind==="정규"&&fe?.id&&N.push(fe.id)}if(N.length===0)return;const M=Array.from(new Set(N)),{data:z,error:K}=await se.from("attendance").select("id, makeup_of_attendance_id, status, classes:classes(date, time)").in("makeup_of_attendance_id",M);if(K)throw K;const re={};(z||[]).forEach(G=>{G?.makeup_of_attendance_id&&G?.status==="예정"&&G?.classes?.date&&G?.classes?.time&&(re[G.makeup_of_attendance_id]={date:G.classes.date,time:G.classes.time})}),er(re)}catch(N){console.error("보강 예정 수업 로드 실패:",N)}})()},[jt.map(C=>C.id).join(","),e.class_id,t.getTime()]),x.useEffect(()=>{(async()=>{try{const N=jt.map(le=>le.id);if(N.length===0){ht({});return}const M=t.getFullYear(),z=t.getMonth(),K=new Date(M,z,1),re=new Date(M,z+1,0),G=`${K.getFullYear()}-${String(K.getMonth()+1).padStart(2,"0")}-${String(K.getDate()).padStart(2,"0")}`,fe=`${re.getFullYear()}-${String(re.getMonth()+1).padStart(2,"0")}-${String(re.getDate()).padStart(2,"0")}`,{data:he,error:pe}=await se.from("attendance").select("id, student_id, status, kind, makeup_of_attendance_id, classes:classes(id, date, time)").in("student_id",N).gte("classes.date",G).lte("classes.date",fe);if(pe)throw pe;const ke={};(he||[]).forEach(le=>{const Ne=le?.classes?.date,Re=le?.classes?.time;if(!Ne||!Re)return;const Ae=new Date(Ne).getDay(),Je={id:le.id,student_id:le.student_id,class_id:le.classes?.id,date:Ne,time:Re,kind:le.kind==="보강"?"보강":"정규",status:le.status,makeup_of_attendance_id:le.makeup_of_attendance_id?le.makeup_of_attendance_id:null,weekday:Ae};ke[Je.student_id]||(ke[Je.student_id]=[]),ke[Je.student_id].push(Je)}),Object.keys(ke).forEach(le=>{ke[Number(le)].sort((Re,Oe)=>{const Ae=Re.date.localeCompare(Oe.date);if(Ae!==0)return Ae;const Je=Re.time.localeCompare(Oe.time);return Je!==0?Je:Re.kind!==Oe.kind?Re.kind==="정규"?-1:1:Re.id-Oe.id})}),ht(ke)}catch(N){console.error("월별 출석 로드 실패:",N),ht({})}})()},[t.getFullYear(),t.getMonth(),jt.map(C=>C.id).join(",")]),x.useEffect(()=>{let C=!1;return(async()=>{const{data:M,error:z}=await se.from("students").select(`
          id,
          name,
          gender,
          birth_date,
          current_level,
          status,
          class_types:class_types(category, sessions_per_week),
          student_schedules:student_schedules(weekday, time, group_type)
        `).eq("status","재원").order("name");if(z){console.error(z);return}const K=new Set(e.students.map(G=>G.id)),re=(M||[]).filter(G=>!K.has(G.id)).map(G=>({id:G.id,name:G.name,gender:G.gender,birth_date:G.birth_date,current_level:G.current_level,class_type:G.class_types?{category:G.class_types.category,sessions_per_week:G.class_types.sessions_per_week}:void 0,schedules:(G.student_schedules||[]).map(fe=>({weekday:fe.weekday,time:fe.time,group_type:fe.group_type}))}));C||E(re)})(),()=>{C=!0}},[e.students]);const wr=x.useMemo(()=>k.trim()?cO(P,k,C=>C.name):[],[P,k]),tr=async(C,N)=>{const[M,z]=N.split("-").map(le=>parseInt(le,10)),K=new Date(M,z-1,1),re=new Date(M,z,0),G=`${K.getFullYear()}-${String(K.getMonth()+1).padStart(2,"0")}-${String(K.getDate()).padStart(2,"0")}`,fe=`${re.getFullYear()}-${String(re.getMonth()+1).padStart(2,"0")}-${String(re.getDate()).padStart(2,"0")}`,{data:he,error:pe}=await se.from("attendance").select("id, status, kind, classes:classes(date, time, group_type)").eq("student_id",C).is("makeup_of_attendance_id",null).in("status",["예정","결석"]).gte("classes.date",G).lte("classes.date",fe).order("date",{ascending:!0,foreignTable:"classes"});if(pe)throw pe;const ke=(he||[]).filter(le=>le.classes&&le.classes.date&&le.classes.time).map(le=>({id:le.id,status:le.status,date:le.classes.date,time:le.classes.time,group_type:le.classes.group_type||"일반1"}));ie(ke)},_r=async C=>{we(C),F(null);try{const N=new Date;N.setFullYear(N.getFullYear()-2);const M=`${N.getFullYear()}-${String(N.getMonth()+1).padStart(2,"0")}-${String(N.getDate()).padStart(2,"0")}`,{data:z,error:K}=await se.from("attendance").select("id, status, classes:classes(date)").eq("student_id",C).is("makeup_of_attendance_id",null).in("status",["예정","결석"]).gte("classes.date",M).order("date",{ascending:!1,foreignTable:"classes"});if(K)throw K;const re=new Set;(z||[]).forEach(he=>{const pe=he?.classes?.date;pe&&pe.length>=7&&re.add(pe.slice(0,7))});const G=Array.from(re).sort((he,pe)=>he.localeCompare(pe)*-1).map(he=>{const[pe,ke]=he.split("-").map(le=>parseInt(le,10));return{value:he,label:`${pe}년 ${ke}월`}});Te(G);const fe=G.length>0?G[0].value:new Date().toISOString().slice(0,7);ve(fe),await tr(C,fe)}catch(N){console.error("정규 출석 불러오기 실패:",N),ie([])}finally{Z(!0)}},$r=async()=>{if(!(!ce||!te))try{const C={student_id:ce,class_id:e.class_id,status:"예정",kind:"보강",makeup_of_attendance_id:te,note:ze||null},{error:N}=await se.from("attendance").upsert(C,{onConflict:"student_id,class_id"});if(N)throw N;Z(!1),L(!1),O(""),ne(""),f&&f()}catch(C){console.error("보강 편성 실패:",C)}},Ln=async C=>{try{const N={student_id:C,class_id:e.class_id,status:"예정",kind:"정규",makeup_of_attendance_id:null},{error:M}=await se.from("attendance").upsert(N,{onConflict:"student_id,class_id"});if(M)throw M;f&&f()}catch(N){console.error("정규 추가 실패:",N)}};return i.jsxs(i.Fragment,{children:[i.jsxs(Gt,{className:p?"border-none shadow-none":void 0,children:[i.jsxs(mn,{children:[i.jsxs(gn,{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{children:gt(t,"MM/dd",{locale:rn})}),i.jsx("span",{children:gt(t,"(E)",{locale:rn})}),i.jsx("span",{children:j(e.time)})]}),i.jsxs("div",{className:"flex items-center gap-2 relative",children:[i.jsx(me,{type:"button",size:"sm",variant:"outline",className:"h-8 px-2",onClick:C=>{C.stopPropagation(),q(N=>!N)},children:i.jsx(D_,{className:"w-4 h-4"})}),A&&i.jsx("div",{className:"absolute right-0 top-full mt-1 z-[10000] rounded-md border bg-popover text-popover-foreground shadow-md",children:i.jsxs("div",{className:"flex flex-col p-1 min-w-[140px]",children:[i.jsx("button",{className:"w-full text-left px-3 py-2 text-sm hover:bg-accent/50 rounded whitespace-nowrap cursor-pointer",onClick:C=>{C.stopPropagation(),q(!1),e.group_type==="체험"?yr(!0):L(!0)},children:"학생 추가"}),i.jsx("button",{className:"w-full text-left px-3 py-2 text-sm text-red-600 hover:bg-accent/50 rounded whitespace-nowrap cursor-pointer",onClick:C=>{C.stopPropagation(),q(!1),W(!0)},children:"학생 삭제"})]})}),i.jsx(St,{open:T,onOpenChange:L,children:i.jsxs(_t,{type:"m",children:[i.jsx(Ot,{children:i.jsx(Dt,{children:"학생 추가"})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(He,{autoFocus:!0,placeholder:"학생 이름으로 검색",value:k,onChange:C=>O(C.target.value),style:{marginBottom:"12px"}}),i.jsx("div",{className:"border rounded-md max-h-80 overflow-y-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-muted/50 sticky top-0",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left p-2",children:"이름"}),i.jsx("th",{className:"text-left p-2",children:"성별"}),i.jsx("th",{className:"text-left p-2",children:"학년"}),i.jsx("th",{className:"text-left p-2",children:"현재 레벨"}),i.jsx("th",{className:"text-left p-2",children:"등록 반"}),i.jsx("th",{className:"text-left p-2",children:"수업 시간"}),i.jsx("th",{className:"text-right p-2",children:"추가"})]})}),i.jsx("tbody",{children:k?wr.length>0?wr.map(C=>i.jsxs("tr",{className:"border-t hover:bg-accent/40",children:[i.jsx("td",{className:"p-2 whitespace-nowrap",children:C.name}),i.jsx("td",{className:"p-2 whitespace-nowrap",children:C.gender}),i.jsx("td",{className:"p-2 whitespace-nowrap",children:$s(C.birth_date)}),i.jsx("td",{className:"p-2 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{style:{backgroundColor:Tx(C.current_level||"NONE"),border:C.current_level==="WHITE"?"1px solid #d1d5db":"none",width:"12px",height:"12px",borderRadius:"2px",display:"inline-block"}}),i.jsx("span",{className:"text-xs text-muted-foreground",children:C.current_level||"-"})]})}),i.jsx("td",{className:"p-2 whitespace-nowrap",children:C.class_type?.category?`${C.class_type.category} (주 ${C.class_type.sessions_per_week||0}회)`:"-"}),i.jsx("td",{className:"p-2",children:i.jsx("div",{className:"flex flex-wrap gap-1",children:C.schedules.length>0?C.schedules.map((N,M)=>i.jsxs("span",{className:"px-2 py-0.5 rounded border bg-background text-xs",children:[["월","화","수","목","금","토","일"][N.weekday===0?6:N.weekday-1]," ",j(N.time)," (",N.group_type,")"]},M)):i.jsx("span",{className:"text-muted-foreground",children:"스케줄 없음"})})}),i.jsx("td",{className:"p-2 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx(me,{size:"sm",variant:"outline",onClick:()=>{Q({id:C.id,name:C.name}),Pe(!0)},children:"정규"}),i.jsx(me,{size:"sm",variant:"outline",onClick:()=>_r(C.id),children:"보강"})]})})]},C.id)):i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"p-6 text-center text-muted-foreground",children:"검색 결과 없음"})}):i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"p-6 text-center text-muted-foreground",children:"이름을 입력해 검색하세요"})})})]})})]})]})}),i.jsx(St,{open:B,onOpenChange:W,children:i.jsxs(_t,{type:"s",children:[i.jsx(Ot,{children:i.jsx(Dt,{children:e.group_type==="체험"?"체험자 삭제":"학생 삭제"})}),i.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto",children:e.group_type==="체험"?$t.length>0?$t.map(C=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:C.name}),i.jsx(Lt,{type:"grade",children:C.grade})]}),i.jsxs(me,{size:"sm",variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:async()=>{try{const{error:N}=await se.from("trial_reservations").delete().eq("id",C.id);if(N)throw N;await Ht()}catch(N){console.error("체험자 삭제 실패:",N)}},children:[i.jsx(bl,{className:"w-4 h-4 mr-1"})," 삭제"]})]},C.id)):i.jsx("div",{className:"text-sm text-muted-foreground",children:"삭제할 체험자가 없습니다."}):jt.length>0?jt.map(C=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:C.name}),i.jsx(Lt,{type:"grade",children:C.grade})]}),i.jsxs(me,{size:"sm",variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:async()=>{try{const{data:N,error:M}=await se.from("attendance").select("id").eq("student_id",C.id).eq("class_id",e.class_id).limit(1).maybeSingle();if(M)throw M;const z=N?.id;if(z){const{error:re}=await se.from("attendance").update({makeup_of_attendance_id:null}).eq("makeup_of_attendance_id",z);if(re)throw re}const{error:K}=await se.from("attendance").delete().eq("student_id",C.id).eq("class_id",e.class_id);if(K)throw K;f&&f()}catch(N){console.error("학생 삭제 실패:",N)}},children:[i.jsx(bl,{className:"w-4 h-4 mr-1"})," 삭제"]})]},C.id)):i.jsx("div",{className:"text-sm text-muted-foreground",children:"삭제할 학생이 없습니다."})})]})})]})]}),i.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:i.jsx("span",{children:e.group_type})})]}),i.jsx(on,{children:i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center justify-between mb-2",children:i.jsx("p",{className:"font-medium",children:e.group_type==="체험"?`체험자 (${$t.length}명)`:`참여 학생 (${e.students.length}명)`})}),i.jsx("div",{className:"space-y-3",children:e.group_type==="체험"?$t.length>0?$t.map(C=>i.jsx("div",{className:"flex items-center justify-between p-2 rounded border transition-colors bg-blue-50 border-blue-200",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{role:"button",tabIndex:0,className:"font-medium text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",onClick:()=>{En(C.id),ln(!0)},children:C.name}),i.jsx(Lt,{type:"grade",children:C.grade}),i.jsx(Lt,{type:"studenttype",children:"체험"})]})},C.id)):i.jsx("div",{className:"text-sm text-muted-foreground",children:"체험자가 없습니다."}):jt.map(C=>i.jsx(Sn.Fragment,{children:i.jsxs("div",{className:"flex items-center justify-between p-2 rounded border transition-colors",onClick:()=>{const N=y?y(C.id):void 0,M=N?.kind||"정규";N?.status;const z=M==="정규"&&!!N?.makeup_of_attendance_id;$g(M,z)&&a(C.id,e.class_id)},style:(()=>{const N=y?y(C.id):void 0,M=N?.kind||"정규",z=N?.status||"예정",K=M==="정규"&&!!N?.makeup_of_attendance_id,{bg:re,border:G}=oO(M,z,K);return{backgroundColor:re,borderColor:G,cursor:$g(M,K)?"pointer":"default"}})(),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{role:"button",tabIndex:0,className:"font-medium text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",style:{cursor:"pointer"},onClick:N=>{N.stopPropagation(),c(C.id)},children:C.name}),i.jsx(Lt,{type:"grade",children:C.grade}),i.jsx(As,{level:C.level}),(y?y(C.id):void 0)?.kind==="보강"?i.jsx(Lt,{type:"color",className:"bg-blue-50 text-blue-700 border-blue-200",children:"보강"}):null,(()=>{const M=((y?y(C.id):void 0)?.is_test||"").toString().trim().toUpperCase();if(!M)return null;const z=`${M} 테스트`,K=M==="WHITE"?"bg-gray-50 text-gray-700 border-gray-200":M==="YELLOW"?"bg-yellow-50 text-yellow-700 border-yellow-200":M==="GREEN"?"bg-green-50 text-green-700 border-green-200":M==="BLUE"?"bg-blue-50 text-blue-700 border-blue-200":M==="RED"?"bg-red-50 text-red-700 border-red-200":M==="BLACK"?"bg-slate-900 text-white border-slate-800":M==="GOLD"?"bg-amber-50 text-amber-700 border-amber-200":"bg-muted text-muted-foreground";return i.jsx(Lt,{type:"color",className:K,children:z})})(),(()=>{const N=m?m(C.id):void 0;if(!(N?.startsWith("MAKEUP_")||N?.startsWith("REGULAR_MAKEUP_")))return null;const K=(y?y(C.id):void 0)?.makeup_of_attendance_id;K&&In[K]})()]}),i.jsx("div",{className:"flex flex-col items-end gap-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[(()=>{const N=y?y(C.id):void 0,M=m?m(C.id):void 0;if(N?.kind==="정규"&&M==="REGULAR_MAKEUP_PLANNED"){const z=Zn[N.id];return z?i.jsx("span",{className:"text-xs text-blue-700",children:`${gt(new Date(z.date),"MM/dd",{locale:rn})} ${j(z.time)} 보강 예정`}):i.jsx("span",{className:"text-xs text-blue-700",children:"보강 예정"})}if(N?.kind==="보강"){const z=N?.makeup_of_attendance_id,K=z?In[z]:void 0;return K?i.jsx("span",{className:"text-xs text-blue-700",children:`${gt(new Date(K.date),"MM/dd",{locale:rn})} ${j(K.time)} 수업 보강`}):i.jsx("span",{className:"text-xs text-blue-700",children:"보강"})}return null})(),(()=>{const N=`${gt(t,"yyyy-MM-dd (E)",{locale:rn})} ${j(e.time)} - ${C.name} 메모`,z=(y?y(C.id):void 0)?.note||"",K=!!z;return i.jsx(La,{studentId:C.id,classId:e.class_id,hasNote:K,note:z,meta:N,className:"ml-2"})})(),i.jsx(La,{studentOnlyId:C.id,label:`${C.name} 학생 메모`,className:"ml-1"})]})})]})},C.id))})]})})]}),i.jsx(Af,{isOpen:Cn,onClose:()=>{ln(!1),En(null),Ht()},reservationId:Bt}),i.jsx(s0,{isOpen:Lr,onClose:()=>yr(!1),onAdded:async()=>{await Ht()}}),i.jsx(St,{open:Y,onOpenChange:Z,children:i.jsxs(_t,{type:"m",children:[i.jsx(Ot,{children:i.jsx(Dt,{children:"보강 수업 편성"})}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"text-sm font-medium",children:"연결할 정규 수업(예정/결석)을 선택하세요"}),ae.length>0?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"월 선택"}),i.jsx("select",{className:"px-2 py-1 text-sm border rounded-md bg-white",value:X,onChange:async C=>{const N=C.target.value;if(ve(N),ce)try{await tr(ce,N)}catch{}},children:ae.map(C=>i.jsx("option",{value:C.value,children:C.label},C.value))})]}):i.jsx("div",{})]}),i.jsx("div",{className:"border rounded-md max-h-60 overflow-y-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{className:"bg-muted/50 sticky top-0",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left p-2",children:"날짜"}),i.jsx("th",{className:"text-left p-2",children:"시간"}),i.jsx("th",{className:"text-left p-2",children:"그룹"}),i.jsx("th",{className:"text-left p-2",children:"상태"})]})}),i.jsx("tbody",{children:R.length>0?R.map(C=>i.jsxs("tr",{className:`border-t cursor-pointer ${te===C.id?"bg-gray-100":"bg-gray-50"}`,onClick:()=>F(C.id),children:[i.jsx("td",{className:"p-2 whitespace-nowrap",children:gt(new Date(C.date),"yyyy-MM-dd",{locale:rn})}),i.jsx("td",{className:"p-2 whitespace-nowrap",children:C.time?.slice(0,5)}),i.jsx("td",{className:"p-2 whitespace-nowrap",children:C.group_type}),i.jsx("td",{className:"p-2 whitespace-nowrap",children:C.status})]},C.id)):i.jsx("tr",{children:i.jsx("td",{colSpan:4,className:"p-4 text-center text-muted-foreground",children:"선택 가능한 정규 수업이 없습니다"})})})]})}),i.jsx("div",{className:"text-sm mt-3",children:te?(()=>{const C=R.find(z=>z.id===te);if(!C)return null;const N=`${gt(new Date(C.date),"yyyy-MM-dd (E)",{locale:rn})} ${C.time?.slice(0,5)}`,M=`${gt(t,"yyyy-MM-dd (E)",{locale:rn})} ${j(e.time)}`;return i.jsx("div",{className:"p-2",children:`${N} 에서 ${M} 으로 편성합니다.`})})():i.jsx("div",{className:"text-muted-foreground",children:"편성할 정규 수업을 선택하세요."})}),i.jsx("div",{className:"flex justify-end gap-2 mt-3",children:i.jsx(me,{onClick:$r,disabled:!te,children:"보강으로 편성"})})]})})]})}),i.jsx(St,{open:ge,onOpenChange:Pe,children:i.jsxs(_t,{type:"s",children:[i.jsx(Ot,{children:i.jsx(Dt,{children:"정규 수업에 추가"})}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsx("div",{children:de?i.jsx("div",{className:"p-2 rounded border bg-muted/40",children:`${gt(t,"yyyy-MM-dd (E)",{locale:rn})} ${j(e.time)} 수업에 ${de.name} 학생을 정규로 추가합니다.`}):i.jsx("div",{className:"text-muted-foreground",children:"학생을 선택하세요."})}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(me,{variant:"outline",onClick:()=>Pe(!1),children:"취소"}),i.jsx(me,{onClick:async()=>{de&&(await Ln(de.id),Pe(!1))},children:"확인"})]})]})]})})]})}function uO(){const[e,t]=x.useState("ongoing"),[r,o]=x.useState(new Date),[a,c]=x.useState({start:new Date,end:new Date}),[u,f]=x.useState({}),[p,m]=x.useState(!1),[g,y]=x.useState({daily:!1,weekly:!1}),[w,j]=x.useState([]),[b,_]=x.useState(!1),[k,O]=x.useState(null),[P,E]=x.useState(""),[T,L]=x.useState([]),[B,W]=x.useState([]),[A,q]=x.useState([]),[Y,Z]=x.useState({}),[ce,we]=x.useState({}),[ge,Pe]=x.useState(null),[de,Q]=x.useState(null),[R,ie]=x.useState(!1),[te,F]=x.useState(null),[X,ve]=x.useState(!1),[ae,Te]=x.useState(null),[ze,ne]=x.useState(!1),[Ce,Fe]=x.useState(null),[De,qe]=x.useState(null),Ze=N=>{F(N),ie(!0),console.log(te)},yt=async N=>{try{m(!0);const M=Bt(N),z=(N.getDay()+6)%7,{data:K,error:re}=await se.from("students").select("id, status").eq("status","재원");if(re)throw re;const G=(K||[]).map(le=>le.id);if(G.length===0)return;const{data:fe,error:he}=await se.from("student_schedules").select("*").in("student_id",G).eq("weekday",z);if(he)throw he;if(fe.length===0){alert("해당 날짜에 수업이 있는 학생이 없습니다.");return}const pe=new Set,ke=[];if(fe.forEach(le=>{const Ne=le.time,Re=le.group_type,Oe=`${M}_${Ne}_${Re}`;pe.has(Oe)||(pe.add(Oe),ke.push({date:M,time:Ne,group_type:Re}))}),ke.length){const{data:le,error:Ne}=await se.from("classes").upsert(ke,{onConflict:"date,time,group_type"}).select("id, date, time, group_type");if(Ne)throw Ne;const Re=new Map;(le||[]).forEach(Ae=>{Re.set(`${Ae.date}_${Ae.time}_${Ae.group_type}`,Ae.id)});const Oe=fe.map(Ae=>{const Je=`${M}_${Ae.time}_${Ae.group_type}`,Ft=Re.get(Je);return{student_id:Ae.student_id,class_id:Ft,status:"예정"}}).filter(Ae=>Ae.class_id);if(Oe.length){const{error:Ae}=await se.from("attendance").upsert(Oe.map(Je=>({...Je,kind:"정규"})),{onConflict:"student_id,class_id"});if(Ae)throw Ae}}alert("출석 예정 생성이 완료되었습니다."),await Me(N)}catch(M){console.error("출석 예정 생성 오류:",M),alert("출석 예정 생성 중 오류가 발생했습니다. 콘솔을 확인해주세요.")}finally{m(!1)}},Jt=async(N,M)=>{try{m(!0);const z=le=>`${le.getFullYear()}-${`${le.getMonth()+1}`.padStart(2,"0")}-${`${le.getDate()}`.padStart(2,"0")}`,{data:K,error:re}=await se.from("students").select("id, status").eq("status","재원");if(re)throw re;const G=(K||[]).map(le=>le.id);if(G.length===0)return;const{data:fe,error:he}=await se.from("student_schedules").select("*").in("student_id",G);if(he)throw he;const pe=[],ke=[];for(let le=new Date(N);le<=M;le=new Date(le.getFullYear(),le.getMonth(),le.getDate()+1)){const Ne=(le.getDay()+6)%7,Re=(fe||[]).filter(Ft=>Ft.weekday===Ne);if(Re.length===0)continue;const Oe=z(le),Ae=new Set,Je=[];if(Re.forEach(Ft=>{const nr=Ft.time,rr=Ft.group_type,Zt=`${Oe}_${nr}_${rr}`;Ae.has(Zt)||(Ae.add(Zt),Je.push({date:Oe,time:nr,group_type:rr}))}),Je.length){const{data:Ft,error:nr}=await se.from("classes").upsert(Je,{onConflict:"date,time,group_type"}).select("id, date, time, group_type");if(nr)throw nr;const rr=new Map;(Ft||[]).forEach(Zt=>{rr.set(`${Zt.date}_${Zt.time}_${Zt.group_type}`,Zt.id)});for(const Zt of Re){const Jl=`${Oe}_${Zt.time}_${Zt.group_type}`,Ja=rr.get(Jl);Ja&&ke.push({student_id:Zt.student_id,class_id:Ja,status:"예정",is_makeup:!1,memo:null})}}}if(ke.length){const le=ke.map(Re=>({student_id:Re.student_id,class_id:Re.class_id,status:"예정",kind:"정규"})),{error:Ne}=await se.from("attendance").upsert(le,{onConflict:"student_id,class_id"});if(Ne)throw Ne}alert("출석 예정 생성이 완료되었습니다."),await Ut(N,M)}catch(z){console.error("출석 예정 생성 오류:",z),alert("출석 예정 생성 중 오류가 발생했습니다. 콘솔을 확인해주세요.")}finally{m(!1)}},Ut=async(N,M)=>{try{const z=Ne=>`${Ne.getFullYear()}-${`${Ne.getMonth()+1}`.padStart(2,"0")}-${`${Ne.getDate()}`.padStart(2,"0")}`,K=z(N),re=z(M),{data:G,error:fe}=await se.from("classes").select("id, date, time, group_type, attendance:attendance(student_id, status, students:students(id, name, birth_date, current_level))").gte("date",K).lte("date",re).order("date",{ascending:!0}).order("time",{ascending:!0}).order("group_type",{ascending:!0});if(fe)throw fe;const he=await Promise.all((G||[]).map(async Ne=>{let Re=[];if(Ne.group_type==="체험")try{const{data:Oe,error:Ae}=await se.from("trial_reservations").select("id, name, grade").eq("class_id",Ne.id).order("name");Ae?console.error("체험자 데이터 로드 실패:",Ae):(console.log("[ClassManagement] trial weekly list",{classId:Ne.id,count:(Oe||[]).length,trialData:Oe}),Re=(Oe||[]).map(Je=>({id:Je.id,name:Je.name,grade:Je.grade||"",level:"TRIAL",isTrial:!0})))}catch(Oe){console.error("체험자 데이터 로드 에러:",Oe)}else Re=(Ne.attendance||[]).map(Oe=>{const Ae=Oe.students;if(!Ae)return null;const Je=Ae.birth_date?$s(Ae.birth_date):"";return{id:Ae.id,name:Ae.name,grade:Je,level:Ae.current_level||"NONE",isTrial:!1}}).filter(Oe=>!!Oe&&!!Oe.id);return{class_id:Ne.id,date:Ne.date,time:Ne.time,group_type:Ne.group_type,students:Re}}));console.log("[ClassManagement] weekly raw",G),console.log("[ClassManagement] weekly mapped",he),j(he);const pe={},ke=Ne=>Ne==="출석"?"present":Ne==="결석"?"absent":Ne==="보강예정"?"makeup":Ne==="보강완료"?"makeup_done":"none";(G||[]).forEach(Ne=>{const Re=Ne.date;(Ne.attendance||[]).forEach(Ae=>{const Je=Ae.student_id,Ft=ke(Ae.status);Ft!=="none"&&(pe[Je]||(pe[Je]={}),pe[Je][Re]=Ft)})}),f(Ne=>({...Ne,...pe}));const le=he.length>0;y(Ne=>({...Ne,weekly:le}))}catch(z){console.error("실시간 시간표 로드 오류:",z),j([]),y(K=>({...K,weekly:!1}))}},Me=async N=>{try{const M=Bt(N),{data:z,error:K}=await se.from("classes").select(`
          id, 
          time, 
          group_type, 
          attendance:attendance(
            id,
            student_id,
            status,
            kind,
            makeup_of_attendance_id,
            note,
            is_test,
            students:students(
              id, 
              name, 
              birth_date,
              current_level
            )
          )
        `).eq("date",M).order("time",{ascending:!0}).order("group_type",{ascending:!0});if(K)throw K;const re=(z||[]).map(le=>({class_id:le.id,time:le.time,group_type:le.group_type,students:(le.attendance||[]).map(Ne=>{const Re=Ne.students;if(!Re)return null;const Oe=Re.birth_date?$s(Re.birth_date):"";return{id:Re.id,name:Re.name,grade:Oe,level:Re.current_level||"NONE"}}).filter(Boolean)}));console.log("[ClassManagement] daily raw",z),console.log("[ClassManagement] daily mapped",re),q(re);const G={},fe=[];if((z||[]).forEach(le=>{const Ne=le.id,Re=M;(le.attendance||[]).forEach(Oe=>{const Ae=`${Re}-${Ne}-${Oe.student_id}`;G[Ae]={id:Oe.id,student_id:Oe.student_id,class_id:Ne,date:Re,status:Oe.status,kind:Oe.kind==="보강"?"보강":"정규",makeup_of_attendance_id:Oe.makeup_of_attendance_id??null,note:Oe.note??null,is_test:Oe.is_test??null},Oe.kind!=="보강"&&fe.push(Oe.id)})}),Z(G),fe.length>0){const{data:le,error:Ne}=await se.from("attendance").select("id, status, makeup_of_attendance_id, note").in("makeup_of_attendance_id",Array.from(new Set(fe)));if(!Ne&&le){const Re={};le.forEach(Oe=>{const Ae=Oe.makeup_of_attendance_id;Re[Ae]={id:Oe.id,status:Oe.status}}),we(Re)}else we({})}else we({});const he={},pe=le=>le==="출석"?"present":le==="결석"?"absent":le==="보강예정"?"makeup":le==="보강완료"?"makeup_done":"none";(z||[]).forEach(le=>{const Ne=M;(le.attendance||[]).forEach(Oe=>{const Ae=Oe.student_id,Je=pe(Oe.status);Je!=="none"&&(he[Ae]||(he[Ae]={}),he[Ae][Ne]=Je)})}),f(le=>({...le,...he}));const ke=re.length>0;y(le=>({...le,daily:ke}))}catch(M){console.error("일별 수업 로드 오류:",M),q([]),y(z=>({...z,daily:!1}))}},ht=(N,M,z)=>{const K=`${Bt(M)}-${z}-${N}`,re=Y[K];if(!re)return"NONE";if(re.kind==="보강")return re.status==="예정"?"MAKEUP_PLANNED":re.status==="출석"?"MAKEUP_PRESENT":re.status==="결석"?"MAKEUP_ABSENT":"NONE";if(re.status==="출석")return"REGULAR_PRESENT";if(re.status==="결석"){const G=ce[re.id];return G?G.status==="예정"?"REGULAR_MAKEUP_PLANNED":G.status==="출석"?"REGULAR_MAKEUP_PRESENT":G.status==="결석"?"REGULAR_MAKEUP_ABSENT":"REGULAR_ABSENT":"REGULAR_ABSENT"}{const G=ce[re.id];return G?G.status==="예정"?"REGULAR_MAKEUP_PLANNED":G.status==="출석"?"REGULAR_MAKEUP_PRESENT":G.status==="결석"?"REGULAR_MAKEUP_ABSENT":"REGULAR_PLANNED":"REGULAR_PLANNED"}},$t=(N,M,z)=>{const K=`${Bt(M)}-${z}-${N}`;return Y[K]},An=async(N,M)=>{try{const{error:z}=await se.from("attendance").update({note:M??null}).eq("id",N);if(z)throw z;await Me(r)}catch(z){console.error("메모 업데이트 실패:",z)}},Cn=async()=>{try{const{data:N,error:M}=await se.from("students").select(`
          id,
          name,
          status,
          current_level,
          class_types!inner(
            category,
            sessions_per_week
          )
        `).eq("status","재원").order("name");if(M)throw M;W(N||[])}catch(N){console.error("전체 학생 로드 오류:",N)}};x.useEffect(()=>{a?.start&&a?.end&&Ut(a.start,a.end)},[a.start?.getTime?.(),a.end?.getTime?.()]),x.useEffect(()=>{Cn()},[]);const ln=(()=>{const N=[],M=a.start;for(let z=0;z<7;z++)N.push(new Date(M.getFullYear(),M.getMonth(),M.getDate()+z));return N})(),Bt=N=>`${N.getFullYear()}-${`${N.getMonth()+1}`.padStart(2,"0")}-${`${N.getDate()}`.padStart(2,"0")}`,En=Array.from(new Set(w.filter(N=>ln.some(M=>Bt(M)===N.date)).map(N=>N.time))).sort(),Lr=N=>{Fe(N),qe(new Date(N.date)),ne(!0)};x.useEffect(()=>{const N=()=>{ge&&Pe(null),de&&Q(null)};return window.addEventListener("click",N),()=>{window.removeEventListener("click",N)}},[ge,de]);const yr=async(N,M,z)=>{try{const{error:K}=await se.from("classes").upsert({date:N,time:M,group_type:z},{onConflict:"date,time,group_type"});if(K)throw K;await Ut(a.start,a.end)}catch(K){console.error("수업 생성 실패:",K),alert("수업 생성에 실패했습니다.")}finally{Pe(null)}},In=async N=>{try{const{count:M,error:z}=await se.from("attendance").select("*",{count:"exact",head:!0}).eq("class_id",N);if(z)throw z;if((M||0)>0){alert("학생이 있는 수업은 삭제할 수 없습니다.");return}const{error:K}=await se.from("classes").delete().eq("id",N);if(K)throw K;await Ut(a.start,a.end)}catch(M){console.error("수업 삭제 실패:",M),alert("수업 삭제에 실패했습니다.")}finally{Q(null)}},xr=async N=>{if(!k)return;const{error:M}=await se.from("attendance").upsert({student_id:N,class_id:k.class_id,status:"예정"},{onConflict:"student_id,class_id"});if(!M){await Ut(a.start,a.end);const z=w.find(K=>K.class_id===k.class_id);z&&O({...k,students:z.students})}},Zn=async N=>{if(!k)return;const{error:M}=await se.from("attendance").delete().eq("student_id",N).eq("class_id",k.class_id);if(!M){await Ut(a.start,a.end);const z=w.find(K=>K.class_id===k.class_id);z&&O({...k,students:z.students})}};x.useEffect(()=>{const N=new Date,M=er(N);c(M),o(N),Me(N)},[]);const er=N=>{const M=vn(N,{weekStartsOn:0}),z=Yl(N,{weekStartsOn:0});return{start:M,end:z}},Ht=N=>{const M=Qt(N),z=vn(M,{weekStartsOn:0}),re=vn(N,{weekStartsOn:0}).getTime()-z.getTime();return Math.floor(re/(10080*60*1e3))+1},jt=N=>{const M=er(N),z=M.start.getMonth()+1,K=M.end.getMonth()+1,re=M.start.getDate(),G=M.end.getDate();if(z!==K){const he=Ht(M.start),pe=Ht(M.end);return`${z}월 ${he}주차 / ${K}월 ${pe}주차 (${z}/${re}~${K}/${G})`}const fe=Ht(N);return`${z}월 ${fe}주차 (${z}/${re}~${K}/${G})`},wr=N=>{const M=N.getFullYear(),z=`${N.getMonth()+1}`.padStart(2,"0"),K=`${N.getDate()}`.padStart(2,"0");return`${M}-${z}-${K}`},tr=(N,M)=>{const z=wr(M);return u[N]?.[z]||"none"},_r=async(N,M)=>{const z=wr(r),K=u[N]?.[z]||"none",re=K==="none"?"present":K==="present"?"absent":"none";if(console.log(N,z,re),f(G=>{const fe={...G[N]||{}};return fe[z]=re,{...G,[N]:fe}}),M){const G=`${Bt(r)}-${M}-${N}`,fe=Y[G];if(fe){const he=re==="present"?"출석":re==="absent"?"결석":"예정",{error:pe}=await se.from("attendance").update({status:he}).eq("id",fe.id);if(pe&&console.error("출석 상태 저장 실패:",pe),fe.kind==="보강"&&fe.makeup_of_attendance_id&&he!=="예정"){const{error:ke}=await se.from("attendance").update({status:he}).eq("id",fe.makeup_of_attendance_id);ke&&console.error("정규 출석 동기화 실패:",ke)}await Me(r)}}},$r=(N,M)=>{const z=Qt(N),K=vn(z,{weekStartsOn:0}),re=new Date(K.getTime()+M*7*24*60*60*1e3),G=new Date(re.getTime()+8640*60*1e3);return{start:re,end:G}},Ln=(N,M,z)=>{const{start:K,end:re}=$r(M,z),G=M.getMonth(),fe=u[N]||{},he=pe=>Object.entries(fe).filter(([ke,le])=>le===pe).map(([ke])=>{const[le,Ne,Re]=ke.split("-").map(Oe=>parseInt(Oe,10));return new Date(le,Ne-1,Re)}).filter(ke=>ke>=K&&ke<=re&&ke.getMonth()===G).map(ke=>`${ke.getMonth()+1}/${ke.getDate()}`).sort((ke,le)=>{const[Ne,Re]=ke.split("/").map(Je=>parseInt(Je,10)),[Oe,Ae]=le.split("/").map(Je=>parseInt(Je,10));return Ne!==Oe?Ne-Oe:Re-Ae});return{present:he("present"),absent:Object.entries(fe).filter(([pe,ke])=>ke==="absent").map(([pe])=>{const[ke,le,Ne]=pe.split("-").map(Re=>parseInt(Re,10));return new Date(ke,le-1,Ne)}).filter(pe=>pe>=K&&pe<=re&&pe.getMonth()===G).map(pe=>`${pe.getMonth()+1}/${pe.getDate()}`).sort((pe,ke)=>{const[le,Ne]=pe.split("/").map(Ae=>parseInt(Ae,10)),[Re,Oe]=ke.split("/").map(Ae=>parseInt(Ae,10));return le!==Re?le-Re:Ne-Oe}),makeup:he("makeup"),makeup_done:he("makeup_done")}},C=(N,M)=>{const z=N.getFullYear();return M.map(K=>{const[re,G]=K.split("/").map(fe=>parseInt(fe,10));return new Date(z,re-1,G)})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"수업 관리"}),i.jsx("p",{className:"text-muted-foreground",children:"진행 중인 수업과 전체 시간표를 관리합니다."})]}),i.jsxs($C,{value:e,onValueChange:t,children:[i.jsxs(FC,{children:[i.jsx(Ng,{value:"ongoing",children:"일별 수업"}),i.jsx(Ng,{value:"schedule",children:"주차별 수업"})]}),i.jsx(Cg,{value:"ongoing",className:"space-y-4",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs(Gt,{children:[i.jsx(mn,{children:i.jsxs(gn,{className:"flex items-center gap-2",children:[i.jsx($u,{className:"h-5 w-5"}),"날짜 선택"]})}),i.jsxs(on,{children:[i.jsx($d,{mode:"single",selected:r,modifiers:{present:()=>!1,absent:()=>!1,makeup:()=>!1,makeup_done:()=>!1},onSelect:N=>{N&&(o(N),Me(N))},numberOfMonths:1,defaultMonth:r,weekStartsOn:0,className:"rounded-md border"}),i.jsxs("div",{className:"mt-4 p-3 bg-primary/10 border border-primary/20 rounded-md",children:[i.jsx("p",{className:"text-sm font-medium text-primary",children:"선택된 날짜:"}),i.jsx("p",{className:"text-sm font-semibold text-primary mt-1",children:r&&gt(r,"yyyy년 MM월 dd일 (EEEE)",{locale:rn})})]})]})]})}),i.jsx("div",{className:"lg:col-span-2",children:A.length>0?i.jsx("div",{className:"space-y-4",children:A.sort((N,M)=>N.time.localeCompare(M.time)).map((N,M)=>i.jsx(zg,{classItem:N,selectedDate:r,getStatusOnDate:tr,getAttendanceDatesForCellByStatus:Ln,toggleAttendanceForSelectedDate:_r,openStudentDetail:Ze,toDateObjectsFromMonthDay:C,getDisplayStatus:z=>ht(z,r,N.class_id),getDisplayStatusForCell:(z,K)=>{const{start:re}=$r(r,K);return ht(z,re,N.class_id)},getAttendanceRecord:z=>$t(z,r,N.class_id),updateAttendanceNote:An,onClassUpdated:()=>Me(r)}))}):i.jsx(Gt,{children:i.jsxs(on,{className:"p-6 text-center",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"선택한 날짜에 진행 중인 수업이 없습니다."}),i.jsx(me,{onClick:()=>yt(r),disabled:p,className:"bg-primary hover:bg-primary/90",children:p?"생성 중...":"출석부 생성"})]})})})]})}),i.jsx(Cg,{value:"schedule",className:"w-full",children:i.jsxs(Gt,{className:"w-full",children:[i.jsx(mn,{children:i.jsx(gn,{children:"주차별 수업 시간표"})}),i.jsxs(on,{className:"w-full",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 text-sm font-medium",children:[i.jsx($u,{className:"h-4 w-4"})," 주차 선택"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("div",{children:i.jsx($d,{mode:"single",selected:a.start,onSelect:N=>{if(N){const M=er(N);c(M)}},numberOfMonths:1,defaultMonth:a.start,weekStartsOn:0,className:"rounded-md border",modifiers:{selected:N=>N>=a.start&&N<=a.end}})}),i.jsxs("div",{className:"p-3 bg-primary/5 border rounded-md h-fit",children:[i.jsx("div",{className:"text-sm text-primary font-semibold mb-1",children:"선택된 주차"}),i.jsx("div",{className:"text-sm",children:jt(a.start)}),i.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[a.start.toLocaleDateString("ko-KR",{month:"long",day:"numeric"})," ~ ",a.end.toLocaleDateString("ko-KR",{month:"long",day:"numeric"})]})]})]})]}),En.length>0?i.jsx("div",{className:"overflow-x-auto w-full",children:i.jsxs(Va,{className:"w-full",children:[i.jsx(qa,{children:i.jsxs(an,{children:[i.jsx(rt,{className:"w-24",children:"시간"}),["일요일","월요일","화요일","수요일","목요일","금요일","토요일"].map(N=>i.jsx(rt,{className:"text-center min-w-32",children:N},N))]})}),i.jsx(Ya,{children:En.map(N=>i.jsxs(an,{children:[i.jsx(Qe,{children:N.slice(0,5)}),["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].map((M,z)=>{const K=Bt(ln[z]),re=w.filter(G=>G.date===K&&G.time===N).sort((G,fe)=>G.group_type.toString().localeCompare(fe.group_type.toString()));return i.jsx(Qe,{className:"p-2",onContextMenu:G=>{G.preventDefault(),G.stopPropagation(),Q(null),Pe({x:G.clientX,y:G.clientY,date:K,time:N})},children:re.length>0?i.jsx("div",{className:"space-y-2",children:re.map(G=>i.jsx("div",{className:"p-2 rounded-lg border bg-card cursor-pointer hover:bg-accent/50 hover:shadow-md transition-all duration-200",onClick:()=>Lr(G),onContextMenu:fe=>{fe.preventDefault(),fe.stopPropagation(),Pe(null),Q({x:fe.clientX,y:fe.clientY,classId:G.class_id,hasStudents:G.students.length>0})},children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"font-medium text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"hover:text-primary transition-colors",children:gt(new Date(G.date),"MM/dd (E)",{locale:rn})}),i.jsx("span",{className:"hover:text-primary transition-colors",children:G.time?.slice(0,5)})]}),i.jsxs(Lt,{variant:"outline",className:"text-xs mt-1",children:[G.students.length,"명"]})]}),G.students.length>0?i.jsx("div",{className:"text-xs flex flex-col gap-1",children:G.students.map(fe=>i.jsxs("div",{className:`flex items-center gap-2 px-1 py-0.5 rounded ${(()=>{const he=fe.id,pe=K;return u[he]?.[pe]==="makeup"?"bg-blue-50":""})()}`,children:[fe.isTrial?i.jsx("span",{className:"font-medium text-blue-600 hover:text-blue-800 hover:underline cursor-pointer",onClick:he=>{he.stopPropagation(),Te(fe.id),ve(!0)},children:fe.name}):i.jsx("span",{className:`font-medium ${(()=>{const he=fe.id,pe=K,ke=u[he]?.[pe];return ke==="makeup"||ke==="absent"?"text-muted-foreground line-through":""})()}`,children:fe.name}),i.jsx(Lt,{type:"grade",children:fe.grade||""}),fe.isTrial?i.jsx(Lt,{type:"studenttype",className:"text-[10px] px-1 py-0",children:"체험"}):i.jsx(As,{level:fe.level,size:10,radius:2})]},fe.id))}):i.jsx("div",{className:"text-xs text-muted-foreground",children:"학생 없음"})]})},G.class_id))}):i.jsx("div",{className:"text-muted-foreground text-sm select-none",children:"-"})},M)})]},N))})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx("p",{className:"text-muted-foreground mb-4",children:"선택한 주차에 진행 중인 수업이 없습니다."}),i.jsx(me,{onClick:()=>Jt(a.start,a.end),disabled:p,className:"bg-primary hover:bg-primary/90",children:p?"생성 중...":"출석부 생성"})]})]})]})})]}),ge&&(()=>{const N=new Set(w.filter(z=>z.date===ge.date&&z.time===ge.time).map(z=>z.group_type)),M=["일반1","일반2","스페셜","체험"].filter(z=>!N.has(z));return i.jsxs("div",{style:{position:"fixed",top:ge.y,left:ge.x,zIndex:1e4},className:"bg-popover text-popover-foreground border rounded-md shadow-md p-2 w-44",onClick:z=>z.stopPropagation(),children:[i.jsxs("div",{className:"px-2 py-1.5 text-xs text-muted-foreground",children:["수업 추가 (",ge.time.slice(0,5),")"]}),i.jsx("div",{className:"h-px bg-border my-1"}),M.length>0?M.map(z=>i.jsxs("button",{className:"w-full text-left px-2 py-1 text-sm hover:bg-accent rounded",onClick:()=>yr(ge.date,ge.time,z),children:[z," 추가"]},z)):i.jsx("div",{className:"px-2 py-1 text-xs text-muted-foreground",children:"추가 가능한 그룹이 없습니다"})]})})(),de&&i.jsx("div",{style:{position:"fixed",top:de.y,left:de.x,zIndex:1e4},className:"bg-popover text-popover-foreground border rounded-md shadow-md p-2 w-36",onClick:N=>N.stopPropagation(),children:i.jsx("button",{className:`w-full text-left px-2 py-1 text-sm rounded ${de.hasStudents?"text-muted-foreground cursor-not-allowed":"hover:bg-accent text-destructive"}`,onClick:()=>{de.hasStudents||In(de.classId)},disabled:de.hasStudents,children:"수업 삭제"})}),i.jsx(St,{open:ze,onOpenChange:ne,children:i.jsx(_t,{type:"m",children:Ce&&De&&i.jsx(zg,{classItem:Ce,selectedDate:De,getStatusOnDate:tr,getAttendanceDatesForCellByStatus:Ln,toggleAttendanceForSelectedDate:_r,openStudentDetail:Ze,toDateObjectsFromMonthDay:C,onClassUpdated:()=>Ut(a.start,a.end)})})}),i.jsx(St,{open:b,onOpenChange:_,children:i.jsx(_t,{type:"m",children:i.jsxs("div",{className:"max-h-[90vh] flex flex-col min-h-0",children:[i.jsx(Ot,{className:"flex-shrink-0",children:i.jsx(Dt,{className:"text-m font-bold",children:"수업 학생 관리"})}),k&&i.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto",children:[i.jsx("div",{className:"p-4 bg-primary/5 border rounded-lg mb-4 flex-shrink-0",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-primary/10 rounded-full",children:i.jsx($u,{className:"h-5 w-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-semibold",children:gt(new Date(k.date),"yyyy년 MM월 dd일 (EEEE)",{locale:rn})}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[k.time," • 그룹 ",k.group_type]})]})]})}),i.jsx("div",{className:"h-10",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsxs("h3",{className:"text-lg font-semibold",children:["현재 등록된 학생 (",k.students.length,"명)"]})}),i.jsx("div",{className:"space-y-2 max-h-[40vh] overflow-y-auto overflow-x-hidden overscroll-contain touch-pan-y pr-2",style:{WebkitOverflowScrolling:"touch"},children:k.students.length>0?k.students.map(N=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-accent/50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-medium text-primary",children:N.name.charAt(0)})}),i.jsx("span",{className:"font-medium",children:N.name}),N.level&&i.jsx(As,{level:N.level,size:12,radius:2})]}),i.jsx(me,{variant:"outline",size:"sm",onClick:()=>Zn(N.id),className:"hover:bg-destructive hover:text-destructive-foreground text-xs px-3 py-1 h-8",children:"삭제"})]},N.id)):i.jsxs("div",{className:"p-6 text-center text-muted-foreground border-2 border-dashed rounded-lg",children:[i.jsx("div",{className:"text-lg mb-2",children:"📚"}),i.jsx("div",{className:"text-sm",children:"아직 등록된 학생이 없습니다"})]})})]}),i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsx("h3",{className:"text-lg font-semibold",children:"학생 추가"})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(He,{placeholder:"학생 이름으로 검색...",value:P,onChange:N=>E(N.target.value),className:"pl-10"}),i.jsx(Yd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}),i.jsx("div",{className:"border rounded-lg overflow-y-auto max-h-64",children:i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-muted/50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"이름"}),i.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"등록반"}),i.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"주당 횟수"}),i.jsx("th",{className:"text-left p-3 text-sm font-medium",children:"현재 레벨"}),i.jsx("th",{className:"text-right p-3 text-sm font-medium",children:"액션"})]})}),i.jsx("tbody",{children:B.filter(N=>N.name.toLowerCase().includes(P.toLowerCase())).filter(N=>!k.students.some(M=>M.id===N.id)).map(N=>i.jsxs("tr",{className:"border-b hover:bg-accent/50 transition-colors",children:[i.jsx("td",{className:"p-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-medium text-primary",children:N.name.charAt(0)})}),i.jsx("span",{className:"font-medium",children:N.name})]})}),i.jsx("td",{className:"p-3 text-sm text-muted-foreground",children:N.class_type?.category||"-"}),i.jsxs("td",{className:"p-3 text-sm text-muted-foreground",children:["주 ",N.class_type?.sessions_per_week||0,"회"]}),i.jsx("td",{className:"p-3",children:N.current_level&&i.jsx(As,{level:N.current_level,size:12,radius:2})}),i.jsx("td",{className:"p-3 text-right",children:i.jsx(me,{variant:"outline",size:"sm",onClick:()=>xr(N.id),className:"hover:bg-green-600 hover:text-white text-xs px-3 py-1 h-8",children:"추가"})})]},N.id))})]}),B.filter(N=>N.name.toLowerCase().includes(P.toLowerCase())&&!k.students.some(M=>M.id===N.id)).length===0&&i.jsxs("div",{className:"p-6 text-center text-muted-foreground",children:[i.jsx("div",{className:"text-lg mb-2",children:"🔍"}),i.jsx("div",{children:"추가 가능한 학생이 없습니다"})]})]})})]})]})]})}),i.jsx("div",{className:"flex justify-end gap-2 pt-4 border-t mt-4 flex-shrink-0",children:i.jsx(me,{variant:"outline",onClick:()=>_(!1),children:"닫기"})})]})]})})}),i.jsx(r0,{isOpen:R,onClose:()=>ie(!1),studentId:te}),i.jsx(Af,{isOpen:X,onClose:()=>{ve(!1),Te(null)},reservationId:ae})]})}function dO({isOpen:e,onClose:t,classTypes:r,onSaved:o}){const[a,c]=x.useState({name:"",birth_date:"",phone:"",class_type_id:"",gender:"남",status:"재원",shoe_size:""}),[u,f]=x.useState([]),[p,m]=x.useState({}),g=["월","화","수","목","금","토","일"],[y,w]=x.useState(!1),j=Sn.useMemo(()=>{if(!a)return null;const E=a.class_type_id?parseInt(a.class_type_id):NaN;return Number.isNaN(E)?null:r.find(T=>T.id===E)||null},[a,r]),b=Sn.useMemo(()=>{const E=new Set;let T=!1;for(const W of u){const A=`${W.weekday}-${W.time}-${W.group_type}`;if(E.has(A)){T=!0;break}E.add(A)}const L=j?.sessions_per_week,B=!!L&&u.length!==L;return{hasDuplicate:T,countMismatch:B,required:L??null}},[u,j]),_=()=>f(E=>[...E,{weekday:0,time:"00:00",group_type:"일반1"}]),k=E=>f(T=>T.filter((L,B)=>B!==E)),O=(E,T,L)=>f(B=>{const W=[...B];return W[E][T]=L,W}),P=async()=>{if(!a.name||!a.birth_date||!a.phone||!a.class_type_id){w(!0);return}if(!(b.hasDuplicate||b.countMismatch))try{const{data:E,error:T}=await se.from("students").insert({name:a.name,birth_date:a.birth_date,phone:a.phone,class_type_id:parseInt(a.class_type_id),gender:a.gender,status:a.status,shoe_size:a.shoe_size||null,registration_date:new Date().toISOString().slice(0,10)}).select().single();if(T)throw T;if(u.length>0){const W=u.map(q=>({student_id:E.id,weekday:q.weekday,time:q.time,group_type:q.group_type}));console.log("AddStudentModal - 삽입할 스케줄 데이터:",W);const{error:A}=await se.from("student_schedules").insert(W);if(A)throw console.error("AddStudentModal - 스케줄 삽입 에러:",A),A}const B=["WHITE","YELLOW","GREEN","BLUE","RED","BLACK","GOLD"].filter(W=>p[W]).map(W=>({student_id:E.id,level:W,acquired_date:p[W]}));if(B.length>0){const{error:W}=await se.from("student_levels").insert(B);if(W)throw W}o(),t(),c({name:"",birth_date:"",phone:"",class_type_id:"",gender:"남",status:"재원",shoe_size:""}),f([]),m({}),w(!1)}catch(E){console.error("학생 추가 실패:",E)}};return i.jsx(St,{open:e,onOpenChange:t,children:i.jsxs(_t,{type:"m",children:[i.jsx(Ot,{children:i.jsx(Dt,{children:"학생 추가"})}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 p-4 pt-2",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"text-xs text-muted-foreground",children:["이름 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(He,{value:a.name,onChange:E=>c(T=>({...T,name:E.target.value})),className:!a.name&&y?"border-red-300":"",placeholder:"학생 이름"}),!a.name&&y&&i.jsx("p",{className:"text-xs text-red-500",children:"이름을 입력해주세요"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-xs text-muted-foreground",children:["생년월일 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(He,{type:"date",inputMode:"numeric",value:a.birth_date,max:new Date().toISOString().slice(0,10),min:"2000-01-01",onChange:E=>{const T=(E.target.value||"").slice(0,10);c(L=>({...L,birth_date:T}))},className:!a.birth_date&&y?"border-red-300":""}),!a.birth_date&&y&&i.jsx("p",{className:"text-xs text-red-500",children:"생년월일을 선택해주세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"성별"}),i.jsxs("div",{className:"flex gap-2 mt-1",children:[i.jsx(me,{type:"button",variant:a.gender==="남"?"default":"outline",size:"sm",onClick:()=>c(E=>({...E,gender:"남"})),children:"남"}),i.jsx(me,{type:"button",variant:a.gender==="여"?"default":"outline",size:"sm",onClick:()=>c(E=>({...E,gender:"여"})),children:"여"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-xs text-muted-foreground",children:["전화번호 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(He,{value:a.phone,onChange:E=>c(T=>({...T,phone:E.target.value})),className:!a.phone&&y?"border-red-300":"",placeholder:"010-1234-5678"}),!a.phone&&y&&i.jsx("p",{className:"text-xs text-red-500",children:"전화번호를 입력해주세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"재원 상태"}),i.jsxs("select",{className:"w-full p-2 border rounded",value:a.status,onChange:E=>c(T=>({...T,status:E.target.value})),children:[i.jsx("option",{value:"재원",children:"재원"}),i.jsx("option",{value:"휴원",children:"휴원"}),i.jsx("option",{value:"퇴원",children:"퇴원"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"신발 사이즈"}),i.jsx(He,{placeholder:"mm",value:a.shoe_size,onChange:E=>c(T=>({...T,shoe_size:E.target.value}))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"text-xs text-muted-foreground",children:["등록반 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{className:`w-full p-2 border rounded ${!a.class_type_id&&y?"border-red-300":""}`,value:a.class_type_id,onChange:E=>c(T=>({...T,class_type_id:E.target.value})),children:[i.jsx("option",{value:"",children:"선택"}),r.map(E=>i.jsxs("option",{value:E.id,children:[E.category," 주 ",E.sessions_per_week,"회"]},E.id))]}),!a.class_type_id&&y&&i.jsx("p",{className:"text-xs text-red-500",children:"등록반을 선택해주세요"})]})]}),i.jsxs("div",{className:"px-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("div",{className:"text-sm font-medium",children:"수업 시간"}),i.jsx(me,{type:"button",variant:"outline",size:"sm",onClick:_,children:"시간 추가"})]}),b.hasDuplicate&&i.jsx("div",{className:"text-xs text-red-600 mb-2",children:"수업 시간이 중복되었습니다. 요일/시간/그룹이 동일한 항목이 있습니다."}),b.countMismatch&&i.jsxs("div",{className:"text-xs text-red-600 mb-2",children:["현재 선택한 반은 주 ",b.required,"회 수업입니다. 시간 수가 일치하지 않습니다."]}),i.jsxs("div",{className:"space-y-2",children:[u.map((E,T)=>i.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[i.jsx("select",{value:E.weekday,onChange:L=>O(T,"weekday",parseInt(L.target.value)),className:"p-1 text-sm border rounded",children:g.map((L,B)=>i.jsx("option",{value:B,children:L},B))}),i.jsx("select",{value:E.time,onChange:L=>O(T,"time",L.target.value),className:"p-1 text-sm border rounded",children:Array.from({length:24},(L,B)=>{const W=B.toString().padStart(2,"0");return i.jsxs("option",{value:`${W}:00`,children:[W,":00"]},B)})}),i.jsx("select",{value:E.group_type,onChange:L=>O(T,"group_type",L.target.value),className:"p-1 text-sm border rounded",children:["일반1","일반2","스페셜","체험"].map(L=>i.jsx("option",{value:L,children:L},L))}),i.jsx(me,{type:"button",variant:"outline",size:"sm",className:"text-red-600",onClick:()=>k(T),children:"삭제"})]},T)),u.length===0&&i.jsx("div",{className:"text-sm text-muted-foreground",children:"수업 시간을 추가해주세요"})]}),i.jsx("div",{className:"text-xs text-muted-foreground mt-2",children:"수업 시간 변경은 다음 출석부 생성부터 반영됩니다."})]}),i.jsxs("div",{className:"flex items-center justify-end gap-2 p-4 pt-2",children:[i.jsx(me,{variant:"outline",onClick:t,children:"취소"}),i.jsx(me,{onClick:P,disabled:!a.name||!a.birth_date||!a.phone||!a.class_type_id||b.hasDuplicate||b.countMismatch,children:"추가"})]})]})]})})}function fO(){const[e,t]=x.useState(""),[r,o]=x.useState([]),[a,c]=x.useState([]),[u,f]=x.useState(!1),[p,m]=x.useState(!1),[g,y]=x.useState(!1),[w,j]=x.useState(!1),[b,_]=x.useState(null),[k,O]=x.useState(!1),[P,E]=x.useState(null),[T,L]=x.useState(!0),[B,W]=x.useState("재원"),[A,q]=x.useState("all"),[Y,Z]=x.useState([]),[ce,we]=x.useState([]),[ge,Pe]=x.useState(""),[de,Q]=x.useState([]),[R,ie]=x.useState(!1),[te,F]=x.useState({}),[X,ve]=x.useState(!1),[ae,Te]=x.useState({payment_date:new Date().toISOString().slice(0,10),payment_month:new Date().toISOString().slice(0,7),total_amount:"",shoe_discount:"0",sibling_discount:"0",additional_discount:"0",payment_method:"account"}),[ze,ne]=x.useState([]),[Ce,Fe]=x.useState([]),[De,qe]=x.useState([]),[Ze,yt]=x.useState(!1),[Jt,Ut]=x.useState({name:"",gender:"남",birth_date:"",shoe_size:"",phone:"",registration_date:new Date().toISOString().split("T")[0],class_type_id:"",current_level:"",status:"재원"}),[Me,ht]=x.useState({name:"",gender:"남",birth_date:"",shoe_size:"",phone:"",registration_date:"",class_type_id:"",current_level:"",status:"재원"}),$t=async()=>{try{L(!0);const{data:C,error:N}=await se.from("students").select("*").order("created_at",{ascending:!1});if(N)throw N;const{data:M,error:z}=await se.from("class_types").select("*").order("sessions_per_week",{ascending:!0});if(z)throw z;const K=await Promise.all((C||[]).map(async he=>{const{data:pe}=await se.from("student_schedules").select("*").eq("student_id",he.id).order("created_at",{ascending:!0}),{data:ke}=await se.from("payments").select("payment_date, total_amount").eq("student_id",he.id).order("payment_date",{ascending:!1}).limit(1).maybeSingle();return{...he,schedules:pe||[],last_payment_date:ke?.payment_date||null,last_payment_amount:ke?.total_amount||null}}));o(K),c(M||[]);const{data:re}=await se.from("payments").select("student_id, payment_date, payment_month, total_amount").order("payment_date",{ascending:!1});we(re||[]);const G=new Date,fe=[{value:"all",label:"전체"}];for(let he=0;he<12;he++){const pe=new Date(G.getFullYear(),G.getMonth()-he,1),ke=`${pe.getFullYear()}-${String(pe.getMonth()+1).padStart(2,"0")}`,le=`${pe.getFullYear()}년 ${pe.getMonth()+1}월`;fe.push({value:ke,label:le})}Z(fe)}catch(C){console.error("학생 목록 로드 실패:",C),o([]),c([]),we([])}finally{L(!1)}},An=async C=>{try{const{data:N,error:M}=await se.from("student_levels").select("*").eq("student_id",C).order("acquired_date",{ascending:!0});if(M)throw M;Q(N||[])}catch(N){console.error("Error loading student levels:",N)}},Cn=async C=>{try{const{data:N,error:M}=await se.from("payments").select("*").eq("student_id",C).order("payment_date",{ascending:!1});if(M)throw M;ne(N||[])}catch(N){console.error("Error loading student payments:",N)}},ln=async C=>{try{const N=new Date,M=new Date(N.getFullYear(),N.getMonth(),1).toISOString().split("T")[0],z=new Date(N.getFullYear(),N.getMonth()+1,0).toISOString().split("T")[0],{data:K,error:re}=await se.from("attendance").select("*, classes:classes(date, time)").eq("student_id",C).gte("classes.date",M).lte("classes.date",z).order("classes.date",{ascending:!0});if(re)throw re;Fe(K||[])}catch(N){console.error("Error loading student attendance:",N)}};x.useEffect(()=>{$t()},[]);const Bt=C=>{if(!C)return"-";const N=a.find(M=>M.id===C);return N?`${N.category} 주 ${N.sessions_per_week}회`:"-"},En=x.useMemo(()=>{let C=r;return C=C.filter(N=>N.status!=="체험"),B==="재원"?C=C.filter(N=>N.status==="재원"):B==="휴원"?C=C.filter(N=>N.status==="휴원"):B==="퇴원"&&(C=C.filter(N=>N.status==="퇴원")),e&&(C=C.filter(N=>{const M=$a(N.name,e),z=N.phone.includes(e),K=$a(Bt(N.class_type_id),e);return M||z||K})),A!=="all"&&C.sort((N,M)=>{const z=ce.some(re=>re.student_id===N.id&&re.payment_month===A),K=ce.some(re=>re.student_id===M.id&&re.payment_month===A);return z&&!K?-1:!z&&K?1:N.name.localeCompare(M.name)}),C},[r,B,A,e,ce]),Lr=(C,N)=>{if(!N)return[];const M=a.find(K=>K.id===N);if(!M)return[];const z=[];return M.category==="키즈"?M.sessions_per_week===1?z.push({student_id:C,weekday:5,time:"11:00",group_type:"일반1"}):M.sessions_per_week===2?(z.push({student_id:C,weekday:5,time:"11:00",group_type:"일반1"}),z.push({student_id:C,weekday:6,time:"14:00",group_type:"일반1"})):M.sessions_per_week===3&&(z.push({student_id:C,weekday:0,time:"16:00",group_type:"일반1"}),z.push({student_id:C,weekday:2,time:"16:00",group_type:"일반1"}),z.push({student_id:C,weekday:4,time:"16:00",group_type:"일반1"})):M.category==="청소년"?M.sessions_per_week===1?z.push({student_id:C,weekday:5,time:"14:00",group_type:"일반1"}):M.sessions_per_week===2?(z.push({student_id:C,weekday:5,time:"14:00",group_type:"일반1"}),z.push({student_id:C,weekday:6,time:"17:00",group_type:"일반1"})):M.sessions_per_week===3&&(z.push({student_id:C,weekday:1,time:"17:00",group_type:"일반1"}),z.push({student_id:C,weekday:3,time:"17:00",group_type:"일반1"}),z.push({student_id:C,weekday:5,time:"17:00",group_type:"일반1"})):M.category==="여성"?M.sessions_per_week===1?z.push({student_id:C,weekday:5,time:"17:00",group_type:"일반1"}):M.sessions_per_week===2?(z.push({student_id:C,weekday:5,time:"17:00",group_type:"일반1"}),z.push({student_id:C,weekday:6,time:"20:00",group_type:"일반1"})):M.sessions_per_week===3&&(z.push({student_id:C,weekday:0,time:"20:00",group_type:"일반1"}),z.push({student_id:C,weekday:2,time:"20:00",group_type:"일반1"}),z.push({student_id:C,weekday:4,time:"20:00",group_type:"일반1"})):M.category==="스페셜"&&(M.sessions_per_week===1?z.push({student_id:C,weekday:5,time:"10:00",group_type:"일반1"}):M.sessions_per_week===2?(z.push({student_id:C,weekday:5,time:"10:00",group_type:"일반1"}),z.push({student_id:C,weekday:6,time:"13:00",group_type:"일반1"})):M.sessions_per_week===3&&(z.push({student_id:C,weekday:1,time:"13:00",group_type:"일반1"}),z.push({student_id:C,weekday:3,time:"13:00",group_type:"일반1"}),z.push({student_id:C,weekday:5,time:"13:00",group_type:"일반1"}))),z},yr=async()=>{if(!(!b||!Me.name||!Me.birth_date||!Me.phone))try{const C={name:Me.name,gender:Me.gender,birth_date:Me.birth_date,shoe_size:Me.shoe_size||null,phone:Me.phone,registration_date:Me.registration_date,class_type_id:Me.class_type_id?parseInt(Me.class_type_id):null,current_level:Me.current_level||null,status:Me.status};{const{error:M}=await se.from("students").update(C).eq("id",b.id);if(M)throw M}{const{error:M}=await se.from("student_schedules").delete().eq("student_id",b.id);if(M)throw M}const N=De.length>0?De.map(M=>({...M,student_id:b.id})):Lr(b.id,C.class_type_id);for(const M of N){const{error:z}=await se.from("student_schedules").insert(M);if(z)throw z}y(!1),qe([]),$t()}catch(C){console.error("Error updating student:",C)}},In=async()=>{if(!(!b||ge!==b.name))try{{const{error:C}=await se.from("students").update({status:"퇴원"}).eq("id",b.id);if(C)throw C}j(!1),Pe(""),m(!1),$t()}catch(C){console.error("Error deleting student:",C)}},xr=async C=>{_(C),await Promise.all([An(C.id),Cn(C.id),ln(C.id)]),m(!0)},Zn=async()=>{if(b)try{const{error:C}=await se.from("student_levels").delete().eq("student_id",b.id);if(C)throw C;const N=Object.entries(te).filter(([M,z])=>z.trim()!=="").map(([M,z])=>({student_id:b.id,level:M,acquired_date:z}));if(N.length>0){const{error:M}=await se.from("student_levels").insert(N);if(M)throw M}if(N.length>0){const z=N.sort((K,re)=>new Date(re.acquired_date).getTime()-new Date(K.acquired_date).getTime())[0].level;{const{error:K}=await se.from("students").update({current_level:z}).eq("id",b.id);if(K)throw K}}else{const{error:M}=await se.from("students").update({current_level:null}).eq("id",b.id);if(M)throw M}ie(!1),await An(b.id),$t()}catch(C){console.error("Error saving level history:",C)}},er=async()=>{if(!(!b||!ae.payment_date||!ae.total_amount||!ae.payment_month))try{const C=parseInt(ae.total_amount),N=parseInt(ae.shoe_discount)||0,M=parseInt(ae.sibling_discount)||0,z=parseInt(ae.additional_discount)||0,K=C-N-M-z,{error:re}=await se.from("payments").insert({student_id:b.id,payment_date:ae.payment_date,payment_month:ae.payment_month,total_amount:K,shoe_discount:N,sibling_discount:M,additional_discount:z,payment_method:ae.payment_method});if(re)throw re;ve(!1),Te({payment_date:new Date().toISOString().slice(0,10),payment_month:new Date().toISOString().slice(0,7),total_amount:"",shoe_discount:"0",sibling_discount:"0",additional_discount:"0",payment_method:"account"}),await Cn(b.id),$t()}catch(C){console.error("Error adding payment:",C)}},Ht=C=>{if(!C||C.length===0)return"-";const N=["월","화","수","목","금","토","일"];return C.map(M=>{const z=N[M.weekday],K=M.time.substring(0,2);return`${z}${K}`}).join(", ")},jt=({schedules:C,onChange:N})=>{const M=["월","화","수","목","금","토","일"],z=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"],K=()=>{N([...C,{weekday:0,time:"11:00",group_type:"일반1"}])},re=fe=>{N(C.filter((he,pe)=>pe!==fe))},G=(fe,he,pe)=>{const ke=[...C];ke[fe]={...ke[fe],[he]:pe},N(ke)};return i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"수업 시간"}),i.jsx(me,{type:"button",variant:"outline",size:"sm",onClick:K,children:"시간 추가"})]}),C.map((fe,he)=>i.jsxs("div",{className:"flex items-center gap-2 p-2 border rounded",children:[i.jsx("select",{value:fe.weekday,onChange:pe=>G(he,"weekday",parseInt(pe.target.value)),className:"flex-1 p-1 text-sm border rounded",children:M.map((pe,ke)=>i.jsx("option",{value:ke,children:pe},ke))}),i.jsx("select",{value:fe.time,onChange:pe=>G(he,"time",pe.target.value),className:"flex-1 p-1 text-sm border rounded",children:z.map(pe=>i.jsx("option",{value:pe,children:pe},pe))}),i.jsx("select",{value:fe.group_type,onChange:pe=>G(he,"group_type",pe.target.value),className:"w-16 p-1 text-sm border rounded",children:["일반1","일반2","스페셜","체험"].map(pe=>i.jsx("option",{value:pe,children:pe},pe))}),i.jsx(me,{type:"button",variant:"outline",size:"sm",onClick:()=>re(he),className:"text-red-500 hover:text-red-700",children:"삭제"})]},he)),C.length===0&&i.jsx("div",{className:"text-sm text-muted-foreground text-center py-2",children:"수업 시간을 추가해주세요"})]})},wr=[{value:"",label:"선택하세요"},{value:"WHITE",label:"WHITE"},{value:"YELLOW",label:"YELLOW"},{value:"GREEN",label:"GREEN"},{value:"BLUE",label:"BLUE"},{value:"RED",label:"RED"},{value:"BLACK",label:"BLACK"},{value:"GOLD",label:"GOLD"}],tr=[{value:"재원",label:"재원"},{value:"휴원",label:"휴원"},{value:"퇴원",label:"퇴원"}],_r=()=>{switch(B){case"all":return"전체";case"재원":return"재원";case"휴원":return"휴원";case"퇴원":return"퇴원";default:return"재원"}},$r=()=>{switch(B){case"all":return r.length;case"재원":return r.filter(C=>C.status==="재원").length;case"휴원":return r.filter(C=>C.status==="휴원").length;case"퇴원":return r.filter(C=>C.status==="퇴원").length;default:return 0}},Ln=(C,N,M)=>{if(M!=="재원")return!0;if(M==="재원"&&!C||!C)return!1;const z=a.find(G=>G.id===parseInt(C.toString()));if(!z||N.length!==z.sessions_per_week)return!1;const K=N.map(G=>`${G.weekday}-${G.time}`),re=new Set(K);return K.length===re.size};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"학생 관리"}),i.jsx("p",{className:"text-muted-foreground",children:"학생 정보를 관리합니다."})]}),i.jsxs(Gt,{children:[i.jsxs(mn,{children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs(gn,{children:["학생 목록 (",$r(),"명)"]}),i.jsx(me,{size:"sm",variant:"default",onClick:()=>f(!0),children:"학생 추가"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(Yd,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(He,{placeholder:"이름, 전화번호, 수강정보로 검색...",value:e,onChange:C=>t(C.target.value),className:"pl-8"})]}),e&&i.jsxs("span",{className:"text-sm text-muted-foreground",children:[En.length,"명 검색됨"]})]}),i.jsxs("div",{className:"flex items-center space-x-4 pt-4 border-t",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"상태:"}),i.jsxs(me,{variant:B==="all"?"default":"outline",size:"sm",onClick:()=>W("all"),children:[i.jsx(fd,{className:"w-4 h-4 mr-1"}),"전체"]}),i.jsxs(me,{variant:B==="재원"?"default":"outline",size:"sm",onClick:()=>W("재원"),children:[i.jsx(fd,{className:"w-4 h-4 mr-1"}),"재원"]}),i.jsxs(me,{variant:B==="휴원"?"default":"outline",size:"sm",onClick:()=>W("휴원"),children:[i.jsx(T_,{className:"w-4 h-4 mr-1"}),"휴원"]}),i.jsxs(me,{variant:B==="퇴원"?"default":"outline",size:"sm",onClick:()=>W("퇴원"),children:[i.jsx(K_,{className:"w-4 h-4 mr-1"}),"퇴원"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"월별결제:"}),i.jsx("select",{value:A,onChange:C=>q(C.target.value),className:"px-3 py-1 text-sm border rounded-md bg-white",children:Y.map(C=>i.jsx("option",{value:C.value,children:C.label},C.value))})]})]})]}),i.jsx(on,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Va,{children:[i.jsx(qa,{children:i.jsxs(an,{children:[i.jsx(rt,{children:"이름"}),i.jsx(rt,{children:"성별"}),i.jsx(rt,{children:"학년"}),i.jsx(rt,{children:"현재 레벨"}),i.jsx(rt,{children:"등록반"}),i.jsx(rt,{children:"수업시간"}),i.jsx(rt,{children:"전화번호"}),i.jsx(rt,{children:A==="all"?"최근결제일":`${A.split("-")[0]}년 ${A.split("-")[1]}월`}),i.jsx(rt,{children:"결제금액"}),i.jsx(rt,{children:"상태"})]})}),i.jsx(Ya,{children:T?i.jsx(an,{children:i.jsx(Qe,{colSpan:10,className:"text-center text-muted-foreground",children:"로딩 중..."})}):En.length>0?En.map(C=>i.jsxs(an,{className:`cursor-pointer hover:bg-accent ${C.status==="퇴원"?"opacity-60":""}`,onClick:()=>xr(C),children:[i.jsx(Qe,{children:C.name}),i.jsx(Qe,{children:C.gender}),i.jsx(Qe,{children:i.jsx(Lt,{type:"grade",children:$s(C.birth_date)})}),i.jsx(Qe,{children:C.current_level?i.jsx(As,{level:C.current_level}):"-"}),i.jsx(Qe,{children:Bt(C.class_type_id)}),i.jsx(Qe,{className:"font-mono text-sm",children:Ht(C.schedules)}),i.jsx(Qe,{children:C.phone}),i.jsx(Qe,{children:A==="all"?C.last_payment_date?i.jsx("div",{className:"text-sm",children:i.jsx("div",{className:"text-xs text-muted-foreground",children:C.last_payment_date})}):i.jsx("div",{className:"text-sm text-red-600 font-medium",children:"미결제"}):ce.some(M=>M.student_id===C.id&&M.payment_month===A)?i.jsx(Lt,{type:"color",className:"bg-green-100 text-green-800 border-green-300",children:"결제완료"}):i.jsx(Lt,{type:"color",className:"bg-red-100 text-red-800 border-red-300",children:"미결제"})}),i.jsx(Qe,{children:A==="all"?C.last_payment_amount?i.jsxs("div",{className:"font-medium",children:[C.last_payment_amount.toLocaleString(),"원"]}):i.jsx("div",{className:"text-muted-foreground",children:"-"}):(()=>{const N=ce.find(M=>M.student_id===C.id&&M.payment_month===A);return N?i.jsxs("div",{className:"font-medium",children:[N.total_amount.toLocaleString(),"원"]}):C.last_payment_amount?i.jsxs("div",{className:"text-muted-foreground text-sm",children:[C.last_payment_amount.toLocaleString(),"원"]}):i.jsx("div",{className:"text-muted-foreground",children:"-"})})()}),i.jsx(Qe,{children:i.jsx(Lt,{type:"studentstatus",children:C.status})})]},C.id)):i.jsx(an,{children:i.jsx(Qe,{colSpan:10,className:"text-center text-muted-foreground",children:e?"검색 결과가 없습니다.":`${_r()} 학생이 없습니다.`})})})]})})})]}),i.jsx(r0,{isOpen:p,onClose:()=>m(!1),studentId:b?.id??null}),i.jsx(St,{open:w,onOpenChange:j,children:i.jsxs(_t,{type:"s",children:[i.jsx(Ot,{children:i.jsx(Dt,{children:"학생 삭제 확인"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-muted-foreground",children:["정말로 ",i.jsx("strong",{children:b?.name})," 학생을 삭제하시겠습니까?"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"삭제를 확인하려면 학생의 이름을 정확히 입력해주세요."}),i.jsx(He,{placeholder:"학생 이름을 입력하세요",value:ge,onChange:C=>Pe(C.target.value)}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(me,{variant:"outline",onClick:()=>{j(!1),Pe("")},children:"취소"}),i.jsx(me,{variant:"destructive",onClick:In,disabled:ge!==b?.name,children:"삭제"})]})]})]})}),i.jsx(St,{open:g,onOpenChange:y,children:i.jsxs(_t,{type:"m",children:[i.jsx(Ot,{children:i.jsx(Dt,{children:"학생 정보 수정"})}),i.jsxs("p",{className:"text-sm text-black",children:[i.jsx("span",{className:"text-red-500 font-semibold",children:"*"})," 표시된 필드는 반드시 입력해야 합니다."]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("label",{className:"text-xs text-muted-foreground",children:["이름 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(He,{value:Me.name,onChange:C=>ht(N=>({...N,name:C.target.value})),className:Me.name?"":"border-red-300",placeholder:"학생 이름을 입력하세요"}),!Me.name&&i.jsx("p",{className:"text-xs text-red-500",children:"이름을 입력해주세요"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"성별"}),i.jsxs("select",{value:Me.gender,onChange:C=>ht(N=>({...N,gender:C.target.value})),className:"w-full p-2 border rounded",children:[i.jsx("option",{value:"남",children:"남"}),i.jsx("option",{value:"여",children:"여"})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("label",{className:"text-xs text-muted-foreground",children:["생년월일 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(He,{value:Me.birth_date,onChange:C=>ht(N=>({...N,birth_date:C.target.value})),type:"date",className:Me.birth_date?"":"border-red-300"}),!Me.birth_date&&i.jsx("p",{className:"text-xs text-red-500",children:"생년월일을 선택해주세요"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("label",{className:"text-xs text-muted-foreground",children:["전화번호 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(He,{value:Me.phone,onChange:C=>ht(N=>({...N,phone:C.target.value})),className:Me.phone?"":"border-red-300",placeholder:"010-1234-5678",type:"tel"}),!Me.phone&&i.jsx("p",{className:"text-xs text-red-500",children:"전화번호를 입력해주세요"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"신발 사이즈"}),i.jsx(He,{value:Me.shoe_size,onChange:C=>ht(N=>({...N,shoe_size:C.target.value})),placeholder:"220"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("label",{className:"text-xs text-muted-foreground",children:["등록반 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:Me.class_type_id,onChange:C=>ht(N=>({...N,class_type_id:C.target.value})),className:`w-full p-2 border rounded ${Me.class_type_id?"":"border-red-300"}`,children:[i.jsx("option",{value:"",children:"등록반을 선택하세요"}),a.map(C=>i.jsxs("option",{value:C.id,children:[C.category," 주 ",C.sessions_per_week,"회"]},C.id))]}),!Me.class_type_id&&i.jsx("p",{className:"text-xs text-red-500",children:"등록반을 선택해주세요"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"현재 레벨"}),i.jsx("select",{value:Me.current_level,onChange:C=>ht(N=>({...N,current_level:C.target.value})),className:"w-full p-2 border rounded",children:wr.map(C=>i.jsx("option",{value:C.value,children:C.label},C.value))})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs text-muted-foreground",children:"상태"}),i.jsx("select",{value:Me.status,onChange:C=>ht(N=>({...N,status:C.target.value})),className:"w-full p-2 border rounded",children:tr.map(C=>i.jsx("option",{value:C.value,children:C.label},C.value))})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx(jt,{schedules:De,onChange:qe}),Me.status==="재원"&&i.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:(()=>{if(!Me.class_type_id)return"⚠️ 재원 상태인 경우 등록반을 선택해야 합니다.";const C=a.find(M=>M.id===parseInt(Me.class_type_id));if(!C)return null;if(Ln(Me.class_type_id,De,Me.status))return`✅ ${C.category} 주 ${C.sessions_per_week}회에 맞는 수업 시간이 설정되었습니다.`;{let M=`⚠️ ${C.category} 주 ${C.sessions_per_week}회에 맞게 수업 시간을 설정해주세요.`;De.length!==C.sessions_per_week&&(M+=` (현재 ${De.length}개)`);const z=De.map(re=>`${re.weekday}-${re.time}`),K=new Set(z);return z.length!==K.size&&(M+=" - 중복된 시간이 있습니다."),M}})()})]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[i.jsx(me,{variant:"outline",onClick:()=>y(!1),children:"취소"}),i.jsx(me,{onClick:yr,disabled:!Me.name||!Me.birth_date||!Me.phone||!Ln(Me.class_type_id,De,Me.status),children:"수정"})]})]})}),i.jsx(St,{open:R,onOpenChange:ie,children:i.jsxs(_t,{type:"m",children:[i.jsx(Ot,{children:i.jsxs(Dt,{children:["레벨 이력 수정 - ",b?.name]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"각 레벨의 취득 날짜를 입력하세요. 빈 값으로 두면 해당 레벨을 취득하지 않은 것으로 처리됩니다."}),i.jsx("div",{className:"grid grid-cols-1 gap-3",children:["WHITE","YELLOW","GREEN","BLUE","RED","BLACK","GOLD"].map(C=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{style:{backgroundColor:C==="NONE"?"#e5e7eb":C==="WHITE"?"#ffffff":C==="YELLOW"?"#fde047":C==="GREEN"?"#86efac":C==="BLUE"?"#93c5fd":C==="RED"?"#fca5a5":C==="BLACK"?"#374151":C==="GOLD"?"#fbbf24":"#e5e7eb",border:C==="WHITE"?"1px solid #d1d5db":"none",width:"12px",height:"12px",borderRadius:"2px",display:"inline-block"}}),i.jsx(He,{type:"date",value:te[C]||"",onChange:N=>F(M=>({...M,[C]:N.target.value})),placeholder:"취득 날짜",className:"flex-1"})]},C))}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(me,{variant:"outline",onClick:()=>ie(!1),children:"취소"}),i.jsx(me,{onClick:Zn,children:"저장"})]})]})]})}),i.jsx(St,{open:X,onOpenChange:ve,children:i.jsxs(_t,{type:"s",children:[i.jsx(Ot,{children:i.jsxs(Dt,{children:["결제 내역 추가 - ",b?.name]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-muted-foreground",children:"결제일"}),i.jsx(He,{type:"date",value:ae.payment_date,onChange:C=>Te(N=>({...N,payment_date:C.target.value}))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-muted-foreground",children:"해당월"}),i.jsx(He,{type:"month",value:ae.payment_month,onChange:C=>Te(N=>({...N,payment_month:C.target.value}))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-muted-foreground",children:"결제 금액(정가)"}),i.jsx(He,{type:"number",placeholder:"예: 120000",value:ae.total_amount,onChange:C=>Te(N=>({...N,total_amount:C.target.value}))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-muted-foreground",children:"결제수단"}),i.jsxs("select",{value:ae.payment_method,onChange:C=>Te(N=>({...N,payment_method:C.target.value})),className:"w-full p-2 border rounded",children:[i.jsx("option",{value:"account",children:"계좌이체"}),i.jsx("option",{value:"card",children:"카드결제"}),i.jsx("option",{value:"voucher",children:"체육바우처"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-muted-foreground",children:"신발 할인"}),i.jsx(He,{type:"number",placeholder:"예: 10000",value:ae.shoe_discount,onChange:C=>Te(N=>({...N,shoe_discount:C.target.value}))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm text-muted-foreground",children:"형제자매 할인"}),i.jsx(He,{type:"number",placeholder:"예: 10000",value:ae.sibling_discount,onChange:C=>Te(N=>({...N,sibling_discount:C.target.value}))})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-sm text-muted-foreground",children:"추가 할인"}),i.jsx(He,{type:"number",placeholder:"예: 5000",value:ae.additional_discount,onChange:C=>Te(N=>({...N,additional_discount:C.target.value}))})]})]}),i.jsxs("div",{className:"p-3 rounded-md border bg-muted/30 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"정가"}),i.jsxs("span",{children:[parseInt(ae.total_amount)||0,"원"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"신발 할인"}),i.jsxs("span",{children:["- ",parseInt(ae.shoe_discount)||0,"원"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"형제자매 할인"}),i.jsxs("span",{children:["- ",parseInt(ae.sibling_discount)||0,"원"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"추가 할인"}),i.jsxs("span",{children:["- ",parseInt(ae.additional_discount)||0,"원"]})]}),i.jsxs("div",{className:"flex justify-between font-semibold pt-1 border-t mt-2",children:[i.jsx("span",{children:"실 결제액"}),i.jsxs("span",{children:[Math.max(0,(parseInt(ae.total_amount)||0)-(parseInt(ae.shoe_discount)||0)-(parseInt(ae.sibling_discount)||0)-(parseInt(ae.additional_discount)||0)),"원"]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(me,{variant:"outline",onClick:()=>ve(!1),children:"취소"}),i.jsx(me,{onClick:er,disabled:!ae.payment_date||!ae.total_amount||!ae.payment_month,children:"추가"})]})]})]})}),i.jsx(dO,{isOpen:u,onClose:()=>f(!1),classTypes:a,onSaved:$t})]})}function hO(){const[e,t]=x.useState([]),[r,o]=x.useState(!0),[a,c]=x.useState(!1),[u,f]=x.useState(""),[p,m]=x.useState(new Date().toISOString().slice(0,7)),[g,y]=x.useState({전체:!0,예정:!0,노쇼:!0,미등록:!0,등록:!0}),[w,j]=x.useState(!1),[b,_]=x.useState(null);x.useEffect(()=>{k()},[p]);const k=async()=>{try{o(!0);const{data:T,error:L}=await se.from("trial_reservations").select("*, classes:classes(id, date, time)").order("created_at",{ascending:!1});if(L)throw L;t(T||[])}catch(T){console.error("체험 예약 로드 실패:",T)}finally{o(!1)}},O=x.useMemo(()=>{const[T,L]=p.split("-").map(Z=>parseInt(Z,10)),B=new Date(T,L-1,1),W=new Date(T,L,0),A=Z=>{const ce=Z.classes?.date?new Date(Z.classes.date):new Date(Z.created_at);return ce>=B&&ce<=W},Y=e.filter(A).filter(Z=>g.전체||g[Z.status]);return u.trim()?Y.filter(Z=>{const ce=$a(Z.name,u),we=Z.phone.includes(u),ge=Z.grade?$a(Z.grade,u):!1;return ce||we||ge}):Y},[e,u,p,g]),P=x.useMemo(()=>{const T=O,L=T.length,B=T.filter(Y=>Y.status==="예정").length,W=T.filter(Y=>Y.status==="노쇼").length,A=T.filter(Y=>Y.status==="미등록").length,q=T.filter(Y=>Y.status==="등록").length;return{total:L,예정:B,노쇼:W,미등록:A,등록:q}},[O]),E=T=>{_(T),j(!0)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{children:"체험 관리"}),i.jsx("p",{className:"text-muted-foreground",children:"체험 수업 신청자들을 관리합니다."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"relative flex-1 max-w-sm",children:[i.jsx(Yd,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),i.jsx(He,{placeholder:"이름, 전화번호, 학년으로 검색...",value:u,onChange:T=>f(T.target.value),className:"pl-8"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"month",className:"border rounded px-2 py-1 text-sm",value:p,onChange:T=>m(T.target.value)}),i.jsxs(me,{onClick:()=>c(!0),children:[i.jsx(z_,{className:"w-4 h-4 mr-2"}),"체험 예약 등록"]}),i.jsx(s0,{isOpen:a,onClose:()=>c(!1),onAdded:k})]})]}),i.jsxs(Gt,{children:[i.jsx(mn,{children:i.jsxs(gn,{className:"flex items-center gap-3",children:[i.jsxs("span",{children:["체험 예약 목록 (",O.length,"건)"]}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["통계: 전체 ",P.total," / 예정 ",P.예정," · 노쇼 ",P.노쇼," · 미등록 ",P.미등록," · 등록 ",P.등록]})]})}),i.jsx(on,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs(Va,{children:[i.jsx(qa,{children:i.jsxs(an,{children:[i.jsx(rt,{children:"이름"}),i.jsx(rt,{children:"성별"}),i.jsx(rt,{children:"학년"}),i.jsx(rt,{children:"전화번호"}),i.jsx(rt,{children:"예약일"}),i.jsx(rt,{children:"수업 시간"}),i.jsx(rt,{children:"상태"})]})}),i.jsx(Ya,{children:r?i.jsx(an,{children:i.jsx(Qe,{colSpan:7,className:"text-center text-muted-foreground",children:"로딩 중..."})}):O.length>0?O.map(T=>i.jsxs(an,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>E(T.id),children:[i.jsx(Qe,{className:"font-medium",children:T.name}),i.jsx(Qe,{children:T.gender||"-"}),i.jsx(Qe,{children:T.grade||"-"}),i.jsx(Qe,{children:T.phone}),i.jsx(Qe,{children:T.classes?.date||"-"}),i.jsx(Qe,{children:T.classes?.time?T.classes.time.slice(0,5):"-"}),i.jsx(Qe,{children:i.jsx(Lt,{variant:"outline",type:"trialstatus",children:T.status})})]},T.id)):i.jsx(an,{children:i.jsx(Qe,{colSpan:7,className:"text-center text-muted-foreground",children:u?"검색 결과가 없습니다.":"체험 예약이 없습니다."})})})]})})})]})]}),i.jsx(Af,{reservationId:b,isOpen:w,onClose:()=>{j(!1),_(null)}})]})}var pO="Label",a0=x.forwardRef((e,t)=>i.jsx(Xe.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));a0.displayName=pO;var mO=a0;function gO({className:e,...t}){return i.jsx(mO,{"data-slot":"label",className:$e("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}function vO({onLogin:e}){const t="admin2@mongkids.local",[r,o]=x.useState(""),[a,c]=x.useState(""),[u,f]=x.useState(!1),p=async m=>{if(m.preventDefault(),c(""),!r.trim()){c("비밀번호를 입력해주세요.");return}f(!0);try{const{error:g}=await se.auth.signInWithPassword({email:t,password:r.trim()});if(g)throw g;e(!0)}catch(g){console.error("Auth error:",g),c("비밀번호가 올바르지 않습니다."),o("")}finally{f(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsxs(Gt,{style:{width:"20vw"},children:[i.jsxs(mn,{className:"text-center",children:[i.jsx(gn,{className:"text-2xl font-bold text-gray-900",children:"몽키즈클라이밍 고양화정점"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"로그인"})]}),i.jsx(on,{children:i.jsxs("form",{onSubmit:p,className:"space-y-4 h-full flex flex-col justify-center",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(gO,{htmlFor:"password",children:"비밀번호"}),i.jsx(He,{id:"password",type:"password",value:r,onChange:m=>o(m.target.value),placeholder:"비밀번호를 입력하세요",disabled:u,autoFocus:!0})]}),a&&i.jsx("div",{className:"text-sm",children:a}),i.jsx(me,{type:"submit",className:"w-full mt-4",disabled:u,children:u?"로그인 중...":"로그인"})]})})]})})}const yO=[{title:"메인",icon:M_,id:"main"},{title:"수업 관리",icon:y_,id:"classes"},{title:"학생 관리",icon:fd,id:"students"},{title:"체험 관리",icon:q_,id:"trial"}];function xO(){const[e,t]=x.useState("main"),[r,o]=x.useState(!1),[a,c]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const{data:{session:y}}=await se.auth.getSession(),w=localStorage.getItem("mongkids_auth"),j=localStorage.getItem("mongkids_auth_time"),b=1440*60*1e3,_=Date.now();y&&!j&&(localStorage.setItem("mongkids_auth","true"),localStorage.setItem("mongkids_auth_time",_.toString()));const k=localStorage.getItem("mongkids_auth_time"),O=k?_-parseInt(k)<b:!1;y&&O?o(!0):(y&&!O&&(await se.auth.signOut(),localStorage.removeItem("mongkids_auth"),localStorage.removeItem("mongkids_auth_time")),o(!1))}catch(y){console.error("Auth check error:",y),o(!1)}finally{c(!1)}})()},[]);const u=async()=>{try{const{data:{session:g}}=await se.auth.getSession();g||await se.auth.signInAnonymously()}catch(g){console.error("Supabase auth error:",g)}},f=async g=>{g&&(localStorage.setItem("mongkids_auth","true"),localStorage.setItem("mongkids_auth_time",Date.now().toString()),await u(),o(!0))},p=()=>{localStorage.removeItem("mongkids_auth"),localStorage.removeItem("mongkids_auth_time"),se.auth.signOut(),o(!1)},m=()=>{switch(e){case"main":return i.jsx(jg,{});case"classes":return i.jsx(uO,{});case"students":return i.jsx(fO,{});case"trial":return i.jsx(hO,{});default:return i.jsx(jg,{})}};return a?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx("div",{className:"text-center",children:i.jsx("div",{className:"text-lg",children:"로딩 중..."})})}):r?i.jsx(aj,{children:i.jsxs("div",{className:"flex min-h-screen w-full",children:[i.jsxs(ij,{children:[i.jsx(cj,{children:i.jsx("div",{className:"px-4 py-2",children:i.jsx("h2",{children:"몽키즈클라이밍 고양화정점"})})}),i.jsxs(uj,{children:[i.jsx(dj,{children:yO.map(g=>i.jsx(fj,{children:i.jsxs(pj,{onClick:()=>t(g.id),isActive:e===g.id,children:[i.jsx(g.icon,{className:"w-4 h-4"}),i.jsx("span",{children:g.title})]})},g.id))}),i.jsx("div",{className:"mt-auto p-4",children:i.jsxs(me,{variant:"outline",size:"sm",onClick:p,className:"w-full",children:[i.jsx(I_,{className:"w-4 h-4 mr-2"}),"로그아웃"]})})]})]}),i.jsxs("main",{className:"flex-1 p-6",children:[i.jsx("div",{className:"mb-4",children:i.jsx(lj,{})}),m()]})]})}):i.jsx(vO,{onLogin:f})}i_.createRoot(document.getElementById("root")).render(i.jsx(xO,{}));
